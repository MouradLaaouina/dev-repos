function Ug(f,d){for(var g=0;g<d.length;g++){const p=d[g];if(typeof p!="string"&&!Array.isArray(p)){for(const A in p)if(A!=="default"&&!(A in f)){const b=Object.getOwnPropertyDescriptor(p,A);b&&Object.defineProperty(f,A,b.get?b:{enumerable:!0,get:()=>p[A]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))p(A);new MutationObserver(A=>{for(const b of A)if(b.type==="childList")for(const T of b.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&p(T)}).observe(document,{childList:!0,subtree:!0});function g(A){const b={};return A.integrity&&(b.integrity=A.integrity),A.referrerPolicy&&(b.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?b.credentials="include":A.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function p(A){if(A.ep)return;A.ep=!0;const b=g(A);fetch(A.href,b)}})();var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var m0={exports:{}},Nl={};var Xd;function kg(){if(Xd)return Nl;Xd=1;var f=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function g(p,A,b){var T=null;if(b!==void 0&&(T=""+b),A.key!==void 0&&(T=""+A.key),"key"in A){b={};for(var M in A)M!=="key"&&(b[M]=A[M])}else b=A;return A=b.ref,{$$typeof:f,type:p,key:T,ref:A!==void 0?A:null,props:b}}return Nl.Fragment=d,Nl.jsx=g,Nl.jsxs=g,Nl}var Yd;function Fg(){return Yd||(Yd=1,m0.exports=kg()),m0.exports}var w=Fg(),p0={exports:{}},Ke={};var qd;function zg(){if(qd)return Ke;qd=1;var f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),re=Symbol.iterator;function ue(k){return k===null||typeof k!="object"?null:(k=re&&k[re]||k["@@iterator"],typeof k=="function"?k:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,fe={};function Me(k,te,be){this.props=k,this.context=te,this.refs=fe,this.updater=be||H}Me.prototype.isReactComponent={},Me.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},Me.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _e(){}_e.prototype=Me.prototype;function ce(k,te,be){this.props=k,this.context=te,this.refs=fe,this.updater=be||H}var Se=ce.prototype=new _e;Se.constructor=ce,Z(Se,Me.prototype),Se.isPureReactComponent=!0;var Ne=Array.isArray;function Ae(){}var ee={H:null,A:null,T:null,S:null},Ue=Object.prototype.hasOwnProperty;function ie(k,te,be){var Ce=be.ref;return{$$typeof:f,type:k,key:te,ref:Ce!==void 0?Ce:null,props:be}}function rt(k,te){return ie(k.type,te,k.props)}function $e(k){return typeof k=="object"&&k!==null&&k.$$typeof===f}function Ee(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(be){return te[be]})}var Ge=/\/+/g;function Ve(k,te){return typeof k=="object"&&k!==null&&k.key!=null?Ee(""+k.key):te.toString(36)}function J(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ae,Ae):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Y(k,te,be,Ce,he){var le=typeof k;(le==="undefined"||le==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(le){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case f:case d:ke=!0;break;case I:return ke=k._init,Y(ke(k._payload),te,be,Ce,he)}}if(ke)return he=he(k),ke=Ce===""?"."+Ve(k,0):Ce,Ne(he)?(be="",ke!=null&&(be=ke.replace(Ge,"$&/")+"/"),Y(he,te,be,"",function(Jt){return Jt})):he!=null&&($e(he)&&(he=rt(he,be+(he.key==null||k&&k.key===he.key?"":(""+he.key).replace(Ge,"$&/")+"/")+ke)),te.push(he)),1;ke=0;var qe=Ce===""?".":Ce+":";if(Ne(k))for(var Ye=0;Ye<k.length;Ye++)Ce=k[Ye],le=qe+Ve(Ce,Ye),ke+=Y(Ce,te,be,le,he);else if(Ye=ue(k),typeof Ye=="function")for(k=Ye.call(k),Ye=0;!(Ce=k.next()).done;)Ce=Ce.value,le=qe+Ve(Ce,Ye++),ke+=Y(Ce,te,be,le,he);else if(le==="object"){if(typeof k.then=="function")return Y(J(k),te,be,Ce,he);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(k,te,be){if(k==null)return k;var Ce=[],he=0;return Y(k,Ce,"","",function(le){return te.call(be,le,he++)}),Ce}function Oe(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(be){(k._status===0||k._status===-1)&&(k._status=1,k._result=be)},function(be){(k._status===0||k._status===-1)&&(k._status=2,k._result=be)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var ve=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Le={map:se,forEach:function(k,te,be){se(k,function(){te.apply(this,arguments)},be)},count:function(k){var te=0;return se(k,function(){te++}),te},toArray:function(k){return se(k,function(te){return te})||[]},only:function(k){if(!$e(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ke.Activity=L,Ke.Children=Le,Ke.Component=Me,Ke.Fragment=g,Ke.Profiler=A,Ke.PureComponent=ce,Ke.StrictMode=p,Ke.Suspense=B,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ee.H.useMemoCache(k)}},Ke.cache=function(k){return function(){return k.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(k,te,be){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Ce=Z({},k.props),he=k.key;if(te!=null)for(le in te.key!==void 0&&(he=""+te.key),te)!Ue.call(te,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&te.ref===void 0||(Ce[le]=te[le]);var le=arguments.length-2;if(le===1)Ce.children=be;else if(1<le){for(var ke=Array(le),qe=0;qe<le;qe++)ke[qe]=arguments[qe+2];Ce.children=ke}return ie(k.type,he,Ce)},Ke.createContext=function(k){return k={$$typeof:T,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:b,_context:k},k},Ke.createElement=function(k,te,be){var Ce,he={},le=null;if(te!=null)for(Ce in te.key!==void 0&&(le=""+te.key),te)Ue.call(te,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(he[Ce]=te[Ce]);var ke=arguments.length-2;if(ke===1)he.children=be;else if(1<ke){for(var qe=Array(ke),Ye=0;Ye<ke;Ye++)qe[Ye]=arguments[Ye+2];he.children=qe}if(k&&k.defaultProps)for(Ce in ke=k.defaultProps,ke)he[Ce]===void 0&&(he[Ce]=ke[Ce]);return ie(k,le,he)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(k){return{$$typeof:M,render:k}},Ke.isValidElement=$e,Ke.lazy=function(k){return{$$typeof:I,_payload:{_status:-1,_result:k},_init:Oe}},Ke.memo=function(k,te){return{$$typeof:S,type:k,compare:te===void 0?null:te}},Ke.startTransition=function(k){var te=ee.T,be={};ee.T=be;try{var Ce=k(),he=ee.S;he!==null&&he(be,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(Ae,ve)}catch(le){ve(le)}finally{te!==null&&be.types!==null&&(te.types=be.types),ee.T=te}},Ke.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ke.use=function(k){return ee.H.use(k)},Ke.useActionState=function(k,te,be){return ee.H.useActionState(k,te,be)},Ke.useCallback=function(k,te){return ee.H.useCallback(k,te)},Ke.useContext=function(k){return ee.H.useContext(k)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(k,te){return ee.H.useDeferredValue(k,te)},Ke.useEffect=function(k,te){return ee.H.useEffect(k,te)},Ke.useEffectEvent=function(k){return ee.H.useEffectEvent(k)},Ke.useId=function(){return ee.H.useId()},Ke.useImperativeHandle=function(k,te,be){return ee.H.useImperativeHandle(k,te,be)},Ke.useInsertionEffect=function(k,te){return ee.H.useInsertionEffect(k,te)},Ke.useLayoutEffect=function(k,te){return ee.H.useLayoutEffect(k,te)},Ke.useMemo=function(k,te){return ee.H.useMemo(k,te)},Ke.useOptimistic=function(k,te){return ee.H.useOptimistic(k,te)},Ke.useReducer=function(k,te,be){return ee.H.useReducer(k,te,be)},Ke.useRef=function(k){return ee.H.useRef(k)},Ke.useState=function(k){return ee.H.useState(k)},Ke.useSyncExternalStore=function(k,te,be){return ee.H.useSyncExternalStore(k,te,be)},Ke.useTransition=function(){return ee.H.useTransition()},Ke.version="19.2.0",Ke}var Zd;function L0(){return Zd||(Zd=1,p0.exports=zg()),p0.exports}var xe=L0(),y0={exports:{}},Tl={},b0={exports:{}},w0={};var Qd;function Hg(){return Qd||(Qd=1,(function(f){function d(Y,se){var Oe=Y.length;Y.push(se);e:for(;0<Oe;){var ve=Oe-1>>>1,Le=Y[ve];if(0<A(Le,se))Y[ve]=se,Y[Oe]=Le,Oe=ve;else break e}}function g(Y){return Y.length===0?null:Y[0]}function p(Y){if(Y.length===0)return null;var se=Y[0],Oe=Y.pop();if(Oe!==se){Y[0]=Oe;e:for(var ve=0,Le=Y.length,k=Le>>>1;ve<k;){var te=2*(ve+1)-1,be=Y[te],Ce=te+1,he=Y[Ce];if(0>A(be,Oe))Ce<Le&&0>A(he,be)?(Y[ve]=he,Y[Ce]=Oe,ve=Ce):(Y[ve]=be,Y[te]=Oe,ve=te);else if(Ce<Le&&0>A(he,Oe))Y[ve]=he,Y[Ce]=Oe,ve=Ce;else break e}}return se}function A(Y,se){var Oe=Y.sortIndex-se.sortIndex;return Oe!==0?Oe:Y.id-se.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;f.unstable_now=function(){return b.now()}}else{var T=Date,M=T.now();f.unstable_now=function(){return T.now()-M}}var B=[],S=[],I=1,L=null,re=3,ue=!1,H=!1,Z=!1,fe=!1,Me=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Se(Y){for(var se=g(S);se!==null;){if(se.callback===null)p(S);else if(se.startTime<=Y)p(S),se.sortIndex=se.expirationTime,d(B,se);else break;se=g(S)}}function Ne(Y){if(Z=!1,Se(Y),!H)if(g(B)!==null)H=!0,Ae||(Ae=!0,Ee());else{var se=g(S);se!==null&&J(Ne,se.startTime-Y)}}var Ae=!1,ee=-1,Ue=5,ie=-1;function rt(){return fe?!0:!(f.unstable_now()-ie<Ue)}function $e(){if(fe=!1,Ae){var Y=f.unstable_now();ie=Y;var se=!0;try{e:{H=!1,Z&&(Z=!1,_e(ee),ee=-1),ue=!0;var Oe=re;try{t:{for(Se(Y),L=g(B);L!==null&&!(L.expirationTime>Y&&rt());){var ve=L.callback;if(typeof ve=="function"){L.callback=null,re=L.priorityLevel;var Le=ve(L.expirationTime<=Y);if(Y=f.unstable_now(),typeof Le=="function"){L.callback=Le,Se(Y),se=!0;break t}L===g(B)&&p(B),Se(Y)}else p(B);L=g(B)}if(L!==null)se=!0;else{var k=g(S);k!==null&&J(Ne,k.startTime-Y),se=!1}}break e}finally{L=null,re=Oe,ue=!1}se=void 0}}finally{se?Ee():Ae=!1}}}var Ee;if(typeof ce=="function")Ee=function(){ce($e)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Ve=Ge.port2;Ge.port1.onmessage=$e,Ee=function(){Ve.postMessage(null)}}else Ee=function(){Me($e,0)};function J(Y,se){ee=Me(function(){Y(f.unstable_now())},se)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(Y){Y.callback=null},f.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<Y?Math.floor(1e3/Y):5},f.unstable_getCurrentPriorityLevel=function(){return re},f.unstable_next=function(Y){switch(re){case 1:case 2:case 3:var se=3;break;default:se=re}var Oe=re;re=se;try{return Y()}finally{re=Oe}},f.unstable_requestPaint=function(){fe=!0},f.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Oe=re;re=Y;try{return se()}finally{re=Oe}},f.unstable_scheduleCallback=function(Y,se,Oe){var ve=f.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?ve+Oe:ve):Oe=ve,Y){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Oe+Le,Y={id:I++,callback:se,priorityLevel:Y,startTime:Oe,expirationTime:Le,sortIndex:-1},Oe>ve?(Y.sortIndex=Oe,d(S,Y),g(B)===null&&Y===g(S)&&(Z?(_e(ee),ee=-1):Z=!0,J(Ne,Oe-ve))):(Y.sortIndex=Le,d(B,Y),H||ue||(H=!0,Ae||(Ae=!0,Ee()))),Y},f.unstable_shouldYield=rt,f.unstable_wrapCallback=function(Y){var se=re;return function(){var Oe=re;re=se;try{return Y.apply(this,arguments)}finally{re=Oe}}}})(w0)),w0}var Kd;function Pg(){return Kd||(Kd=1,b0.exports=Hg()),b0.exports}var A0={exports:{}},Ln={};var Wd;function Vg(){if(Wd)return Ln;Wd=1;var f=L0();function d(B){var S="https://react.dev/errors/"+B;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)S+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+B+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var p={d:{f:g,r:function(){throw Error(d(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},A=Symbol.for("react.portal");function b(B,S,I){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:L==null?null:""+L,children:B,containerInfo:S,implementation:I}}var T=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function M(B,S){if(B==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,Ln.createPortal=function(B,S){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(d(299));return b(B,S,null,I)},Ln.flushSync=function(B){var S=T.T,I=p.p;try{if(T.T=null,p.p=2,B)return B()}finally{T.T=S,p.p=I,p.d.f()}},Ln.preconnect=function(B,S){typeof B=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,p.d.C(B,S))},Ln.prefetchDNS=function(B){typeof B=="string"&&p.d.D(B)},Ln.preinit=function(B,S){if(typeof B=="string"&&S&&typeof S.as=="string"){var I=S.as,L=M(I,S.crossOrigin),re=typeof S.integrity=="string"?S.integrity:void 0,ue=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;I==="style"?p.d.S(B,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:L,integrity:re,fetchPriority:ue}):I==="script"&&p.d.X(B,{crossOrigin:L,integrity:re,fetchPriority:ue,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},Ln.preinitModule=function(B,S){if(typeof B=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var I=M(S.as,S.crossOrigin);p.d.M(B,{crossOrigin:I,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&p.d.M(B)},Ln.preload=function(B,S){if(typeof B=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var I=S.as,L=M(I,S.crossOrigin);p.d.L(B,I,{crossOrigin:L,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},Ln.preloadModule=function(B,S){if(typeof B=="string")if(S){var I=M(S.as,S.crossOrigin);p.d.m(B,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:I,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else p.d.m(B)},Ln.requestFormReset=function(B){p.d.r(B)},Ln.unstable_batchedUpdates=function(B,S){return B(S)},Ln.useFormState=function(B,S,I){return T.H.useFormState(B,S,I)},Ln.useFormStatus=function(){return T.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var Jd;function Gg(){if(Jd)return A0.exports;Jd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(d){console.error(d)}}return f(),A0.exports=Vg(),A0.exports}var $d;function Xg(){if($d)return Tl;$d=1;var f=Pg(),d=L0(),g=Gg();function p(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function b(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function T(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function M(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function B(e){if(b(e)!==e)throw Error(p(188))}function S(e){var n=e.alternate;if(!n){if(n=b(e),n===null)throw Error(p(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return B(h),e;if(m===o)return B(h),n;m=m.sibling}throw Error(p(188))}if(a.return!==o.return)a=h,o=m;else{for(var C=!1,O=h.child;O;){if(O===a){C=!0,a=h,o=m;break}if(O===o){C=!0,o=h,a=m;break}O=O.sibling}if(!C){for(O=m.child;O;){if(O===a){C=!0,a=m,o=h;break}if(O===o){C=!0,o=m,a=h;break}O=O.sibling}if(!C)throw Error(p(189))}}if(a.alternate!==o)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?e:n}function I(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=I(e),n!==null)return n;e=e.sibling}return null}var L=Object.assign,re=Symbol.for("react.element"),ue=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),Me=Symbol.for("react.profiler"),_e=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=$e&&e[$e]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Me:return"Profiler";case fe:return"StrictMode";case Ne:return"Suspense";case Ae:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ce:return e.displayName||"Context";case _e:return(e._context.displayName||"Context")+".Consumer";case Se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Ve(e.type)||"Memo";case Ue:n=e._payload,e=e._init;try{return Ve(e(n))}catch{}}return null}var J=Array.isArray,Y=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},ve=[],Le=-1;function k(e){return{current:e}}function te(e){0>Le||(e.current=ve[Le],ve[Le]=null,Le--)}function be(e,n){Le++,ve[Le]=e.current,e.current=n}var Ce=k(null),he=k(null),le=k(null),ke=k(null);function qe(e,n){switch(be(le,n),be(he,e),be(Ce,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gd(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gd(n),e=xd(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(Ce),be(Ce,e)}function Ye(){te(Ce),te(he),te(le)}function Jt(e){e.memoizedState!==null&&be(ke,e);var n=Ce.current,a=xd(n,e.type);n!==a&&(be(he,e),be(Ce,a))}function st(e){he.current===e&&(te(Ce),te(he)),ke.current===e&&(te(ke),El._currentValue=Oe)}var er,lt;function dn(e){if(er===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);er=n&&n[1]||"",lt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+e+lt}var Tn=!1;function tr(e,n){if(!e||Tn)return"";Tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var Q=ne}Reflect.construct(e,[],de)}else{try{de.call()}catch(ne){Q=ne}e.call(de.prototype)}}else{try{throw Error()}catch(ne){Q=ne}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&Q&&typeof ne.stack=="string")return[ne.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),C=m[0],O=m[1];if(C&&O){var j=C.split(`
`),q=O.split(`
`);for(h=o=0;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===j.length||h===q.length)for(o=j.length-1,h=q.length-1;1<=o&&0<=h&&j[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(j[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||j[o]!==q[h]){var ae=`
`+j[o].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=o&&0<=h);break}}}finally{Tn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?dn(a):""}function bn(e,n){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==n&&n!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return tr(e.type,!1);case 11:return tr(e.type.render,!1);case 1:return tr(e.type,!0);case 31:return dn("Activity");default:return""}}function _t(e){try{var n="",a=null;do n+=bn(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ot=Object.prototype.hasOwnProperty,Tr=f.unstable_scheduleCallback,De=f.unstable_cancelCallback,Pa=f.unstable_shouldYield,Ul=f.unstable_requestPaint,Wt=f.unstable_now,Ms=f.unstable_getCurrentPriorityLevel,Gn=f.unstable_ImmediatePriority,Bs=f.unstable_UserBlockingPriority,ni=f.unstable_NormalPriority,_n=f.unstable_LowPriority,Ls=f.unstable_IdlePriority,Va=f.log,Ac=f.unstable_setDisableYieldValue,Ht=null,we=null;function It(e){if(typeof Va=="function"&&Ac(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Ht,e)}catch{}}var et=Math.clz32?Math.clz32:js,Zt=Math.log,da=Math.LN2;function js(e){return e>>>=0,e===0?32:31-(Zt(e)/da|0)|0}var ha=256,dt=262144,mi=4194304;function zi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var O=o&134217727;return O!==0?(o=O&~m,o!==0?h=zi(o):(C&=O,C!==0?h=zi(C):a||(a=O&~e,a!==0&&(h=zi(a))))):(O=o&~m,O!==0?h=zi(O):C!==0?h=zi(C):a||(a=o&~e,a!==0&&(h=zi(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function On(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Us(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var e=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),e}function Hi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Pi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pi(e,n,a,o,h,m){var C=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var O=e.entanglements,j=e.expirationTimes,q=e.hiddenUpdates;for(a=C&~a;0<a;){var ae=31-et(a),de=1<<ae;O[ae]=0,j[ae]=-1;var Q=q[ae];if(Q!==null)for(q[ae]=null,ae=0;ae<Q.length;ae++){var ne=Q[ae];ne!==null&&(ne.lane&=-536870913)}a&=~de}o!==0&&kl(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(C&~n))}function kl(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-et(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Vi(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-et(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ga(e,n){var a=n&-n;return a=(a&42)!==0?1:vn(a),(a&(e.suspendedLanes|n))!==0?0:a}function vn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Un(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:kd(e.type))}function Te(e,n){var a=se.p;try{return se.p=e,n()}finally{se.p=a}}var kn=Math.random().toString(36).slice(2),sn="__reactFiber$"+kn,Ot="__reactProps$"+kn,ii="__reactContainer$"+kn,_r="__reactEvents$"+kn,Xa="__reactListeners$"+kn,yi="__reactHandles$"+kn,Fl="__reactResources$"+kn,xa="__reactMarker$"+kn;function Xn(e){delete e[sn],delete e[Ot],delete e[_r],delete e[Xa],delete e[yi]}function $t(e){var n=e[sn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ii]||a[sn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ed(e);e!==null;){if(a=e[sn])return a;e=Ed(e)}return n}e=a,a=e.parentNode}return null}function Et(e){if(e=e[sn]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Or(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(p(33))}function Fn(e){var n=e[Fl];return n||(n=e[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[xa]=!0}var ge=new Set,zl={};function vt(e,n){ri(e,n),ri(e+"Capture",n)}function ri(e,n){for(zl[e]=n,e=0;e<n.length;e++)ge.add(n[e])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yt={},pt={};function ct(e){return ot.call(pt,e)?!0:ot.call(yt,e)?!1:Ec.test(e)?pt[e]=!0:(yt[e]=!0,!1)}function Rr(e,n,a){if(ct(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Dr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ai(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Di(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cc(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(C){a=""+C,m.call(this,C)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(C){a=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Pt(e){if(!e._valueTracker){var n=Di(e)?"checked":"value";e._valueTracker=Cc(e,n,""+e[n])}}function Ii(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Di(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function at(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(e,n,a,o,h,m,C,O){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?R(e,C,bt(n)):a!=null?R(e,C,bt(a)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+bt(O):e.removeAttribute("name")}function G(e,n,a,o,h,m,C,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Pt(e);return}a=a!=null?""+bt(a):"",n=n!=null?""+bt(n):a,O||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=O?e.checked:!!o,e.defaultChecked=!!o,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Pt(e)}function R(e,n,a){n==="number"&&Ya(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Be(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+bt(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ln(e,n,a){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+bt(a):""}function zn(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(p(92));if(J(o)){if(1<o.length)throw Error(p(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=bt(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Pt(e)}function Mr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hn(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||ks.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Fe(e,n,a){if(n!=null&&typeof n!="object")throw Error(p(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Hn(e,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Hn(e,m,n[m])}function Ut(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(e){return Sc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var ma=null;function Fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vt=null,bi=null;function Mi(e){var n=Et(e);if(n&&(e=n.stateNode)){var a=e[Ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(hn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+at(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ot]||null;if(!h)throw Error(p(90));hn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Ii(o)}break e;case"textarea":ln(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Be(e,!!a.multiple,n,!1)}}}var He=!1;function Pl(e,n,a){if(He)return e(n,a);He=!0;try{var o=e(n);return o}finally{if(He=!1,(Vt!==null||bi!==null)&&(Bo(),Vt&&(n=Vt,e=bi,bi=Vt=null,Mi(n),e)))for(n=0;n<e.length;n++)Mi(e[n])}}function Ze(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ot]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p(231,n,typeof a));return a}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(kt)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){zs=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{zs=!1}var Bi=null,Li=null,qa=null;function Lr(){if(qa)return qa;var e,n=Li,a=n.length,o,h="value"in Bi?Bi.value:Bi.textContent,m=h.length;for(e=0;e<a&&n[e]===h[e];e++);var C=a-e;for(o=1;o<=C&&n[a-o]===h[m-o];o++);return qa=h.slice(e,1<o?1-o:void 0)}function Gi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function Hs(){return!1}function gn(e){function n(a,o,h,m,C){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(a=e[O],this[O]=a?a(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:Hs,this.isPropagationStopped=Hs,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=gn(si),jr=L({},si,{view:0,detail:0}),Vl=gn(jr),Za,Ps,pa,Qa=L({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(Za=e.screenX-pa.screenX,Ps=e.screenY-pa.screenY):Ps=Za=0,pa=e),Za)},movementY:function(e){return"movementY"in e?e.movementY:Ps}}),Ct=gn(Qa),Gl=L({},Qa,{dataTransfer:0}),Ka=gn(Gl),Yi=L({},jr,{relatedTarget:0}),Vs=gn(Yi),W=L({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),tt=gn(W),En=L({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wa=gn(En),Xl=L({},si,{data:0}),Yl=gn(Xl),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function on(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Gs[e])?!!n[e]:!1}function ya(){return on}var Qt=L({},jr,{key:function(e){if(e.key){var n=vc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ja=gn(Qt),ir=L({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nt=gn(ir),Pe=L({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),Tc=gn(Pe),Ft=L({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),rr=gn(Ft),Ur=L({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_c=gn(Ur),wi=L({},si,{newState:0,oldState:0}),Xs=gn(wi),ql=[9,13,27,32],ba=kt&&"CompositionEvent"in window,kr=null;kt&&"documentMode"in document&&(kr=document.documentMode);var Zl=kt&&"TextEvent"in window&&!kr,Ql=kt&&(!ba||kr&&8<kr&&11>=kr),ar=" ",$a=!1;function Kl(e,n){switch(e){case"keyup":return ql.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function qi(e,n){switch(e){case"compositionend":return Fr(n);case"keypress":return n.which!==32?null:($a=!0,ar);case"textInput":return e=n.data,e===ar&&$a?null:e;default:return null}}function es(e,n){if(zr)return e==="compositionend"||!ba&&Kl(e,n)?(e=Lr(),qa=Li=Bi=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ql&&n.locale!=="ko"?null:n.data;default:return null}}var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ys(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qn[e.type]:n==="textarea"}function li(e,n,a,o){Vt?bi?bi.push(o):bi=[o]:Vt=o,n=Ho(n,"onChange"),0<n.length&&(a=new An("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var wa=null,sr=null;function Oc(e){od(e,0)}function Aa(e){var n=Or(e);if(Ii(n))return e}function oi(e,n){if(e==="change")return n}var Wl=!1;if(kt){var Ea;if(kt){var lr="oninput"in document;if(!lr){var ht=document.createElement("div");ht.setAttribute("oninput","return;"),lr=typeof ht.oninput=="function"}Ea=lr}else Ea=!1;Wl=Ea&&(!document.documentMode||9<document.documentMode)}function Ca(){wa&&(wa.detachEvent("onpropertychange",v),sr=wa=null)}function v(e){if(e.propertyName==="value"&&Aa(sr)){var n=[];li(n,sr,e,Fs(e)),Pl(Oc,n)}}function t(e,n,a){e==="focusin"?(Ca(),wa=n,sr=a,wa.attachEvent("onpropertychange",v)):e==="focusout"&&Ca()}function i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Aa(sr)}function r(e,n){if(e==="click")return Aa(n)}function s(e,n){if(e==="input"||e==="change")return Aa(n)}function l(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:l;function u(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ot.call(n,h)||!c(e[h],n[h]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,n){var a=x(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=x(a)}}function E(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?E(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ya(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ya(e.document)}return n}function _(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D=kt&&"documentMode"in document&&11>=document.documentMode,U=null,F=null,V=null,K=!1;function ye(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;K||U==null||U!==Ya(o)||(o=U,"selectionStart"in o&&_(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),V&&u(V,o)||(V=o,o=Ho(F,"onSelect"),0<o.length&&(n=new An("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=U)))}function pe(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var me={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},it={},Qe={};kt&&(Qe=document.createElement("div").style,"AnimationEvent"in window||(delete me.animationend.animation,delete me.animationiteration.animation,delete me.animationstart.animation),"TransitionEvent"in window||delete me.transitionend.transition);function tn(e){if(it[e])return it[e];if(!me[e])return e;var n=me[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qe)return it[e]=n[a];return e}var Zn=tn("animationend"),Rn=tn("animationiteration"),Tt=tn("animationstart"),Cn=tn("transitionrun"),Pn=tn("transitionstart"),Hr=tn("transitioncancel"),or=tn("transitionend"),Jl=new Map,qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qs.push("scrollEnd");function ji(e,n){Jl.set(e,n),vt(n,[e])}var $l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ai=[],ts=0,Rc=0;function eo(){for(var e=ts,n=Rc=ts=0;n<e;){var a=Ai[n];Ai[n++]=null;var o=Ai[n];Ai[n++]=null;var h=Ai[n];Ai[n++]=null;var m=Ai[n];if(Ai[n++]=null,o!==null&&h!==null){var C=o.pending;C===null?h.next=h:(h.next=C.next,C.next=h),o.pending=h}m!==0&&P0(a,h,m)}}function to(e,n,a,o){Ai[ts++]=e,Ai[ts++]=n,Ai[ts++]=a,Ai[ts++]=o,Rc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dc(e,n,a,o){return to(e,n,a,o),no(e)}function Sa(e,n){return to(e,null,null,n),no(e)}function P0(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&n!==null&&(h=31-et(a),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function no(e){if(50<xl)throw xl=0,zu=null,Error(p(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ns={};function w2(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(e,n,a,o){return new w2(e,n,a,o)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cr(e,n){var a=e.alternate;return a===null?(a=ci(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function V0(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function io(e,n,a,o,h,m){var C=0;if(o=e,typeof e=="function")Ic(e)&&(C=1);else if(typeof e=="string")C=vg(e,a,Ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=ci(31,a,n,h),e.elementType=ie,e.lanes=m,e;case Z:return va(a.children,h,m,n);case fe:C=8,h|=24;break;case Me:return e=ci(12,a,n,h|2),e.elementType=Me,e.lanes=m,e;case Ne:return e=ci(13,a,n,h),e.elementType=Ne,e.lanes=m,e;case Ae:return e=ci(19,a,n,h),e.elementType=Ae,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:C=10;break e;case _e:C=9;break e;case Se:C=11;break e;case ee:C=14;break e;case Ue:C=16,o=null;break e}C=29,a=Error(p(130,e===null?"null":typeof e,"")),o=null}return n=ci(C,a,n,h),n.elementType=e,n.type=o,n.lanes=m,n}function va(e,n,a,o){return e=ci(7,e,o,n),e.lanes=a,e}function Mc(e,n,a){return e=ci(6,e,null,n),e.lanes=a,e}function G0(e){var n=ci(18,null,null,0);return n.stateNode=e,n}function Bc(e,n,a){return n=ci(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var X0=new WeakMap;function Ei(e,n){if(typeof e=="object"&&e!==null){var a=X0.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_t(n)},X0.set(e,n),n)}return{value:e,source:n,stack:_t(n)}}var is=[],rs=0,ro=null,Zs=0,Ci=[],Si=0,Pr=null,Zi=1,Qi="";function ur(e,n){is[rs++]=Zs,is[rs++]=ro,ro=e,Zs=n}function Y0(e,n,a){Ci[Si++]=Zi,Ci[Si++]=Qi,Ci[Si++]=Pr,Pr=e;var o=Zi;e=Qi;var h=32-et(o)-1;o&=~(1<<h),a+=1;var m=32-et(n)+h;if(30<m){var C=h-h%5;m=(o&(1<<C)-1).toString(32),o>>=C,h-=C,Zi=1<<32-et(n)+h|a<<h|o,Qi=m+e}else Zi=1<<m|a<<h|o,Qi=e}function Lc(e){e.return!==null&&(ur(e,1),Y0(e,1,0))}function jc(e){for(;e===ro;)ro=is[--rs],is[rs]=null,Zs=is[--rs],is[rs]=null;for(;e===Pr;)Pr=Ci[--Si],Ci[Si]=null,Qi=Ci[--Si],Ci[Si]=null,Zi=Ci[--Si],Ci[Si]=null}function q0(e,n){Ci[Si++]=Zi,Ci[Si++]=Qi,Ci[Si++]=Pr,Zi=n.id,Qi=n.overflow,Pr=e}var Dn=null,Gt=null,mt=!1,Vr=null,vi=!1,Uc=Error(p(519));function Gr(e){var n=Error(p(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qs(Ei(n,e)),Uc}function Z0(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[sn]=e,n[Ot]=o,a){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)ft(pl[a],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":ft("invalid",n),G(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ft("invalid",n);break;case"textarea":ft("invalid",n),zn(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||dd(n.textContent,a)?(o.popover!=null&&(ft("beforetoggle",n),ft("toggle",n)),o.onScroll!=null&&ft("scroll",n),o.onScrollEnd!=null&&ft("scrollend",n),o.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Gr(e,!0)}function Q0(e){for(Dn=e.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:Dn=Dn.return}}function as(e){if(e!==Dn)return!1;if(!mt)return Q0(e),mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||t0(e.type,e.memoizedProps)),a=!a),a&&Gt&&Gr(e),Q0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Gt=Ad(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Gt=Ad(e)}else n===27?(n=Gt,ra(e.type)?(e=s0,s0=null,Gt=e):Gt=n):Gt=Dn?Ti(e.stateNode.nextSibling):null;return!0}function Na(){Gt=Dn=null,mt=!1}function kc(){var e=Vr;return e!==null&&(Jn===null?Jn=e:Jn.push.apply(Jn,e),Vr=null),e}function Qs(e){Vr===null?Vr=[e]:Vr.push(e)}var Fc=k(null),Ta=null,fr=null;function Xr(e,n,a){be(Fc,n._currentValue),n._currentValue=a}function dr(e){e._currentValue=Fc.current,te(Fc)}function zc(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Hc(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var C=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var j=0;j<n.length;j++)if(O.context===n[j]){m.lanes|=a,O=m.alternate,O!==null&&(O.lanes|=a),zc(m.return,a,e),o||(C=null);break e}m=O.next}}else if(h.tag===18){if(C=h.return,C===null)throw Error(p(341));C.lanes|=a,m=C.alternate,m!==null&&(m.lanes|=a),zc(C,a,e),C=null}else C=h.child;if(C!==null)C.return=h;else for(C=h;C!==null;){if(C===e){C=null;break}if(h=C.sibling,h!==null){h.return=C.return,C=h;break}C=C.return}h=C}}function ss(e,n,a,o){e=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var C=h.alternate;if(C===null)throw Error(p(387));if(C=C.memoizedProps,C!==null){var O=h.type;c(h.pendingProps.value,C.value)||(e!==null?e.push(O):e=[O])}}else if(h===ke.current){if(C=h.alternate,C===null)throw Error(p(387));C.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&Hc(n,e,a,o),n.flags|=262144}function ao(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){Ta=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function In(e){return K0(Ta,e)}function so(e,n){return Ta===null&&_a(e),K0(e,n)}function K0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(p(308));fr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fr=fr.next=n;return a}var A2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},E2=f.unstable_scheduleCallback,C2=f.unstable_NormalPriority,xn={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new A2,data:new Map,refCount:0}}function Ks(e){e.refCount--,e.refCount===0&&E2(C2,function(){e.controller.abort()})}var Ws=null,Vc=0,ls=0,os=null;function S2(e,n){if(Ws===null){var a=Ws=[];Vc=0,ls=Yu(),os={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Vc++,n.then(W0,W0),n}function W0(){if(--Vc===0&&Ws!==null){os!==null&&(os.status="fulfilled");var e=Ws;Ws=null,ls=0,os=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function v2(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var J0=Y.S;Y.S=function(e,n){jf=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&S2(e,n),J0!==null&&J0(e,n)};var Oa=k(null);function Gc(){var e=Oa.current;return e!==null?e:zt.pooledCache}function lo(e,n){n===null?be(Oa,Oa.current):be(Oa,n.pool)}function $0(){var e=Gc();return e===null?null:{parent:xn._currentValue,pool:e}}var cs=Error(p(460)),Xc=Error(p(474)),oo=Error(p(542)),co={then:function(){}};function e1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function t1(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,i1(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=zt,e!==null&&100<e.shellSuspendCounter)throw Error(p(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,i1(e),e}throw Da=n,cs}}function Ra(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Da=a,cs):a}}var Da=null;function n1(){if(Da===null)throw Error(p(459));var e=Da;return Da=null,e}function i1(e){if(e===cs||e===oo)throw Error(p(483))}var us=null,Js=0;function uo(e){var n=Js;return Js+=1,us===null&&(us=[]),t1(us,e,n)}function $s(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fo(e,n){throw n.$$typeof===re?Error(p(525)):(e=Object.prototype.toString.call(n),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function r1(e){function n(P,z){if(e){var X=P.deletions;X===null?(P.deletions=[z],P.flags|=16):X.push(z)}}function a(P,z){if(!e)return null;for(;z!==null;)n(P,z),z=z.sibling;return null}function o(P){for(var z=new Map;P!==null;)P.key!==null?z.set(P.key,P):z.set(P.index,P),P=P.sibling;return z}function h(P,z){return P=cr(P,z),P.index=0,P.sibling=null,P}function m(P,z,X){return P.index=X,e?(X=P.alternate,X!==null?(X=X.index,X<z?(P.flags|=67108866,z):X):(P.flags|=67108866,z)):(P.flags|=1048576,z)}function C(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function O(P,z,X,oe){return z===null||z.tag!==6?(z=Mc(X,P.mode,oe),z.return=P,z):(z=h(z,X),z.return=P,z)}function j(P,z,X,oe){var ze=X.type;return ze===Z?ae(P,z,X.props.children,oe,X.key):z!==null&&(z.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ue&&Ra(ze)===z.type)?(z=h(z,X.props),$s(z,X),z.return=P,z):(z=io(X.type,X.key,X.props,null,P.mode,oe),$s(z,X),z.return=P,z)}function q(P,z,X,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Bc(X,P.mode,oe),z.return=P,z):(z=h(z,X.children||[]),z.return=P,z)}function ae(P,z,X,oe,ze){return z===null||z.tag!==7?(z=va(X,P.mode,oe,ze),z.return=P,z):(z=h(z,X),z.return=P,z)}function de(P,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Mc(""+z,P.mode,X),z.return=P,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ue:return X=io(z.type,z.key,z.props,null,P.mode,X),$s(X,z),X.return=P,X;case H:return z=Bc(z,P.mode,X),z.return=P,z;case Ue:return z=Ra(z),de(P,z,X)}if(J(z)||Ee(z))return z=va(z,P.mode,X,null),z.return=P,z;if(typeof z.then=="function")return de(P,uo(z),X);if(z.$$typeof===ce)return de(P,so(P,z),X);fo(P,z)}return null}function Q(P,z,X,oe){var ze=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ze!==null?null:O(P,z,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ue:return X.key===ze?j(P,z,X,oe):null;case H:return X.key===ze?q(P,z,X,oe):null;case Ue:return X=Ra(X),Q(P,z,X,oe)}if(J(X)||Ee(X))return ze!==null?null:ae(P,z,X,oe,null);if(typeof X.then=="function")return Q(P,z,uo(X),oe);if(X.$$typeof===ce)return Q(P,z,so(P,X),oe);fo(P,X)}return null}function ne(P,z,X,oe,ze){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return P=P.get(X)||null,O(z,P,""+oe,ze);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ue:return P=P.get(oe.key===null?X:oe.key)||null,j(z,P,oe,ze);case H:return P=P.get(oe.key===null?X:oe.key)||null,q(z,P,oe,ze);case Ue:return oe=Ra(oe),ne(P,z,X,oe,ze)}if(J(oe)||Ee(oe))return P=P.get(X)||null,ae(z,P,oe,ze,null);if(typeof oe.then=="function")return ne(P,z,X,uo(oe),ze);if(oe.$$typeof===ce)return ne(P,z,X,so(z,oe),ze);fo(z,oe)}return null}function Ie(P,z,X,oe){for(var ze=null,wt=null,je=z,nt=z=0,xt=null;je!==null&&nt<X.length;nt++){je.index>nt?(xt=je,je=null):xt=je.sibling;var At=Q(P,je,X[nt],oe);if(At===null){je===null&&(je=xt);break}e&&je&&At.alternate===null&&n(P,je),z=m(At,z,nt),wt===null?ze=At:wt.sibling=At,wt=At,je=xt}if(nt===X.length)return a(P,je),mt&&ur(P,nt),ze;if(je===null){for(;nt<X.length;nt++)je=de(P,X[nt],oe),je!==null&&(z=m(je,z,nt),wt===null?ze=je:wt.sibling=je,wt=je);return mt&&ur(P,nt),ze}for(je=o(je);nt<X.length;nt++)xt=ne(je,P,nt,X[nt],oe),xt!==null&&(e&&xt.alternate!==null&&je.delete(xt.key===null?nt:xt.key),z=m(xt,z,nt),wt===null?ze=xt:wt.sibling=xt,wt=xt);return e&&je.forEach(function(ca){return n(P,ca)}),mt&&ur(P,nt),ze}function Xe(P,z,X,oe){if(X==null)throw Error(p(151));for(var ze=null,wt=null,je=z,nt=z=0,xt=null,At=X.next();je!==null&&!At.done;nt++,At=X.next()){je.index>nt?(xt=je,je=null):xt=je.sibling;var ca=Q(P,je,At.value,oe);if(ca===null){je===null&&(je=xt);break}e&&je&&ca.alternate===null&&n(P,je),z=m(ca,z,nt),wt===null?ze=ca:wt.sibling=ca,wt=ca,je=xt}if(At.done)return a(P,je),mt&&ur(P,nt),ze;if(je===null){for(;!At.done;nt++,At=X.next())At=de(P,At.value,oe),At!==null&&(z=m(At,z,nt),wt===null?ze=At:wt.sibling=At,wt=At);return mt&&ur(P,nt),ze}for(je=o(je);!At.done;nt++,At=X.next())At=ne(je,P,nt,At.value,oe),At!==null&&(e&&At.alternate!==null&&je.delete(At.key===null?nt:At.key),z=m(At,z,nt),wt===null?ze=At:wt.sibling=At,wt=At);return e&&je.forEach(function(jg){return n(P,jg)}),mt&&ur(P,nt),ze}function Lt(P,z,X,oe){if(typeof X=="object"&&X!==null&&X.type===Z&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case ue:e:{for(var ze=X.key;z!==null;){if(z.key===ze){if(ze=X.type,ze===Z){if(z.tag===7){a(P,z.sibling),oe=h(z,X.props.children),oe.return=P,P=oe;break e}}else if(z.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ue&&Ra(ze)===z.type){a(P,z.sibling),oe=h(z,X.props),$s(oe,X),oe.return=P,P=oe;break e}a(P,z);break}else n(P,z);z=z.sibling}X.type===Z?(oe=va(X.props.children,P.mode,oe,X.key),oe.return=P,P=oe):(oe=io(X.type,X.key,X.props,null,P.mode,oe),$s(oe,X),oe.return=P,P=oe)}return C(P);case H:e:{for(ze=X.key;z!==null;){if(z.key===ze)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){a(P,z.sibling),oe=h(z,X.children||[]),oe.return=P,P=oe;break e}else{a(P,z);break}else n(P,z);z=z.sibling}oe=Bc(X,P.mode,oe),oe.return=P,P=oe}return C(P);case Ue:return X=Ra(X),Lt(P,z,X,oe)}if(J(X))return Ie(P,z,X,oe);if(Ee(X)){if(ze=Ee(X),typeof ze!="function")throw Error(p(150));return X=ze.call(X),Xe(P,z,X,oe)}if(typeof X.then=="function")return Lt(P,z,uo(X),oe);if(X.$$typeof===ce)return Lt(P,z,so(P,X),oe);fo(P,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(a(P,z.sibling),oe=h(z,X),oe.return=P,P=oe):(a(P,z),oe=Mc(X,P.mode,oe),oe.return=P,P=oe),C(P)):a(P,z)}return function(P,z,X,oe){try{Js=0;var ze=Lt(P,z,X,oe);return us=null,ze}catch(je){if(je===cs||je===oo)throw je;var wt=ci(29,je,null,P.mode);return wt.lanes=oe,wt.return=P,wt}finally{}}}var Ia=r1(!0),a1=r1(!1),Yr=!1;function Yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(St&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=no(e),P0(e,null,a),n}return to(e,o,n,a),no(e)}function el(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Vi(e,a)}}function Zc(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var C={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=C:m=m.next=C,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Qc=!1;function tl(){if(Qc){var e=os;if(e!==null)throw e}}function nl(e,n,a,o){Qc=!1;var h=e.updateQueue;Yr=!1;var m=h.firstBaseUpdate,C=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var j=O,q=j.next;j.next=null,C===null?m=q:C.next=q,C=j;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,O=ae.lastBaseUpdate,O!==C&&(O===null?ae.firstBaseUpdate=q:O.next=q,ae.lastBaseUpdate=j))}if(m!==null){var de=h.baseState;C=0,ae=q=j=null,O=m;do{var Q=O.lane&-536870913,ne=Q!==O.lane;if(ne?(gt&Q)===Q:(o&Q)===Q){Q!==0&&Q===ls&&(Qc=!0),ae!==null&&(ae=ae.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ie=e,Xe=O;Q=n;var Lt=a;switch(Xe.tag){case 1:if(Ie=Xe.payload,typeof Ie=="function"){de=Ie.call(Lt,de,Q);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Xe.payload,Q=typeof Ie=="function"?Ie.call(Lt,de,Q):Ie,Q==null)break e;de=L({},de,Q);break e;case 2:Yr=!0}}Q=O.callback,Q!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=h.callbacks,ne===null?h.callbacks=[Q]:ne.push(Q))}else ne={lane:Q,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ae===null?(q=ae=ne,j=de):ae=ae.next=ne,C|=Q;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);ae===null&&(j=de),h.baseState=j,h.firstBaseUpdate=q,h.lastBaseUpdate=ae,m===null&&(h.shared.lanes=0),$r|=C,e.lanes=C,e.memoizedState=de}}function s1(e,n){if(typeof e!="function")throw Error(p(191,e));e.call(n)}function l1(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)s1(a[e],n)}var fs=k(null),ho=k(0);function o1(e,n){e=Ar,be(ho,e),be(fs,n),Ar=e|n.baseLanes}function Kc(){be(ho,Ar),be(fs,fs.current)}function Wc(){Ar=ho.current,te(fs),te(ho)}var ui=k(null),Ni=null;function Qr(e){var n=e.alternate;be(cn,cn.current&1),be(ui,e),Ni===null&&(n===null||fs.current!==null||n.memoizedState!==null)&&(Ni=e)}function Jc(e){be(cn,cn.current),be(ui,e),Ni===null&&(Ni=e)}function c1(e){e.tag===22?(be(cn,cn.current),be(ui,e),Ni===null&&(Ni=e)):Kr()}function Kr(){be(cn,cn.current),be(ui,ui.current)}function fi(e){te(ui),Ni===e&&(Ni=null),te(cn)}var cn=k(0);function go(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||r0(a)||a0(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hr=0,We=null,Mt=null,mn=null,xo=!1,ds=!1,Ma=!1,mo=0,il=0,hs=null,N2=0;function nn(){throw Error(p(321))}function $c(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!c(e[a],n[a]))return!1;return!0}function eu(e,n,a,o,h,m){return hr=m,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Y1:xu,Ma=!1,m=a(o,h),Ma=!1,ds&&(m=f1(n,a,o,h)),u1(e),m}function u1(e){Y.H=sl;var n=Mt!==null&&Mt.next!==null;if(hr=0,mn=Mt=We=null,xo=!1,il=0,hs=null,n)throw Error(p(300));e===null||pn||(e=e.dependencies,e!==null&&ao(e)&&(pn=!0))}function f1(e,n,a,o){We=e;var h=0;do{if(ds&&(hs=null),il=0,ds=!1,25<=h)throw Error(p(301));if(h+=1,mn=Mt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=q1,m=n(a,o)}while(ds);return m}function T2(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?rl(n):n,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(We.flags|=1024),n}function tu(){var e=mo!==0;return mo=0,e}function nu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function iu(e){if(xo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xo=!1}hr=0,mn=Mt=We=null,ds=!1,il=mo=0,hs=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?We.memoizedState=mn=e:mn=mn.next=e,mn}function un(){if(Mt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var n=mn===null?We.memoizedState:mn.next;if(n!==null)mn=n,Mt=e;else{if(e===null)throw We.alternate===null?Error(p(467)):Error(p(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},mn===null?We.memoizedState=mn=e:mn=mn.next=e}return mn}function po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var n=il;return il+=1,hs===null&&(hs=[]),e=t1(hs,e,n),n=We,(mn===null?n.memoizedState:mn.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Y1:xu),e}function yo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===ce)return In(e)}throw Error(p(438,String(e)))}function ru(e){var n=null,a=We.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=po(),We.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=rt;return n.index++,a}function gr(e,n){return typeof n=="function"?n(e):n}function bo(e){var n=un();return au(n,Mt,e)}function au(e,n,a){var o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=a;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var C=h.next;h.next=m.next,m.next=C}n.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{n=h.next;var O=C=null,j=null,q=n,ae=!1;do{var de=q.lane&-536870913;if(de!==q.lane?(gt&de)===de:(hr&de)===de){var Q=q.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),de===ls&&(ae=!0);else if((hr&Q)===Q){q=q.next,Q===ls&&(ae=!0);continue}else de={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(O=j=de,C=m):j=j.next=de,We.lanes|=Q,$r|=Q;de=q.action,Ma&&a(m,de),m=q.hasEagerState?q.eagerState:a(m,de)}else Q={lane:de,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(O=j=Q,C=m):j=j.next=Q,We.lanes|=de,$r|=de;q=q.next}while(q!==null&&q!==n);if(j===null?C=m:j.next=O,!c(m,e.memoizedState)&&(pn=!0,ae&&(a=os,a!==null)))throw a;e.memoizedState=m,e.baseState=C,e.baseQueue=j,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function su(e){var n=un(),a=n.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var C=h=h.next;do m=e(m,C.action),C=C.next;while(C!==h);c(m,n.memoizedState)||(pn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function d1(e,n,a){var o=We,h=un(),m=mt;if(m){if(a===void 0)throw Error(p(407));a=a()}else a=n();var C=!c((Mt||h).memoizedState,a);if(C&&(h.memoizedState=a,pn=!0),h=h.queue,cu(x1.bind(null,o,h,e),[e]),h.getSnapshot!==n||C||mn!==null&&mn.memoizedState.tag&1){if(o.flags|=2048,gs(9,{destroy:void 0},g1.bind(null,o,h,a,n),null),zt===null)throw Error(p(349));m||(hr&127)!==0||h1(o,n,a)}return a}function h1(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=We.updateQueue,n===null?(n=po(),We.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function g1(e,n,a,o){n.value=a,n.getSnapshot=o,m1(n)&&p1(e)}function x1(e,n,a){return a(function(){m1(n)&&p1(e)})}function m1(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!c(e,a)}catch{return!0}}function p1(e){var n=Sa(e,2);n!==null&&$n(n,e,2)}function lu(e){var n=Vn();if(typeof e=="function"){var a=e;if(e=a(),Ma){It(!0);try{a()}finally{It(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},n}function y1(e,n,a,o){return e.baseState=a,au(e,Mt,typeof o=="function"?o:gr)}function _2(e,n,a,o,h){if(Eo(e))throw Error(p(485));if(e=n.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};Y.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,b1(n,m)):(m.next=a.next,n.pending=a.next=m)}}function b1(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var m=Y.T,C={};Y.T=C;try{var O=a(h,o),j=Y.S;j!==null&&j(C,O),w1(e,n,O)}catch(q){ou(e,n,q)}finally{m!==null&&C.types!==null&&(m.types=C.types),Y.T=m}}else try{m=a(h,o),w1(e,n,m)}catch(q){ou(e,n,q)}}function w1(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){A1(e,n,o)},function(o){return ou(e,n,o)}):A1(e,n,a)}function A1(e,n,a){n.status="fulfilled",n.value=a,E1(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,b1(e,a)))}function ou(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,E1(n),n=n.next;while(n!==o)}e.action=null}function E1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function C1(e,n){return n}function S1(e,n){if(mt){var a=zt.formState;if(a!==null){e:{var o=We;if(mt){if(Gt){t:{for(var h=Gt,m=vi;h.nodeType!==8;){if(!m){h=null;break t}if(h=Ti(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Gt=Ti(h.nextSibling),o=h.data==="F!";break e}}Gr(o)}o=!1}o&&(n=a[0])}}return a=Vn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:n},a.queue=o,a=V1.bind(null,We,o),o.dispatch=a,o=lu(!1),m=gu.bind(null,We,!1,o.queue),o=Vn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=_2.bind(null,We,h,m,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function v1(e){var n=un();return N1(n,Mt,e)}function N1(e,n,a){if(n=au(e,n,C1)[0],e=bo(gr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=rl(n)}catch(C){throw C===cs?oo:C}else o=n;n=un();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(We.flags|=2048,gs(9,{destroy:void 0},O2.bind(null,h,a),null)),[o,m,e]}function O2(e,n){e.action=n}function T1(e){var n=un(),a=Mt;if(a!==null)return N1(n,a,e);un(),n=n.memoizedState,a=un();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function gs(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=We.updateQueue,n===null&&(n=po(),We.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function _1(){return un().memoizedState}function wo(e,n,a,o){var h=Vn();We.flags|=e,h.memoizedState=gs(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ao(e,n,a,o){var h=un();o=o===void 0?null:o;var m=h.memoizedState.inst;Mt!==null&&o!==null&&$c(o,Mt.memoizedState.deps)?h.memoizedState=gs(n,m,a,o):(We.flags|=e,h.memoizedState=gs(1|n,m,a,o))}function O1(e,n){wo(8390656,8,e,n)}function cu(e,n){Ao(2048,8,e,n)}function R2(e){We.flags|=4;var n=We.updateQueue;if(n===null)n=po(),We.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function R1(e){var n=un().memoizedState;return R2({ref:n,nextImpl:e}),function(){if((St&2)!==0)throw Error(p(440));return n.impl.apply(void 0,arguments)}}function D1(e,n){return Ao(4,2,e,n)}function I1(e,n){return Ao(4,4,e,n)}function M1(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function B1(e,n,a){a=a!=null?a.concat([e]):null,Ao(4,4,M1.bind(null,n,e),a)}function uu(){}function L1(e,n){var a=un();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&$c(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function j1(e,n){var a=un();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&$c(n,o[1]))return o[0];if(o=e(),Ma){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[o,n],o}function fu(e,n,a){return a===void 0||(hr&1073741824)!==0&&(gt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=kf(),We.lanes|=e,$r|=e,a)}function U1(e,n,a,o){return c(a,n)?a:fs.current!==null?(e=fu(e,a,o),c(e,n)||(pn=!0),e):(hr&42)===0||(hr&1073741824)!==0&&(gt&261930)===0?(pn=!0,e.memoizedState=a):(e=kf(),We.lanes|=e,$r|=e,n)}function k1(e,n,a,o,h){var m=se.p;se.p=m!==0&&8>m?m:8;var C=Y.T,O={};Y.T=O,gu(e,!1,n,a);try{var j=h(),q=Y.S;if(q!==null&&q(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ae=v2(j,o);al(e,n,ae,gi(e))}else al(e,n,o,gi(e))}catch(de){al(e,n,{then:function(){},status:"rejected",reason:de},gi())}finally{se.p=m,C!==null&&O.types!==null&&(C.types=O.types),Y.T=C}}function D2(){}function du(e,n,a,o){if(e.tag!==5)throw Error(p(476));var h=F1(e).queue;k1(e,h,n,Oe,a===null?D2:function(){return z1(e),a(o)})}function F1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:Oe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function z1(e){var n=F1(e);n.next===null&&(n=e.alternate.memoizedState),al(e,n.next.queue,{},gi())}function hu(){return In(El)}function H1(){return un().memoizedState}function P1(){return un().memoizedState}function I2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=gi();e=qr(a);var o=Zr(n,e,a);o!==null&&($n(o,n,a),el(o,n,a)),n={cache:Pc()},e.payload=n;return}n=n.return}}function M2(e,n,a){var o=gi();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Eo(e)?G1(n,a):(a=Dc(e,n,a,o),a!==null&&($n(a,e,o),X1(a,n,o)))}function V1(e,n,a){var o=gi();al(e,n,a,o)}function al(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eo(e))G1(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var C=n.lastRenderedState,O=m(C,a);if(h.hasEagerState=!0,h.eagerState=O,c(O,C))return to(e,n,h,0),zt===null&&eo(),!1}catch{}finally{}if(a=Dc(e,n,h,o),a!==null)return $n(a,e,o),X1(a,n,o),!0}return!1}function gu(e,n,a,o){if(o={lane:2,revertLane:Yu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eo(e)){if(n)throw Error(p(479))}else n=Dc(e,a,o,2),n!==null&&$n(n,e,2)}function Eo(e){var n=e.alternate;return e===We||n!==null&&n===We}function G1(e,n){ds=xo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function X1(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Vi(e,a)}}var sl={readContext:In,use:yo,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};sl.useEffectEvent=nn;var Y1={readContext:In,use:yo,useCallback:function(e,n){return Vn().memoizedState=[e,n===void 0?null:n],e},useContext:In,useEffect:O1,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,wo(4194308,4,M1.bind(null,n,e),a)},useLayoutEffect:function(e,n){return wo(4194308,4,e,n)},useInsertionEffect:function(e,n){wo(4,2,e,n)},useMemo:function(e,n){var a=Vn();n=n===void 0?null:n;var o=e();if(Ma){It(!0);try{e()}finally{It(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Vn();if(a!==void 0){var h=a(n);if(Ma){It(!0);try{a(n)}finally{It(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=M2.bind(null,We,e),[o.memoizedState,e]},useRef:function(e){var n=Vn();return e={current:e},n.memoizedState=e},useState:function(e){e=lu(e);var n=e.queue,a=V1.bind(null,We,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:uu,useDeferredValue:function(e,n){var a=Vn();return fu(a,e,n)},useTransition:function(){var e=lu(!1);return e=k1.bind(null,We,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=We,h=Vn();if(mt){if(a===void 0)throw Error(p(407));a=a()}else{if(a=n(),zt===null)throw Error(p(349));(gt&127)!==0||h1(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,O1(x1.bind(null,o,m,e),[e]),o.flags|=2048,gs(9,{destroy:void 0},g1.bind(null,o,m,a,n),null),a},useId:function(){var e=Vn(),n=zt.identifierPrefix;if(mt){var a=Qi,o=Zi;a=(o&~(1<<32-et(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=mo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=N2++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hu,useFormState:S1,useActionState:S1,useOptimistic:function(e){var n=Vn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=gu.bind(null,We,!0,a),a.dispatch=n,[e,n]},useMemoCache:ru,useCacheRefresh:function(){return Vn().memoizedState=I2.bind(null,We)},useEffectEvent:function(e){var n=Vn(),a={impl:e};return n.memoizedState=a,function(){if((St&2)!==0)throw Error(p(440));return a.impl.apply(void 0,arguments)}}},xu={readContext:In,use:yo,useCallback:L1,useContext:In,useEffect:cu,useImperativeHandle:B1,useInsertionEffect:D1,useLayoutEffect:I1,useMemo:j1,useReducer:bo,useRef:_1,useState:function(){return bo(gr)},useDebugValue:uu,useDeferredValue:function(e,n){var a=un();return U1(a,Mt.memoizedState,e,n)},useTransition:function(){var e=bo(gr)[0],n=un().memoizedState;return[typeof e=="boolean"?e:rl(e),n]},useSyncExternalStore:d1,useId:H1,useHostTransitionStatus:hu,useFormState:v1,useActionState:v1,useOptimistic:function(e,n){var a=un();return y1(a,Mt,e,n)},useMemoCache:ru,useCacheRefresh:P1};xu.useEffectEvent=R1;var q1={readContext:In,use:yo,useCallback:L1,useContext:In,useEffect:cu,useImperativeHandle:B1,useInsertionEffect:D1,useLayoutEffect:I1,useMemo:j1,useReducer:su,useRef:_1,useState:function(){return su(gr)},useDebugValue:uu,useDeferredValue:function(e,n){var a=un();return Mt===null?fu(a,e,n):U1(a,Mt.memoizedState,e,n)},useTransition:function(){var e=su(gr)[0],n=un().memoizedState;return[typeof e=="boolean"?e:rl(e),n]},useSyncExternalStore:d1,useId:H1,useHostTransitionStatus:hu,useFormState:T1,useActionState:T1,useOptimistic:function(e,n){var a=un();return Mt!==null?y1(a,Mt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ru,useCacheRefresh:P1};q1.useEffectEvent=R1;function mu(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pu={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=gi(),h=qr(o);h.payload=n,a!=null&&(h.callback=a),n=Zr(e,h,o),n!==null&&($n(n,e,o),el(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=gi(),h=qr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Zr(e,h,o),n!==null&&($n(n,e,o),el(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=gi(),o=qr(a);o.tag=2,n!=null&&(o.callback=n),n=Zr(e,o,a),n!==null&&($n(n,e,a),el(n,e,a))}};function Z1(e,n,a,o,h,m,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,C):n.prototype&&n.prototype.isPureReactComponent?!u(a,o)||!u(h,m):!0}function Q1(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&pu.enqueueReplaceState(n,n.state,null)}function Ba(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=L({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function K1(e){$l(e)}function W1(e){console.error(e)}function J1(e){$l(e)}function Co(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $1(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yu(e,n,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Co(e,n)},a}function ef(e){return e=qr(e),e.tag=3,e}function tf(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){$1(n,a,o)}}var C=a.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){$1(n,a,o),typeof h!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})})}function B2(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ss(n,a,h,!0),a=ui.current,a!==null){switch(a.tag){case 31:case 13:return Ni===null?Lo():a.alternate===null&&rn===0&&(rn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===co?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Vu(e,o,h)),!1;case 22:return a.flags|=65536,o===co?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Vu(e,o,h)),!1}throw Error(p(435,a.tag))}return Vu(e,o,h),Lo(),!1}if(mt)return n=ui.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Uc&&(e=Error(p(422),{cause:o}),Qs(Ei(e,a)))):(o!==Uc&&(n=Error(p(423),{cause:o}),Qs(Ei(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ei(o,a),h=yu(e.stateNode,o,h),Zc(e,h),rn!==4&&(rn=2)),!1;var m=Error(p(520),{cause:o});if(m=Ei(m,a),gl===null?gl=[m]:gl.push(m),rn!==4&&(rn=2),n===null)return!0;o=Ei(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=yu(a.stateNode,o,e),Zc(a,e),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ea===null||!ea.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ef(h),tf(h,e,a,o),Zc(a,h),!1}a=a.return}while(a!==null);return!1}var bu=Error(p(461)),pn=!1;function Mn(e,n,a,o){n.child=e===null?a1(n,null,a,o):Ia(n,e.child,a,o)}function nf(e,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var C={};for(var O in o)O!=="ref"&&(C[O]=o[O])}else C=o;return _a(n),o=eu(e,n,a,C,m,h),O=tu(),e!==null&&!pn?(nu(e,n,h),xr(e,n,h)):(mt&&O&&Lc(n),n.flags|=1,Mn(e,n,o,h),n.child)}function rf(e,n,a,o,h){if(e===null){var m=a.type;return typeof m=="function"&&!Ic(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,af(e,n,m,o,h)):(e=io(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Tu(e,h)){var C=m.memoizedProps;if(a=a.compare,a=a!==null?a:u,a(C,o)&&e.ref===n.ref)return xr(e,n,h)}return n.flags|=1,e=cr(m,o),e.ref=n.ref,e.return=n,n.child=e}function af(e,n,a,o,h){if(e!==null){var m=e.memoizedProps;if(u(m,o)&&e.ref===n.ref)if(pn=!1,n.pendingProps=o=m,Tu(e,h))(e.flags&131072)!==0&&(pn=!0);else return n.lanes=e.lanes,xr(e,n,h)}return wu(e,n,a,o,h)}function sf(e,n,a,o){var h=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return lf(e,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&lo(n,m!==null?m.cachePool:null),m!==null?o1(n,m):Kc(),c1(n);else return o=n.lanes=536870912,lf(e,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(lo(n,m.cachePool),o1(n,m),Kr(),n.memoizedState=null):(e!==null&&lo(n,null),Kc(),Kr());return Mn(e,n,h,a),n.child}function ll(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function lf(e,n,a,o,h){var m=Gc();return m=m===null?null:{parent:xn._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&lo(n,null),Kc(),c1(n),e!==null&&ss(e,n,o,!0),n.childLanes=h,null}function So(e,n){return n=No({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function of(e,n,a){return Ia(n,e.child,null,a),e=So(n,n.pendingProps),e.flags|=2,fi(n),n.memoizedState=null,e}function L2(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(mt){if(o.mode==="hidden")return e=So(n,o),n.lanes=536870912,ll(null,e);if(Jc(n),(e=Gt)?(e=wd(e,vi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Zi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=G0(e),a.return=n,n.child=a,Dn=n,Gt=null)):e=null,e===null)throw Gr(n);return n.lanes=536870912,null}return So(n,o)}var m=e.memoizedState;if(m!==null){var C=m.dehydrated;if(Jc(n),h)if(n.flags&256)n.flags&=-257,n=of(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(p(558));else if(pn||ss(e,n,a,!1),h=(a&e.childLanes)!==0,pn||h){if(o=zt,o!==null&&(C=Ga(o,a),C!==0&&C!==m.retryLane))throw m.retryLane=C,Sa(e,C),$n(o,e,C),bu;Lo(),n=of(e,n,a)}else e=m.treeContext,Gt=Ti(C.nextSibling),Dn=n,mt=!0,Vr=null,vi=!1,e!==null&&q0(n,e),n=So(n,o),n.flags|=4096;return n}return e=cr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function vo(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(p(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function wu(e,n,a,o,h){return _a(n),a=eu(e,n,a,o,void 0,h),o=tu(),e!==null&&!pn?(nu(e,n,h),xr(e,n,h)):(mt&&o&&Lc(n),n.flags|=1,Mn(e,n,a,h),n.child)}function cf(e,n,a,o,h,m){return _a(n),n.updateQueue=null,a=f1(n,o,a,h),u1(e),o=tu(),e!==null&&!pn?(nu(e,n,m),xr(e,n,m)):(mt&&o&&Lc(n),n.flags|=1,Mn(e,n,a,m),n.child)}function uf(e,n,a,o,h){if(_a(n),n.stateNode===null){var m=ns,C=a.contextType;typeof C=="object"&&C!==null&&(m=In(C)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Yc(n),C=a.contextType,m.context=typeof C=="object"&&C!==null?In(C):ns,m.state=n.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(mu(n,a,C,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&pu.enqueueReplaceState(m,m.state,null),nl(n,o,m,h),tl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var O=n.memoizedProps,j=Ba(a,O);m.props=j;var q=m.context,ae=a.contextType;C=ns,typeof ae=="object"&&ae!==null&&(C=In(ae));var de=a.getDerivedStateFromProps;ae=typeof de=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||q!==C)&&Q1(n,m,o,C),Yr=!1;var Q=n.memoizedState;m.state=Q,nl(n,o,m,h),tl(),q=n.memoizedState,O||Q!==q||Yr?(typeof de=="function"&&(mu(n,a,de,o),q=n.memoizedState),(j=Yr||Z1(n,a,j,o,Q,q,C))?(ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=q),m.props=o,m.state=q,m.context=C,o=j):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,qc(e,n),C=n.memoizedProps,ae=Ba(a,C),m.props=ae,de=n.pendingProps,Q=m.context,q=a.contextType,j=ns,typeof q=="object"&&q!==null&&(j=In(q)),O=a.getDerivedStateFromProps,(q=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==de||Q!==j)&&Q1(n,m,o,j),Yr=!1,Q=n.memoizedState,m.state=Q,nl(n,o,m,h),tl();var ne=n.memoizedState;C!==de||Q!==ne||Yr||e!==null&&e.dependencies!==null&&ao(e.dependencies)?(typeof O=="function"&&(mu(n,a,O,o),ne=n.memoizedState),(ae=Yr||Z1(n,a,ae,o,Q,ne,j)||e!==null&&e.dependencies!==null&&ao(e.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ne,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ne,j)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ne),m.props=o,m.state=ne,m.context=j,o=ae):(typeof m.componentDidUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,vo(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=Ia(n,e.child,null,h),n.child=Ia(n,null,a,h)):Mn(e,n,a,h),n.memoizedState=m.state,e=n.child):e=xr(e,n,h),e}function ff(e,n,a,o){return Na(),n.flags|=256,Mn(e,n,a,o),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eu(e){return{baseLanes:e,cachePool:$0()}}function Cu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=hi),e}function df(e,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,C;if((C=m)||(C=e!==null&&e.memoizedState===null?!1:(cn.current&2)!==0),C&&(h=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(mt){if(h?Qr(n):Kr(),(e=Gt)?(e=wd(e,vi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Zi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},a=G0(e),a.return=n,n.child=a,Dn=n,Gt=null)):e=null,e===null)throw Gr(n);return a0(e)?n.lanes=32:n.lanes=536870912,null}var O=o.children;return o=o.fallback,h?(Kr(),h=n.mode,O=No({mode:"hidden",children:O},h),o=va(o,h,a,null),O.return=n,o.return=n,O.sibling=o,n.child=O,o=n.child,o.memoizedState=Eu(a),o.childLanes=Cu(e,C,a),n.memoizedState=Au,ll(null,o)):(Qr(n),Su(n,O))}var j=e.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(m)n.flags&256?(Qr(n),n.flags&=-257,n=vu(e,n,a)):n.memoizedState!==null?(Kr(),n.child=e.child,n.flags|=128,n=null):(Kr(),O=o.fallback,h=n.mode,o=No({mode:"visible",children:o.children},h),O=va(O,h,a,null),O.flags|=2,o.return=n,O.return=n,o.sibling=O,n.child=o,Ia(n,e.child,null,a),o=n.child,o.memoizedState=Eu(a),o.childLanes=Cu(e,C,a),n.memoizedState=Au,n=ll(null,o));else if(Qr(n),a0(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var q=C.dgst;C=q,o=Error(p(419)),o.stack="",o.digest=C,Qs({value:o,source:null,stack:null}),n=vu(e,n,a)}else if(pn||ss(e,n,a,!1),C=(a&e.childLanes)!==0,pn||C){if(C=zt,C!==null&&(o=Ga(C,a),o!==0&&o!==j.retryLane))throw j.retryLane=o,Sa(e,o),$n(C,e,o),bu;r0(O)||Lo(),n=vu(e,n,a)}else r0(O)?(n.flags|=192,n.child=e.child,n=null):(e=j.treeContext,Gt=Ti(O.nextSibling),Dn=n,mt=!0,Vr=null,vi=!1,e!==null&&q0(n,e),n=Su(n,o.children),n.flags|=4096);return n}return h?(Kr(),O=o.fallback,h=n.mode,j=e.child,q=j.sibling,o=cr(j,{mode:"hidden",children:o.children}),o.subtreeFlags=j.subtreeFlags&65011712,q!==null?O=cr(q,O):(O=va(O,h,a,null),O.flags|=2),O.return=n,o.return=n,o.sibling=O,n.child=o,ll(null,o),o=n.child,O=e.child.memoizedState,O===null?O=Eu(a):(h=O.cachePool,h!==null?(j=xn._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=$0(),O={baseLanes:O.baseLanes|a,cachePool:h}),o.memoizedState=O,o.childLanes=Cu(e,C,a),n.memoizedState=Au,ll(e.child,o)):(Qr(n),a=e.child,e=a.sibling,a=cr(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=a,n.memoizedState=null,a)}function Su(e,n){return n=No({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function No(e,n){return e=ci(22,e,null,n),e.lanes=0,e}function vu(e,n,a){return Ia(n,e.child,null,a),e=Su(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hf(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),zc(e.return,n,a)}function Nu(e,n,a,o,h,m){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=o,C.tail=a,C.tailMode=h,C.treeForkCount=m)}function gf(e,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var C=cn.current,O=(C&2)!==0;if(O?(C=C&1|2,n.flags|=128):C&=1,be(cn,C),Mn(e,n,o,a),o=mt?Zs:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,a,n);else if(e.tag===19)hf(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&go(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Nu(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&go(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Nu(n,!0,a,null,m,o);break;case"together":Nu(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function xr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),$r|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ss(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(p(153));if(n.child!==null){for(e=n.child,a=cr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=cr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Tu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ao(e)))}function j2(e,n,a){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),Xr(n,xn,e.memoizedState.cache),Na();break;case 27:case 5:Jt(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:Xr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jc(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?df(e,n,a):(Qr(n),e=xr(e,n,a),e!==null?e.sibling:null);Qr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ss(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return gf(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(cn,cn.current),o)break;return null;case 22:return n.lanes=0,sf(e,n,a,n.pendingProps);case 24:Xr(n,xn,e.memoizedState.cache)}return xr(e,n,a)}function xf(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)pn=!0;else{if(!Tu(e,a)&&(n.flags&128)===0)return pn=!1,j2(e,n,a);pn=(e.flags&131072)!==0}else pn=!1,mt&&(n.flags&1048576)!==0&&Y0(n,Zs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ra(n.elementType),n.type=e,typeof e=="function")Ic(e)?(o=Ba(e,o),n.tag=1,n=uf(null,n,e,o,a)):(n.tag=0,n=wu(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Se){n.tag=11,n=nf(null,n,e,o,a);break e}else if(h===ee){n.tag=14,n=rf(null,n,e,o,a);break e}}throw n=Ve(e)||e,Error(p(306,n,""))}}return n;case 0:return wu(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ba(o,n.pendingProps),uf(e,n,o,h,a);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(p(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,qc(e,n),nl(n,o,null,a);var C=n.memoizedState;if(o=C.cache,Xr(n,xn,o),o!==m.cache&&Hc(n,[xn],a,!0),tl(),o=C.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=ff(e,n,o,a);break e}else if(o!==h){h=Ei(Error(p(424)),n),Qs(h),n=ff(e,n,o,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Gt=Ti(e.firstChild),Dn=n,mt=!0,Vr=null,vi=!0,a=a1(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Na(),o===h){n=xr(e,n,a);break e}Mn(e,n,o,a)}n=n.child}return n;case 26:return vo(e,n),e===null?(a=Nd(n.type,null,n.pendingProps,null))?n.memoizedState=a:mt||(a=n.type,e=n.pendingProps,o=Po(le.current).createElement(a),o[sn]=n,o[Ot]=e,Bn(o,a,e),en(o),n.stateNode=o):n.memoizedState=Nd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jt(n),e===null&&mt&&(o=n.stateNode=Cd(n.type,n.pendingProps,le.current),Dn=n,vi=!0,h=Gt,ra(n.type)?(s0=h,Gt=Ti(o.firstChild)):Gt=h),Mn(e,n,n.pendingProps.children,a),vo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&mt&&((h=o=Gt)&&(o=dg(o,n.type,n.pendingProps,vi),o!==null?(n.stateNode=o,Dn=n,Gt=Ti(o.firstChild),vi=!1,h=!0):h=!1),h||Gr(n)),Jt(n),h=n.type,m=n.pendingProps,C=e!==null?e.memoizedProps:null,o=m.children,t0(h,m)?o=null:C!==null&&t0(h,C)&&(n.flags|=32),n.memoizedState!==null&&(h=eu(e,n,T2,null,null,a),El._currentValue=h),vo(e,n),Mn(e,n,o,a),n.child;case 6:return e===null&&mt&&((e=a=Gt)&&(a=hg(a,n.pendingProps,vi),a!==null?(n.stateNode=a,Dn=n,Gt=null,e=!0):e=!1),e||Gr(n)),null;case 13:return df(e,n,a);case 4:return qe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ia(n,null,o,a):Mn(e,n,o,a),n.child;case 11:return nf(e,n,n.type,n.pendingProps,a);case 7:return Mn(e,n,n.pendingProps,a),n.child;case 8:return Mn(e,n,n.pendingProps.children,a),n.child;case 12:return Mn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Xr(n,n.type,o.value),Mn(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,_a(n),h=In(h),o=o(h),n.flags|=1,Mn(e,n,o,a),n.child;case 14:return rf(e,n,n.type,n.pendingProps,a);case 15:return af(e,n,n.type,n.pendingProps,a);case 19:return gf(e,n,a);case 31:return L2(e,n,a);case 22:return sf(e,n,a,n.pendingProps);case 24:return _a(n),o=In(xn),e===null?(h=Gc(),h===null&&(h=zt,m=Pc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Yc(n),Xr(n,xn,h)):((e.lanes&a)!==0&&(qc(e,n),nl(n,null,null,a),tl()),h=e.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xr(n,xn,o)):(o=m.cache,Xr(n,xn,o),o!==h.cache&&Hc(n,[xn],a,!0))),Mn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(p(156,n.tag))}function mr(e){e.flags|=4}function _u(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Pf())e.flags|=8192;else throw Da=co,Xc}else e.flags&=-16777217}function mf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dd(n))if(Pf())e.flags|=8192;else throw Da=co,Xc}function To(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?wn():536870912,e.lanes|=n,ys|=n)}function ol(e,n){if(!mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function U2(e,n,a){var o=n.pendingProps;switch(jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(n),null;case 1:return Xt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),dr(xn),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(as(n)?mr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kc())),Xt(n),null;case 26:var h=n.type,m=n.memoizedState;return e===null?(mr(n),m!==null?(Xt(n),mf(n,m)):(Xt(n),_u(n,h,null,o,a))):m?m!==e.memoizedState?(mr(n),Xt(n),mf(n,m)):(Xt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&mr(n),Xt(n),_u(n,h,e,o,a)),null;case 27:if(st(n),a=le.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mr(n);else{if(!o){if(n.stateNode===null)throw Error(p(166));return Xt(n),null}e=Ce.current,as(n)?Z0(n):(e=Cd(h,o,a),n.stateNode=e,mr(n))}return Xt(n),null;case 5:if(st(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mr(n);else{if(!o){if(n.stateNode===null)throw Error(p(166));return Xt(n),null}if(m=Ce.current,as(n))Z0(n);else{var C=Po(le.current);switch(m){case 1:m=C.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=C.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=C.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?C.createElement("select",{is:o.is}):C.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?C.createElement(h,{is:o.is}):C.createElement(h)}}m[sn]=n,m[Ot]=o;e:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)m.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=m;e:switch(Bn(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&mr(n)}}return Xt(n),_u(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&mr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(p(166));if(e=le.current,as(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[sn]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||dd(e.nodeValue,a)),e||Gr(n,!0)}else e=Po(e).createTextNode(o),e[sn]=n,n.stateNode=e}return Xt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=as(n),a!==null){if(e===null){if(!o)throw Error(p(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(557));e[sn]=n}else Na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),e=!1}else a=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(fi(n),n):(fi(n),null);if((n.flags&128)!==0)throw Error(p(558))}return Xt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=as(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(p(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[sn]=n}else Na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),h=!1}else h=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fi(n),n):(fi(n),null)}return fi(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),To(n,n.updateQueue),Xt(n),null);case 4:return Ye(),e===null&&Ku(n.stateNode.containerInfo),Xt(n),null;case 10:return dr(n.type),Xt(n),null;case 19:if(te(cn),o=n.memoizedState,o===null)return Xt(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)ol(o,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=go(e),m!==null){for(n.flags|=128,ol(o,!1),e=m.updateQueue,n.updateQueue=e,To(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)V0(a,e),a=a.sibling;return be(cn,cn.current&1|2),mt&&ur(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Wt()>Io&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(e=go(m),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,To(n,e),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!mt)return Xt(n),null}else 2*Wt()-o.renderingStartTime>Io&&a!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Wt(),e.sibling=null,a=cn.current,be(cn,h?a&1|2:a&1),mt&&ur(n,o.treeForkCount),e):(Xt(n),null);case 22:case 23:return fi(n),Wc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Xt(n),n.subtreeFlags&6&&(n.flags|=8192)):Xt(n),a=n.updateQueue,a!==null&&To(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&te(Oa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),dr(xn),Xt(n),null;case 25:return null;case 30:return null}throw Error(p(156,n.tag))}function k2(e,n){switch(jc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return dr(xn),Ye(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return st(n),null;case 31:if(n.memoizedState!==null){if(fi(n),n.alternate===null)throw Error(p(340));Na()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(p(340));Na()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return te(cn),null;case 4:return Ye(),null;case 10:return dr(n.type),null;case 22:case 23:return fi(n),Wc(),e!==null&&te(Oa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return dr(xn),null;case 25:return null;default:return null}}function pf(e,n){switch(jc(n),n.tag){case 3:dr(xn),Ye();break;case 26:case 27:case 5:st(n);break;case 4:Ye();break;case 31:n.memoizedState!==null&&fi(n);break;case 13:fi(n);break;case 19:te(cn);break;case 10:dr(n.type);break;case 22:case 23:fi(n),Wc(),e!==null&&te(Oa);break;case 24:dr(xn)}}function cl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var m=a.create,C=a.inst;o=m(),C.destroy=o}a=a.next}while(a!==h)}}catch(O){Dt(n,n.return,O)}}function Wr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var C=o.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,h=n;var j=a,q=O;try{q()}catch(ae){Dt(h,j,ae)}}}o=o.next}while(o!==m)}}catch(ae){Dt(n,n.return,ae)}}function yf(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{l1(n,a)}catch(o){Dt(e,e.return,o)}}}function bf(e,n,a){a.props=Ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Dt(e,n,o)}}function ul(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Dt(e,n,h)}}function Ki(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Dt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Dt(e,n,h)}else a.current=null}function wf(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Dt(e,e.return,h)}}function Ou(e,n,a){try{var o=e.stateNode;sg(o,e.type,a,n),o[Ot]=n}catch(h){Dt(e,e.return,h)}}function Af(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ra(e.type)||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(o!==4&&(o===27&&ra(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Du(e,n,a),e=e.sibling;e!==null;)Du(e,n,a),e=e.sibling}function _o(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_o(e,n,a),e=e.sibling;e!==null;)_o(e,n,a),e=e.sibling}function Ef(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Bn(n,o,a),n[sn]=e,n[Ot]=a}catch(m){Dt(e,e.return,m)}}var pr=!1,yn=!1,Iu=!1,Cf=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function F2(e,n){if(e=e.containerInfo,$u=Qo,e=N(e),_(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var C=0,O=-1,j=-1,q=0,ae=0,de=e,Q=null;t:for(;;){for(var ne;de!==a||h!==0&&de.nodeType!==3||(O=C+h),de!==m||o!==0&&de.nodeType!==3||(j=C+o),de.nodeType===3&&(C+=de.nodeValue.length),(ne=de.firstChild)!==null;)Q=de,de=ne;for(;;){if(de===e)break t;if(Q===a&&++q===h&&(O=C),Q===m&&++ae===o&&(j=C),(ne=de.nextSibling)!==null)break;de=Q,Q=de.parentNode}de=ne}a=O===-1||j===-1?null:{start:O,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(e0={focusedElem:e,selectionRange:a},Qo=!1,Nn=n;Nn!==null;)if(n=Nn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Nn=e;else for(;Nn!==null;){switch(n=Nn,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var Ie=Ba(a.type,h);e=o.getSnapshotBeforeUpdate(Ie,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(Xe){Dt(a,a.return,Xe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)i0(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":i0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(p(163))}if(e=n.sibling,e!==null){e.return=n.return,Nn=e;break}Nn=n.return}}function Sf(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),o&4&&cl(5,a);break;case 1:if(br(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(C){Dt(a,a.return,C)}else{var h=Ba(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){Dt(a,a.return,C)}}o&64&&yf(a),o&512&&ul(a,a.return);break;case 3:if(br(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{l1(e,n)}catch(C){Dt(a,a.return,C)}}break;case 27:n===null&&o&4&&Ef(a);case 26:case 5:br(e,a),n===null&&o&4&&wf(a),o&512&&ul(a,a.return);break;case 12:br(e,a);break;case 31:br(e,a),o&4&&Tf(e,a);break;case 13:br(e,a),o&4&&_f(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Z2.bind(null,a),gg(e,a))));break;case 22:if(o=a.memoizedState!==null||pr,!o){n=n!==null&&n.memoizedState!==null||yn,h=pr;var m=yn;pr=o,(yn=n)&&!m?wr(e,a,(a.subtreeFlags&8772)!==0):br(e,a),pr=h,yn=m}break;case 30:break;default:br(e,a)}}function vf(e){var n=e.alternate;n!==null&&(e.alternate=null,vf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Kt=null,Qn=!1;function yr(e,n,a){for(a=a.child;a!==null;)Nf(e,n,a),a=a.sibling}function Nf(e,n,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Ht,a)}catch{}switch(a.tag){case 26:yn||Ki(a,n),yr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yn||Ki(a,n);var o=Kt,h=Qn;ra(a.type)&&(Kt=a.stateNode,Qn=!1),yr(e,n,a),bl(a.stateNode),Kt=o,Qn=h;break;case 5:yn||Ki(a,n);case 6:if(o=Kt,h=Qn,Kt=null,yr(e,n,a),Kt=o,Qn=h,Kt!==null)if(Qn)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(a.stateNode)}catch(m){Dt(a,n,m)}else try{Kt.removeChild(a.stateNode)}catch(m){Dt(a,n,m)}break;case 18:Kt!==null&&(Qn?(e=Kt,yd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ns(e)):yd(Kt,a.stateNode));break;case 4:o=Kt,h=Qn,Kt=a.stateNode.containerInfo,Qn=!0,yr(e,n,a),Kt=o,Qn=h;break;case 0:case 11:case 14:case 15:Wr(2,a,n),yn||Wr(4,a,n),yr(e,n,a);break;case 1:yn||(Ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&bf(a,n,o)),yr(e,n,a);break;case 21:yr(e,n,a);break;case 22:yn=(o=yn)||a.memoizedState!==null,yr(e,n,a),yn=o;break;default:yr(e,n,a)}}function Tf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ns(e)}catch(a){Dt(n,n.return,a)}}}function _f(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ns(e)}catch(a){Dt(n,n.return,a)}}function z2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cf),n;default:throw Error(p(435,e.tag))}}function Oo(e,n){var a=z2(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Q2.bind(null,e,o);o.then(h,h)}})}function Kn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=e,C=n,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(ra(O.type)){Kt=O.stateNode,Qn=!1;break e}break;case 5:Kt=O.stateNode,Qn=!1;break e;case 3:case 4:Kt=O.stateNode.containerInfo,Qn=!0;break e}O=O.return}if(Kt===null)throw Error(p(160));Nf(m,C,h),Kt=null,Qn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Of(n,e),n=n.sibling}var Ui=null;function Of(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(n,e),Wn(e),o&4&&(Wr(3,e,e.return),cl(3,e),Wr(5,e,e.return));break;case 1:Kn(n,e),Wn(e),o&512&&(yn||a===null||Ki(a,a.return)),o&64&&pr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ui;if(Kn(n,e),Wn(e),o&512&&(yn||a===null||Ki(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[xa]||m[sn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Bn(m,o,a),m[sn]=e,en(m),o=m;break e;case"link":var C=Od("link","href",h).get(o+(a.href||""));if(C){for(var O=0;O<C.length;O++)if(m=C[O],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){C.splice(O,1);break t}}m=h.createElement(o),Bn(m,o,a),h.head.appendChild(m);break;case"meta":if(C=Od("meta","content",h).get(o+(a.content||""))){for(O=0;O<C.length;O++)if(m=C[O],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){C.splice(O,1);break t}}m=h.createElement(o),Bn(m,o,a),h.head.appendChild(m);break;default:throw Error(p(468,o))}m[sn]=e,en(m),o=m}e.stateNode=o}else Rd(h,e.type,e.stateNode);else e.stateNode=_d(h,o,e.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Rd(h,e.type,e.stateNode):_d(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ou(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kn(n,e),Wn(e),o&512&&(yn||a===null||Ki(a,a.return)),a!==null&&o&4&&Ou(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kn(n,e),Wn(e),o&512&&(yn||a===null||Ki(a,a.return)),e.flags&32){h=e.stateNode;try{Mr(h,"")}catch(Ie){Dt(e,e.return,Ie)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ou(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Iu=!0);break;case 6:if(Kn(n,e),Wn(e),o&4){if(e.stateNode===null)throw Error(p(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(Ie){Dt(e,e.return,Ie)}}break;case 3:if(Xo=null,h=Ui,Ui=Vo(n.containerInfo),Kn(n,e),Ui=h,Wn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ns(n.containerInfo)}catch(Ie){Dt(e,e.return,Ie)}Iu&&(Iu=!1,Rf(e));break;case 4:o=Ui,Ui=Vo(e.stateNode.containerInfo),Kn(n,e),Wn(e),Ui=o;break;case 12:Kn(n,e),Wn(e);break;case 31:Kn(n,e),Wn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oo(e,o)));break;case 13:Kn(n,e),Wn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Do=Wt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oo(e,o)));break;case 22:h=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,q=pr,ae=yn;if(pr=q||h,yn=ae||j,Kn(n,e),yn=ae,pr=q,Wn(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||j||pr||yn||La(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){j=a=n;try{if(m=j.stateNode,h)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=j.stateNode;var de=j.memoizedProps.style,Q=de!=null&&de.hasOwnProperty("display")?de.display:null;O.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Ie){Dt(j,j.return,Ie)}}}else if(n.tag===6){if(a===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(Ie){Dt(j,j.return,Ie)}}}else if(n.tag===18){if(a===null){j=n;try{var ne=j.stateNode;h?bd(ne,!0):bd(j.stateNode,!1)}catch(Ie){Dt(j,j.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Oo(e,a))));break;case 19:Kn(n,e),Wn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oo(e,o)));break;case 30:break;case 21:break;default:Kn(n,e),Wn(e)}}function Wn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Af(o)){a=o;break}o=o.return}if(a==null)throw Error(p(160));switch(a.tag){case 27:var h=a.stateNode,m=Ru(e);_o(e,m,h);break;case 5:var C=a.stateNode;a.flags&32&&(Mr(C,""),a.flags&=-33);var O=Ru(e);_o(e,O,C);break;case 3:case 4:var j=a.stateNode.containerInfo,q=Ru(e);Du(e,q,j);break;default:throw Error(p(161))}}catch(ae){Dt(e,e.return,ae)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Rf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Rf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function br(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sf(e,n.alternate,n),n=n.sibling}function La(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Wr(4,n,n.return),La(n);break;case 1:Ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&bf(n,n.return,a),La(n);break;case 27:bl(n.stateNode);case 26:case 5:Ki(n,n.return),La(n);break;case 22:n.memoizedState===null&&La(n);break;case 30:La(n);break;default:La(n)}e=e.sibling}}function wr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,m=n,C=m.flags;switch(m.tag){case 0:case 11:case 15:wr(h,m,a),cl(4,m);break;case 1:if(wr(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Dt(o,o.return,q)}if(o=m,h=o.updateQueue,h!==null){var O=o.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)s1(j[h],O)}catch(q){Dt(o,o.return,q)}}a&&C&64&&yf(m),ul(m,m.return);break;case 27:Ef(m);case 26:case 5:wr(h,m,a),a&&o===null&&C&4&&wf(m),ul(m,m.return);break;case 12:wr(h,m,a);break;case 31:wr(h,m,a),a&&C&4&&Tf(h,m);break;case 13:wr(h,m,a),a&&C&4&&_f(h,m);break;case 22:m.memoizedState===null&&wr(h,m,a),ul(m,m.return);break;case 30:break;default:wr(h,m,a)}n=n.sibling}}function Mu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ks(a))}function Bu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ks(e))}function ki(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Df(e,n,a,o),n=n.sibling}function Df(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ki(e,n,a,o),h&2048&&cl(9,n);break;case 1:ki(e,n,a,o);break;case 3:ki(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ks(e)));break;case 12:if(h&2048){ki(e,n,a,o),e=n.stateNode;try{var m=n.memoizedProps,C=m.id,O=m.onPostCommit;typeof O=="function"&&O(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Dt(n,n.return,j)}}else ki(e,n,a,o);break;case 31:ki(e,n,a,o);break;case 13:ki(e,n,a,o);break;case 23:break;case 22:m=n.stateNode,C=n.alternate,n.memoizedState!==null?m._visibility&2?ki(e,n,a,o):fl(e,n):m._visibility&2?ki(e,n,a,o):(m._visibility|=2,xs(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Mu(C,n);break;case 24:ki(e,n,a,o),h&2048&&Bu(n.alternate,n);break;default:ki(e,n,a,o)}}function xs(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,C=n,O=a,j=o,q=C.flags;switch(C.tag){case 0:case 11:case 15:xs(m,C,O,j,h),cl(8,C);break;case 23:break;case 22:var ae=C.stateNode;C.memoizedState!==null?ae._visibility&2?xs(m,C,O,j,h):fl(m,C):(ae._visibility|=2,xs(m,C,O,j,h)),h&&q&2048&&Mu(C.alternate,C);break;case 24:xs(m,C,O,j,h),h&&q&2048&&Bu(C.alternate,C);break;default:xs(m,C,O,j,h)}n=n.sibling}}function fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:fl(a,o),h&2048&&Mu(o.alternate,o);break;case 24:fl(a,o),h&2048&&Bu(o.alternate,o);break;default:fl(a,o)}n=n.sibling}}var dl=8192;function ms(e,n,a){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)If(e,n,a),e=e.sibling}function If(e,n,a){switch(e.tag){case 26:ms(e,n,a),e.flags&dl&&e.memoizedState!==null&&Ng(a,Ui,e.memoizedState,e.memoizedProps);break;case 5:ms(e,n,a);break;case 3:case 4:var o=Ui;Ui=Vo(e.stateNode.containerInfo),ms(e,n,a),Ui=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=dl,dl=16777216,ms(e,n,a),dl=o):ms(e,n,a));break;default:ms(e,n,a)}}function Mf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Nn=o,Lf(o,e)}Mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bf(e),e=e.sibling}function Bf(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Wr(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ro(e)):hl(e);break;default:hl(e)}}function Ro(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Nn=o,Lf(o,e)}Mf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Wr(8,n,n.return),Ro(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ro(n));break;default:Ro(n)}e=e.sibling}}function Lf(e,n){for(;Nn!==null;){var a=Nn;switch(a.tag){case 0:case 11:case 15:Wr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Nn=o;else e:for(a=e;Nn!==null;){o=Nn;var h=o.sibling,m=o.return;if(vf(o),o===a){Nn=null;break e}if(h!==null){h.return=m,Nn=h;break e}Nn=m}}}var H2={getCacheForType:function(e){var n=In(xn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return In(xn).controller.signal}},P2=typeof WeakMap=="function"?WeakMap:Map,St=0,zt=null,ut=null,gt=0,Rt=0,di=null,Jr=!1,ps=!1,Lu=!1,Ar=0,rn=0,$r=0,ja=0,ju=0,hi=0,ys=0,gl=null,Jn=null,Uu=!1,Do=0,jf=0,Io=1/0,Mo=null,ea=null,Sn=0,ta=null,bs=null,Er=0,ku=0,Fu=null,Uf=null,xl=0,zu=null;function gi(){return(St&2)!==0&&gt!==0?gt&-gt:Y.T!==null?Yu():Un()}function kf(){if(hi===0)if((gt&536870912)===0||mt){var e=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),hi=e}else hi=536870912;return e=ui.current,e!==null&&(e.flags|=32),hi}function $n(e,n,a){(e===zt&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(ws(e,0),na(e,gt,hi,!1)),Pi(e,a),((St&2)===0||e!==zt)&&(e===zt&&((St&2)===0&&(ja|=a),rn===4&&na(e,gt,hi,!1)),Wi(e))}function Ff(e,n,a){if((St&6)!==0)throw Error(p(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||On(e,n),h=o?X2(e,n):Pu(e,n,!0),m=o;do{if(h===0){ps&&!o&&na(e,n,0,!1);break}else{if(a=e.current.alternate,m&&!V2(a)){h=Pu(e,n,!1),m=!1;continue}if(h===2){if(m=n,e.errorRecoveryDisabledLanes&m)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;e:{var O=e;h=gl;var j=O.current.memoizedState.isDehydrated;if(j&&(ws(O,C).flags|=256),C=Pu(O,C,!1),C!==2){if(Lu&&!j){O.errorRecoveryDisabledLanes|=m,ja|=m,h=4;break e}m=Jn,Jn=h,m!==null&&(Jn===null?Jn=m:Jn.push.apply(Jn,m))}h=C}if(m=!1,h!==2)continue}}if(h===1){ws(e,0),na(e,n,0,!0);break}e:{switch(o=e,m=h,m){case 0:case 1:throw Error(p(345));case 4:if((n&4194048)!==n)break;case 6:na(o,n,hi,!Jr);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(p(329))}if((n&62914560)===n&&(h=Do+300-Wt(),10<h)){if(na(o,n,hi,!Jr),ga(o,0,!0)!==0)break e;Er=n,o.timeoutHandle=md(zf.bind(null,o,a,Jn,Mo,Uu,n,hi,ja,ys,Jr,m,"Throttled",-0,0),h);break e}zf(o,a,Jn,Mo,Uu,n,hi,ja,ys,Jr,m,null,-0,0)}}break}while(!0);Wi(e)}function zf(e,n,a,o,h,m,C,O,j,q,ae,de,Q,ne){if(e.timeoutHandle=-1,de=n.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},If(n,m,de);var Ie=(m&62914560)===m?Do-Wt():(m&4194048)===m?jf-Wt():0;if(Ie=Tg(de,Ie),Ie!==null){Er=m,e.cancelPendingCommit=Ie(Zf.bind(null,e,n,m,a,o,h,C,O,j,ae,de,null,Q,ne)),na(e,m,C,!q);return}}Zf(e,n,m,a,o,h,C,O,j)}function V2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!c(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function na(e,n,a,o){n&=~ju,n&=~ja,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var m=31-et(h),C=1<<m;o[m]=-1,h&=~C}a!==0&&kl(e,a,n)}function Bo(){return(St&6)===0?(ml(0),!1):!0}function Hu(){if(ut!==null){if(Rt===0)var e=ut.return;else e=ut,fr=Ta=null,iu(e),us=null,Js=0,e=ut;for(;e!==null;)pf(e.alternate,e),e=e.return;ut=null}}function ws(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Er=0,Hu(),zt=e,ut=a=cr(e.current,null),gt=n,Rt=0,di=null,Jr=!1,ps=On(e,n),Lu=!1,ys=hi=ju=ja=$r=rn=0,Jn=gl=null,Uu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-et(o),m=1<<h;n|=e[h],o&=~m}return Ar=n,eo(),a}function Hf(e,n){We=null,Y.H=sl,n===cs||n===oo?(n=n1(),Rt=3):n===Xc?(n=n1(),Rt=4):Rt=n===bu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,di=n,ut===null&&(rn=1,Co(e,Ei(n,e.current)))}function Pf(){var e=ui.current;return e===null?!0:(gt&4194048)===gt?Ni===null:(gt&62914560)===gt||(gt&536870912)!==0?e===Ni:!1}function Vf(){var e=Y.H;return Y.H=sl,e===null?sl:e}function Gf(){var e=Y.A;return Y.A=H2,e}function Lo(){rn=4,Jr||(gt&4194048)!==gt&&ui.current!==null||(ps=!0),($r&134217727)===0&&(ja&134217727)===0||zt===null||na(zt,gt,hi,!1)}function Pu(e,n,a){var o=St;St|=2;var h=Vf(),m=Gf();(zt!==e||gt!==n)&&(Mo=null,ws(e,n)),n=!1;var C=rn;e:do try{if(Rt!==0&&ut!==null){var O=ut,j=di;switch(Rt){case 8:Hu(),C=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(n=!0);var q=Rt;if(Rt=0,di=null,As(e,O,j,q),a&&ps){C=0;break e}break;default:q=Rt,Rt=0,di=null,As(e,O,j,q)}}G2(),C=rn;break}catch(ae){Hf(e,ae)}while(!0);return n&&e.shellSuspendCounter++,fr=Ta=null,St=o,Y.H=h,Y.A=m,ut===null&&(zt=null,gt=0,eo()),C}function G2(){for(;ut!==null;)Xf(ut)}function X2(e,n){var a=St;St|=2;var o=Vf(),h=Gf();zt!==e||gt!==n?(Mo=null,Io=Wt()+500,ws(e,n)):ps=On(e,n);e:do try{if(Rt!==0&&ut!==null){n=ut;var m=di;t:switch(Rt){case 1:Rt=0,di=null,As(e,n,m,1);break;case 2:case 9:if(e1(m)){Rt=0,di=null,Yf(n);break}n=function(){Rt!==2&&Rt!==9||zt!==e||(Rt=7),Wi(e)},m.then(n,n);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:e1(m)?(Rt=0,di=null,Yf(n)):(Rt=0,di=null,As(e,n,m,7));break;case 5:var C=null;switch(ut.tag){case 26:C=ut.memoizedState;case 5:case 27:var O=ut;if(C?Dd(C):O.stateNode.complete){Rt=0,di=null;var j=O.sibling;if(j!==null)ut=j;else{var q=O.return;q!==null?(ut=q,jo(q)):ut=null}break t}}Rt=0,di=null,As(e,n,m,5);break;case 6:Rt=0,di=null,As(e,n,m,6);break;case 8:Hu(),rn=6;break e;default:throw Error(p(462))}}Y2();break}catch(ae){Hf(e,ae)}while(!0);return fr=Ta=null,Y.H=o,Y.A=h,St=a,ut!==null?0:(zt=null,gt=0,eo(),rn)}function Y2(){for(;ut!==null&&!Pa();)Xf(ut)}function Xf(e){var n=xf(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,n===null?jo(e):ut=n}function Yf(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=cf(a,n,n.pendingProps,n.type,void 0,gt);break;case 11:n=cf(a,n,n.pendingProps,n.type.render,n.ref,gt);break;case 5:iu(n);default:pf(a,n),n=ut=V0(n,Ar),n=xf(a,n,Ar)}e.memoizedProps=e.pendingProps,n===null?jo(e):ut=n}function As(e,n,a,o){fr=Ta=null,iu(n),us=null,Js=0;var h=n.return;try{if(B2(e,h,n,a,gt)){rn=1,Co(e,Ei(a,e.current)),ut=null;return}}catch(m){if(h!==null)throw ut=h,m;rn=1,Co(e,Ei(a,e.current)),ut=null;return}n.flags&32768?(mt||o===1?e=!0:ps||(gt&536870912)!==0?e=!1:(Jr=e=!0,(o===2||o===9||o===3||o===6)&&(o=ui.current,o!==null&&o.tag===13&&(o.flags|=16384))),qf(n,e)):jo(n)}function jo(e){var n=e;do{if((n.flags&32768)!==0){qf(n,Jr);return}e=n.return;var a=U2(n.alternate,n,Ar);if(a!==null){ut=a;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=e}while(n!==null);rn===0&&(rn=5)}function qf(e,n){do{var a=k2(e.alternate,e);if(a!==null){a.flags&=32767,ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ut=e;return}ut=e=a}while(e!==null);rn=6,ut=null}function Zf(e,n,a,o,h,m,C,O,j){e.cancelPendingCommit=null;do Uo();while(Sn!==0);if((St&6)!==0)throw Error(p(327));if(n!==null){if(n===e.current)throw Error(p(177));if(m=n.lanes|n.childLanes,m|=Rc,pi(e,a,m,C,O,j),e===zt&&(ut=zt=null,gt=0),bs=n,ta=e,Er=a,ku=m,Fu=h,Uf=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K2(ni,function(){return $f(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=se.p,se.p=2,C=St,St|=4;try{F2(e,n,a)}finally{St=C,se.p=h,Y.T=o}}Sn=1,Qf(),Kf(),Wf()}}function Qf(){if(Sn===1){Sn=0;var e=ta,n=bs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=se.p;se.p=2;var h=St;St|=4;try{Of(n,e);var m=e0,C=N(e.containerInfo),O=m.focusedElem,j=m.selectionRange;if(C!==O&&O&&O.ownerDocument&&E(O.ownerDocument.documentElement,O)){if(j!==null&&_(O)){var q=j.start,ae=j.end;if(ae===void 0&&(ae=q),"selectionStart"in O)O.selectionStart=q,O.selectionEnd=Math.min(ae,O.value.length);else{var de=O.ownerDocument||document,Q=de&&de.defaultView||window;if(Q.getSelection){var ne=Q.getSelection(),Ie=O.textContent.length,Xe=Math.min(j.start,Ie),Lt=j.end===void 0?Xe:Math.min(j.end,Ie);!ne.extend&&Xe>Lt&&(C=Lt,Lt=Xe,Xe=C);var P=y(O,Xe),z=y(O,Lt);if(P&&z&&(ne.rangeCount!==1||ne.anchorNode!==P.node||ne.anchorOffset!==P.offset||ne.focusNode!==z.node||ne.focusOffset!==z.offset)){var X=de.createRange();X.setStart(P.node,P.offset),ne.removeAllRanges(),Xe>Lt?(ne.addRange(X),ne.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),ne.addRange(X))}}}}for(de=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<de.length;O++){var oe=de[O];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Qo=!!$u,e0=$u=null}finally{St=h,se.p=o,Y.T=a}}e.current=n,Sn=2}}function Kf(){if(Sn===2){Sn=0;var e=ta,n=bs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=se.p;se.p=2;var h=St;St|=4;try{Sf(e,n.alternate,n)}finally{St=h,se.p=o,Y.T=a}}Sn=3}}function Wf(){if(Sn===4||Sn===3){Sn=0,Ul();var e=ta,n=bs,a=Er,o=Uf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sn=5:(Sn=0,bs=ta=null,Jf(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ea=null),Ri(a),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Ht,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var m=e.onRecoverableError,C=0;C<o.length;C++){var O=o[C];m(O.value,{componentStack:O.stack})}}finally{Y.T=n,se.p=h}}(Er&3)!==0&&Uo(),Wi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===zu?xl++:(xl=0,zu=e):xl=0,ml(0)}}function Jf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ks(n)))}function Uo(){return Qf(),Kf(),Wf(),$f()}function $f(){if(Sn!==5)return!1;var e=ta,n=ku;ku=0;var a=Ri(Er),o=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=Fu,Fu=null;var m=ta,C=Er;if(Sn=0,bs=ta=null,Er=0,(St&6)!==0)throw Error(p(331));var O=St;if(St|=4,Bf(m.current),Df(m,m.current,C,a),St=O,ml(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Ht,m)}catch{}return!0}finally{se.p=h,Y.T=o,Jf(e,n)}}function ed(e,n,a){n=Ei(a,n),n=yu(e.stateNode,n,2),e=Zr(e,n,2),e!==null&&(Pi(e,2),Wi(e))}function Dt(e,n,a){if(e.tag===3)ed(e,e,a);else for(;n!==null;){if(n.tag===3){ed(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ea===null||!ea.has(o))){e=Ei(a,e),a=ef(2),o=Zr(n,a,2),o!==null&&(tf(a,o,n,e),Pi(o,2),Wi(o));break}}n=n.return}}function Vu(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new P2;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Lu=!0,h.add(a),e=q2.bind(null,e,n,a),n.then(e,e))}function q2(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,zt===e&&(gt&a)===a&&(rn===4||rn===3&&(gt&62914560)===gt&&300>Wt()-Do?(St&2)===0&&ws(e,0):ju|=a,ys===gt&&(ys=0)),Wi(e)}function td(e,n){n===0&&(n=wn()),e=Sa(e,n),e!==null&&(Pi(e,n),Wi(e))}function Z2(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),td(e,a)}function Q2(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(p(314))}o!==null&&o.delete(n),td(e,a)}function K2(e,n){return Tr(e,n)}var ko=null,Es=null,Gu=!1,Fo=!1,Xu=!1,ia=0;function Wi(e){e!==Es&&e.next===null&&(Es===null?ko=Es=e:Es=Es.next=e),Fo=!0,Gu||(Gu=!0,J2())}function ml(e,n){if(!Xu&&Fo){Xu=!0;do for(var a=!1,o=ko;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var C=o.suspendedLanes,O=o.pingedLanes;m=(1<<31-et(42|e)+1)-1,m&=h&~(C&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,ad(o,m))}else m=gt,m=ga(o,o===zt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||On(o,m)||(a=!0,ad(o,m));o=o.next}while(a);Xu=!1}}function W2(){nd()}function nd(){Fo=Gu=!1;var e=0;ia!==0&&og()&&(e=ia);for(var n=Wt(),a=null,o=ko;o!==null;){var h=o.next,m=id(o,n);m===0?(o.next=null,a===null?ko=h:a.next=h,h===null&&(Es=a)):(a=o,(e!==0||(m&3)!==0)&&(Fo=!0)),o=h}Sn!==0&&Sn!==5||ml(e),ia!==0&&(ia=0)}function id(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var C=31-et(m),O=1<<C,j=h[C];j===-1?((O&a)===0||(O&o)!==0)&&(h[C]=Us(O,n)):j<=n&&(e.expiredLanes|=O),m&=~O}if(n=zt,a=gt,a=ga(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&De(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||On(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&De(o),Ri(a)){case 2:case 8:a=Bs;break;case 32:a=ni;break;case 268435456:a=Ls;break;default:a=ni}return o=rd.bind(null,e),a=Tr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&De(o),e.callbackPriority=2,e.callbackNode=null,2}function rd(e,n){if(Sn!==0&&Sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uo()&&e.callbackNode!==a)return null;var o=gt;return o=ga(e,e===zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ff(e,o,n),id(e,Wt()),e.callbackNode!=null&&e.callbackNode===a?rd.bind(null,e):null)}function ad(e,n){if(Uo())return null;Ff(e,n,!0)}function J2(){ug(function(){(St&6)!==0?Tr(Gn,W2):nd()})}function Yu(){if(ia===0){var e=ls;e===0&&(e=ha,ha<<=1,(ha&261888)===0&&(ha=256)),ia=e}return ia}function sd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Br(""+e)}function ld(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function $2(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=sd((h[Ot]||null).action),C=o.submitter;C&&(n=(n=C[Ot]||null)?sd(n.formAction):C.getAttribute("formAction"),n!==null&&(m=n,C=null));var O=new An("action","action",null,o,h);e.push({event:O,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ia!==0){var j=C?ld(h,C):new FormData(h);du(a,{pending:!0,data:j,method:h.method,action:m},null,j)}}else typeof m=="function"&&(O.preventDefault(),j=C?ld(h,C):new FormData(h),du(a,{pending:!0,data:j,method:h.method,action:m},m,j))},currentTarget:h}]})}}for(var qu=0;qu<qs.length;qu++){var Zu=qs[qu],eg=Zu.toLowerCase(),tg=Zu[0].toUpperCase()+Zu.slice(1);ji(eg,"on"+tg)}ji(Zn,"onAnimationEnd"),ji(Rn,"onAnimationIteration"),ji(Tt,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Cn,"onTransitionRun"),ji(Pn,"onTransitionStart"),ji(Hr,"onTransitionCancel"),ji(or,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function od(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var C=o.length-1;0<=C;C--){var O=o[C],j=O.instance,q=O.currentTarget;if(O=O.listener,j!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=q;try{m(h)}catch(ae){$l(ae)}h.currentTarget=null,m=j}else for(C=0;C<o.length;C++){if(O=o[C],j=O.instance,q=O.currentTarget,O=O.listener,j!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=q;try{m(h)}catch(ae){$l(ae)}h.currentTarget=null,m=j}}}}function ft(e,n){var a=n[_r];a===void 0&&(a=n[_r]=new Set);var o=e+"__bubble";a.has(o)||(cd(n,e,2,!1),a.add(o))}function Qu(e,n,a){var o=0;n&&(o|=4),cd(a,e,o,n)}var zo="_reactListening"+Math.random().toString(36).slice(2);function Ku(e){if(!e[zo]){e[zo]=!0,ge.forEach(function(a){a!=="selectionchange"&&(ng.has(a)||Qu(a,!1,e),Qu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zo]||(n[zo]=!0,Qu("selectionchange",!1,n))}}function cd(e,n,a,o){switch(kd(n)){case 2:var h=Rg;break;case 8:h=Dg;break;default:h=f0}a=h.bind(null,n,a,e),h=void 0,!zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Wu(e,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var C=o.tag;if(C===3||C===4){var O=o.stateNode.containerInfo;if(O===h)break;if(C===4)for(C=o.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===h)return;C=C.return}for(;O!==null;){if(C=$t(O),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){o=m=C;continue e}O=O.parentNode}}o=o.return}Pl(function(){var q=m,ae=Fs(a),de=[];e:{var Q=Jl.get(e);if(Q!==void 0){var ne=An,Ie=e;switch(e){case"keypress":if(Gi(a)===0)break e;case"keydown":case"keyup":ne=Ja;break;case"focusin":Ie="focus",ne=Vs;break;case"focusout":Ie="blur",ne=Vs;break;case"beforeblur":case"afterblur":ne=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Tc;break;case Zn:case Rn:case Tt:ne=tt;break;case or:ne=rr;break;case"scroll":case"scrollend":ne=Vl;break;case"wheel":ne=_c;break;case"copy":case"cut":case"paste":ne=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Nt;break;case"toggle":case"beforetoggle":ne=Xs}var Xe=(n&4)!==0,Lt=!Xe&&(e==="scroll"||e==="scrollend"),P=Xe?Q!==null?Q+"Capture":null:Q;Xe=[];for(var z=q,X;z!==null;){var oe=z;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||P===null||(oe=Ze(z,P),oe!=null&&Xe.push(yl(z,oe,X))),Lt)break;z=z.return}0<Xe.length&&(Q=new ne(Q,Ie,null,a,ae),de.push({event:Q,listeners:Xe}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",Q&&a!==ma&&(Ie=a.relatedTarget||a.fromElement)&&($t(Ie)||Ie[ii]))break e;if((ne||Q)&&(Q=ae.window===ae?ae:(Q=ae.ownerDocument)?Q.defaultView||Q.parentWindow:window,ne?(Ie=a.relatedTarget||a.toElement,ne=q,Ie=Ie?$t(Ie):null,Ie!==null&&(Lt=b(Ie),Xe=Ie.tag,Ie!==Lt||Xe!==5&&Xe!==27&&Xe!==6)&&(Ie=null)):(ne=null,Ie=q),ne!==Ie)){if(Xe=Ct,oe="onMouseLeave",P="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Xe=Nt,oe="onPointerLeave",P="onPointerEnter",z="pointer"),Lt=ne==null?Q:Or(ne),X=Ie==null?Q:Or(Ie),Q=new Xe(oe,z+"leave",ne,a,ae),Q.target=Lt,Q.relatedTarget=X,oe=null,$t(ae)===q&&(Xe=new Xe(P,z+"enter",Ie,a,ae),Xe.target=X,Xe.relatedTarget=Lt,oe=Xe),Lt=oe,ne&&Ie)t:{for(Xe=ig,P=ne,z=Ie,X=0,oe=P;oe;oe=Xe(oe))X++;oe=0;for(var ze=z;ze;ze=Xe(ze))oe++;for(;0<X-oe;)P=Xe(P),X--;for(;0<oe-X;)z=Xe(z),oe--;for(;X--;){if(P===z||z!==null&&P===z.alternate){Xe=P;break t}P=Xe(P),z=Xe(z)}Xe=null}else Xe=null;ne!==null&&ud(de,Q,ne,Xe,!1),Ie!==null&&Lt!==null&&ud(de,Lt,Ie,Xe,!0)}}e:{if(Q=q?Or(q):window,ne=Q.nodeName&&Q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Q.type==="file")var wt=oi;else if(Ys(Q))if(Wl)wt=s;else{wt=i;var je=t}else ne=Q.nodeName,!ne||ne.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?q&&Ut(q.elementType)&&(wt=oi):wt=r;if(wt&&(wt=wt(e,q))){li(de,wt,a,ae);break e}je&&je(e,Q,q),e==="focusout"&&q&&Q.type==="number"&&q.memoizedProps.value!=null&&R(Q,"number",Q.value)}switch(je=q?Or(q):window,e){case"focusin":(Ys(je)||je.contentEditable==="true")&&(U=je,F=q,V=null);break;case"focusout":V=F=U=null;break;case"mousedown":K=!0;break;case"contextmenu":case"mouseup":case"dragend":K=!1,ye(de,a,ae);break;case"selectionchange":if(D)break;case"keydown":case"keyup":ye(de,a,ae)}var nt;if(ba)e:{switch(e){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else zr?Kl(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(Ql&&a.locale!=="ko"&&(zr||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&zr&&(nt=Lr()):(Bi=ae,Li="value"in Bi?Bi.value:Bi.textContent,zr=!0)),je=Ho(q,xt),0<je.length&&(xt=new Yl(xt,e,null,a,ae),de.push({event:xt,listeners:je}),nt?xt.data=nt:(nt=Fr(a),nt!==null&&(xt.data=nt)))),(nt=Zl?qi(e,a):es(e,a))&&(xt=Ho(q,"onBeforeInput"),0<xt.length&&(je=new Yl("onBeforeInput","beforeinput",null,a,ae),de.push({event:je,listeners:xt}),je.data=nt)),$2(de,e,q,a,ae)}od(de,n)})}function yl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ho(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ze(e,a),h!=null&&o.unshift(yl(e,h,m)),h=Ze(e,n),h!=null&&o.push(yl(e,h,m))),e.tag===3)return o;e=e.return}return[]}function ig(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ud(e,n,a,o,h){for(var m=n._reactName,C=[];a!==null&&a!==o;){var O=a,j=O.alternate,q=O.stateNode;if(O=O.tag,j!==null&&j===o)break;O!==5&&O!==26&&O!==27||q===null||(j=q,h?(q=Ze(a,m),q!=null&&C.unshift(yl(a,q,j))):h||(q=Ze(a,m),q!=null&&C.push(yl(a,q,j)))),a=a.return}C.length!==0&&e.push({event:n,listeners:C})}var rg=/\r\n?/g,ag=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ag,"")}function dd(e,n){return n=fd(n),fd(e)===n}function Bt(e,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Mr(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Mr(e,""+o);break;case"className":Dr(e,"class",o);break;case"tabIndex":Dr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dr(e,a,o);break;case"style":Fe(e,o,m);break;case"data":if(n!=="object"){Dr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Br(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Bt(e,n,"name",h.name,h,null),Bt(e,n,"formEncType",h.formEncType,h,null),Bt(e,n,"formMethod",h.formMethod,h,null),Bt(e,n,"formTarget",h.formTarget,h,null)):(Bt(e,n,"encType",h.encType,h,null),Bt(e,n,"method",h.method,h,null),Bt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Br(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&ft("scroll",e);break;case"onScrollEnd":o!=null&&ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(p(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Br(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":ft("beforetoggle",e),ft("toggle",e),Rr(e,"popover",o);break;case"xlinkActuate":ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ai(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ai(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ai(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ai(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Rr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hl.get(a)||a,Rr(e,a,o))}}function Ju(e,n,a,o,h,m){switch(a){case"style":Fe(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(p(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Mr(e,o):(typeof o=="number"||typeof o=="bigint")&&Mr(e,""+o);break;case"onScroll":o!=null&&ft("scroll",e);break;case"onScrollEnd":o!=null&&ft("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=e[Ot]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Rr(e,a,o)}}}function Bn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",e),ft("load",e);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var C=a[m];if(C!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:Bt(e,n,m,C,a,null)}}h&&Bt(e,n,"srcSet",a.srcSet,a,null),o&&Bt(e,n,"src",a.src,a,null);return;case"input":ft("invalid",e);var O=m=C=h=null,j=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var ae=a[o];if(ae!=null)switch(o){case"name":h=ae;break;case"type":C=ae;break;case"checked":j=ae;break;case"defaultChecked":q=ae;break;case"value":m=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(p(137,n));break;default:Bt(e,n,o,ae,a,null)}}G(e,m,O,j,q,C,h,!1);return;case"select":ft("invalid",e),o=C=m=null;for(h in a)if(a.hasOwnProperty(h)&&(O=a[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":C=O;break;case"multiple":o=O;default:Bt(e,n,h,O,a,null)}n=m,a=C,e.multiple=!!o,n!=null?Be(e,!!o,n,!1):a!=null&&Be(e,!!o,a,!0);return;case"textarea":ft("invalid",e),m=h=o=null;for(C in a)if(a.hasOwnProperty(C)&&(O=a[C],O!=null))switch(C){case"value":o=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(p(91));break;default:Bt(e,n,C,O,a,null)}zn(e,o,h,m);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Bt(e,n,j,o,a,null)}return;case"dialog":ft("beforetoggle",e),ft("toggle",e),ft("cancel",e),ft("close",e);break;case"iframe":case"object":ft("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)ft(pl[o],e);break;case"image":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"embed":case"source":case"link":ft("error",e),ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:Bt(e,n,q,o,a,null)}return;default:if(Ut(n)){for(ae in a)a.hasOwnProperty(ae)&&(o=a[ae],o!==void 0&&Ju(e,n,ae,o,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(o=a[O],o!=null&&Bt(e,n,O,o,a,null))}function sg(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,C=null,O=null,j=null,q=null,ae=null;for(ne in a){var de=a[ne];if(a.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":j=de;default:o.hasOwnProperty(ne)||Bt(e,n,ne,null,o,de)}}for(var Q in o){var ne=o[Q];if(de=a[Q],o.hasOwnProperty(Q)&&(ne!=null||de!=null))switch(Q){case"type":m=ne;break;case"name":h=ne;break;case"checked":q=ne;break;case"defaultChecked":ae=ne;break;case"value":C=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(p(137,n));break;default:ne!==de&&Bt(e,n,Q,ne,o,de)}}hn(e,C,O,j,q,ae,m,h);return;case"select":ne=C=O=Q=null;for(m in a)if(j=a[m],a.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":ne=j;default:o.hasOwnProperty(m)||Bt(e,n,m,null,o,j)}for(h in o)if(m=o[h],j=a[h],o.hasOwnProperty(h)&&(m!=null||j!=null))switch(h){case"value":Q=m;break;case"defaultValue":O=m;break;case"multiple":C=m;default:m!==j&&Bt(e,n,h,m,o,j)}n=O,a=C,o=ne,Q!=null?Be(e,!!a,Q,!1):!!o!=!!a&&(n!=null?Be(e,!!a,n,!0):Be(e,!!a,a?[]:"",!1));return;case"textarea":ne=Q=null;for(O in a)if(h=a[O],a.hasOwnProperty(O)&&h!=null&&!o.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Bt(e,n,O,null,o,h)}for(C in o)if(h=o[C],m=a[C],o.hasOwnProperty(C)&&(h!=null||m!=null))switch(C){case"value":Q=h;break;case"defaultValue":ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(p(91));break;default:h!==m&&Bt(e,n,C,h,o,m)}ln(e,Q,ne);return;case"option":for(var Ie in a)if(Q=a[Ie],a.hasOwnProperty(Ie)&&Q!=null&&!o.hasOwnProperty(Ie))switch(Ie){case"selected":e.selected=!1;break;default:Bt(e,n,Ie,null,o,Q)}for(j in o)if(Q=o[j],ne=a[j],o.hasOwnProperty(j)&&Q!==ne&&(Q!=null||ne!=null))switch(j){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Bt(e,n,j,Q,o,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in a)Q=a[Xe],a.hasOwnProperty(Xe)&&Q!=null&&!o.hasOwnProperty(Xe)&&Bt(e,n,Xe,null,o,Q);for(q in o)if(Q=o[q],ne=a[q],o.hasOwnProperty(q)&&Q!==ne&&(Q!=null||ne!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(p(137,n));break;default:Bt(e,n,q,Q,o,ne)}return;default:if(Ut(n)){for(var Lt in a)Q=a[Lt],a.hasOwnProperty(Lt)&&Q!==void 0&&!o.hasOwnProperty(Lt)&&Ju(e,n,Lt,void 0,o,Q);for(ae in o)Q=o[ae],ne=a[ae],!o.hasOwnProperty(ae)||Q===ne||Q===void 0&&ne===void 0||Ju(e,n,ae,Q,o,ne);return}}for(var P in a)Q=a[P],a.hasOwnProperty(P)&&Q!=null&&!o.hasOwnProperty(P)&&Bt(e,n,P,null,o,Q);for(de in o)Q=o[de],ne=a[de],!o.hasOwnProperty(de)||Q===ne||Q==null&&ne==null||Bt(e,n,de,Q,o,ne)}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,C=h.initiatorType,O=h.duration;if(m&&O&&hd(C)){for(C=0,O=h.responseEnd,o+=1;o<a.length;o++){var j=a[o],q=j.startTime;if(q>O)break;var ae=j.transferSize,de=j.initiatorType;ae&&hd(de)&&(j=j.responseEnd,C+=ae*(j<O?1:(O-q)/(j-q)))}if(--o,n+=8*(m+C)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $u=null,e0=null;function Po(e){return e.nodeType===9?e:e.ownerDocument}function gd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xd(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function t0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var n0=null;function og(){var e=window.event;return e&&e.type==="popstate"?e===n0?!1:(n0=e,!0):(n0=null,!1)}var md=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,ug=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(fg)}:md;function fg(e){setTimeout(function(){throw e})}function ra(e){return e==="head"}function yd(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ns(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,bl(a);for(var m=a.firstChild;m;){var C=m.nextSibling,O=m.nodeName;m[xa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=C}}else a==="body"&&bl(e.ownerDocument.body);a=h}while(a);Ns(n)}function bd(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function i0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":i0(a),Xn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dg(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[xa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ti(e.nextSibling),e===null)break}return null}function hg(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ti(e.nextSibling),e===null))return null;return e}function wd(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ti(e.nextSibling),e===null))return null;return e}function r0(e){return e.data==="$?"||e.data==="$~"}function a0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gg(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var s0=null;function Ad(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ti(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Ed(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Cd(e,n,a){switch(n=Po(a),e){case"html":if(e=n.documentElement,!e)throw Error(p(452));return e;case"head":if(e=n.head,!e)throw Error(p(453));return e;case"body":if(e=n.body,!e)throw Error(p(454));return e;default:throw Error(p(451))}}function bl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xn(e)}var _i=new Map,Sd=new Set;function Vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cr=se.d;se.d={f:xg,r:mg,D:pg,C:yg,L:bg,m:wg,X:Eg,S:Ag,M:Cg};function xg(){var e=Cr.f(),n=Bo();return e||n}function mg(e){var n=Et(e);n!==null&&n.tag===5&&n.type==="form"?z1(n):Cr.r(e)}var Cs=typeof document>"u"?null:document;function vd(e,n,a){var o=Cs;if(o&&typeof n=="string"&&n){var h=at(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Sd.has(h)||(Sd.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Bn(n,"link",e),en(n),o.head.appendChild(n)))}}function pg(e){Cr.D(e),vd("dns-prefetch",e,null)}function yg(e,n){Cr.C(e,n),vd("preconnect",e,n)}function bg(e,n,a){Cr.L(e,n,a);var o=Cs;if(o&&e&&n){var h='link[rel="preload"][as="'+at(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+at(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+at(a.imageSizes)+'"]')):h+='[href="'+at(e)+'"]';var m=h;switch(n){case"style":m=Ss(e);break;case"script":m=vs(e)}_i.has(m)||(e=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),_i.set(m,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(m))||n==="script"&&o.querySelector(Al(m))||(n=o.createElement("link"),Bn(n,"link",e),en(n),o.head.appendChild(n)))}}function wg(e,n){Cr.m(e,n);var a=Cs;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+at(o)+'"][href="'+at(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vs(e)}if(!_i.has(m)&&(e=L({rel:"modulepreload",href:e},n),_i.set(m,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(m)))return}o=a.createElement("link"),Bn(o,"link",e),en(o),a.head.appendChild(o)}}}function Ag(e,n,a){Cr.S(e,n,a);var o=Cs;if(o&&e){var h=Fn(o).hoistableStyles,m=Ss(e);n=n||"default";var C=h.get(m);if(!C){var O={loading:0,preload:null};if(C=o.querySelector(wl(m)))O.loading=5;else{e=L({rel:"stylesheet",href:e,"data-precedence":n},a),(a=_i.get(m))&&l0(e,a);var j=C=o.createElement("link");en(j),Bn(j,"link",e),j._p=new Promise(function(q,ae){j.onload=q,j.onerror=ae}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Go(C,n,o)}C={type:"stylesheet",instance:C,count:1,state:O},h.set(m,C)}}}function Eg(e,n){Cr.X(e,n);var a=Cs;if(a&&e){var o=Fn(a).hoistableScripts,h=vs(e),m=o.get(h);m||(m=a.querySelector(Al(h)),m||(e=L({src:e,async:!0},n),(n=_i.get(h))&&o0(e,n),m=a.createElement("script"),en(m),Bn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Cg(e,n){Cr.M(e,n);var a=Cs;if(a&&e){var o=Fn(a).hoistableScripts,h=vs(e),m=o.get(h);m||(m=a.querySelector(Al(h)),m||(e=L({src:e,async:!0,type:"module"},n),(n=_i.get(h))&&o0(e,n),m=a.createElement("script"),en(m),Bn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Nd(e,n,a,o){var h=(h=le.current)?Vo(h):null;if(!h)throw Error(p(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=Fn(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ss(a.href);var m=Fn(h).hoistableStyles,C=m.get(e);if(C||(h=h.ownerDocument||h,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,C),(m=h.querySelector(wl(e)))&&!m._p&&(C.instance=m,C.state.loading=5),_i.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_i.set(e,a),m||Sg(h,e,a,C.state))),n&&o===null)throw Error(p(528,""));return C}if(n&&o!==null)throw Error(p(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vs(a),a=Fn(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,e))}}function Ss(e){return'href="'+at(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return L({},e,{"data-precedence":e.precedence,precedence:null})}function Sg(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Bn(n,"link",a),en(n),e.head.appendChild(n))}function vs(e){return'[src="'+at(e)+'"]'}function Al(e){return"script[async]"+e}function _d(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+at(a.href)+'"]');if(o)return n.instance=o,en(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),en(o),Bn(o,"style",h),Go(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ss(a.href);var m=e.querySelector(wl(h));if(m)return n.state.loading|=4,n.instance=m,en(m),m;o=Td(a),(h=_i.get(h))&&l0(o,h),m=(e.ownerDocument||e).createElement("link"),en(m);var C=m;return C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),Bn(m,"link",o),n.state.loading|=4,Go(m,a.precedence,e),n.instance=m;case"script":return m=vs(a.src),(h=e.querySelector(Al(m)))?(n.instance=h,en(h),h):(o=a,(h=_i.get(m))&&(o=L({},a),o0(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),en(h),Bn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(p(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Go(o,a.precedence,e));return n.instance}function Go(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,C=0;C<o.length;C++){var O=o[C];if(O.dataset.precedence===n)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function l0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function o0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xo=null;function Od(e,n,a){if(Xo===null){var o=new Map,h=Xo=new Map;h.set(a,o)}else h=Xo,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[xa]||m[sn]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(n)||"";C=e+C;var O=o.get(C);O?O.push(m):o.set(C,[m])}}return o}function Rd(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function vg(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ng(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ss(o.href),m=n.querySelector(wl(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Yo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=m,en(m);return}m=n.ownerDocument||n,o=Td(o),(h=_i.get(h))&&l0(o,h),m=m.createElement("link"),en(m);var C=m;C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),Bn(m,"link",o),a.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var c0=0;function Tg(e,n){return e.stylesheets&&e.count===0&&Zo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Zo(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&c0===0&&(c0=62500*lg());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zo(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>c0?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qo=null;function Zo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qo=new Map,n.forEach(_g,e),qo=null,Yo.call(e))}function _g(e,n){if(!(n.state.loading&4)){var a=qo.get(e);if(a)var o=a.get(null);else{a=new Map,qo.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var C=h[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(a.set(C.dataset.precedence,C),o=C)}o&&a.set(null,o)}h=n.instance,C=h.getAttribute("data-precedence"),m=a.get(C)||o,m===o&&a.set(null,h),a.set(C,h),this.count++,o=Yo.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var El={$$typeof:ce,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function Og(e,n,a,o,h,m,C,O,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Id(e,n,a,o,h,m,C,O,j,q,ae,de){return e=new Og(e,n,a,C,j,q,ae,de,O),n=1,m===!0&&(n|=24),m=ci(3,null,null,n),e.current=m,m.stateNode=e,n=Pc(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Yc(m),e}function Md(e){return e?(e=ns,e):ns}function Bd(e,n,a,o,h,m){h=Md(h),o.context===null?o.context=h:o.pendingContext=h,o=qr(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Zr(e,o,n),a!==null&&($n(a,e,n),el(a,e,n))}function Ld(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function u0(e,n){Ld(e,n),(e=e.alternate)&&Ld(e,n)}function jd(e){if(e.tag===13||e.tag===31){var n=Sa(e,67108864);n!==null&&$n(n,e,67108864),u0(e,67108864)}}function Ud(e){if(e.tag===13||e.tag===31){var n=gi();n=vn(n);var a=Sa(e,n);a!==null&&$n(a,e,n),u0(e,n)}}var Qo=!0;function Rg(e,n,a,o){var h=Y.T;Y.T=null;var m=se.p;try{se.p=2,f0(e,n,a,o)}finally{se.p=m,Y.T=h}}function Dg(e,n,a,o){var h=Y.T;Y.T=null;var m=se.p;try{se.p=8,f0(e,n,a,o)}finally{se.p=m,Y.T=h}}function f0(e,n,a,o){if(Qo){var h=d0(o);if(h===null)Wu(e,n,o,Ko,a),Fd(e,o);else if(Mg(h,e,n,a,o))o.stopPropagation();else if(Fd(e,o),n&4&&-1<Ig.indexOf(e)){for(;h!==null;){var m=Et(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=zi(m.pendingLanes);if(C!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var j=1<<31-et(C);O.entanglements[1]|=j,C&=~j}Wi(m),(St&6)===0&&(Io=Wt()+500,ml(0))}}break;case 31:case 13:O=Sa(m,2),O!==null&&$n(O,m,2),Bo(),u0(m,2)}if(m=d0(o),m===null&&Wu(e,n,o,Ko,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Wu(e,n,o,null,a)}}function d0(e){return e=Fs(e),h0(e)}var Ko=null;function h0(e){if(Ko=null,e=$t(e),e!==null){var n=b(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=T(n),e!==null)return e;e=null}else if(a===31){if(e=M(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ko=e,null}function kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case Gn:return 2;case Bs:return 8;case ni:case _n:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var g0=!1,aa=null,sa=null,la=null,Cl=new Map,Sl=new Map,oa=[],Ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fd(e,n){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function vl(e,n,a,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Et(n),n!==null&&jd(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Mg(e,n,a,o,h){switch(n){case"focusin":return aa=vl(aa,e,n,a,o,h),!0;case"dragenter":return sa=vl(sa,e,n,a,o,h),!0;case"mouseover":return la=vl(la,e,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Cl.set(m,vl(Cl.get(m)||null,e,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Sl.set(m,vl(Sl.get(m)||null,e,n,a,o,h)),!0}return!1}function zd(e){var n=$t(e.target);if(n!==null){var a=b(n);if(a!==null){if(n=a.tag,n===13){if(n=T(a),n!==null){e.blockedOn=n,Te(e.priority,function(){Ud(a)});return}}else if(n===31){if(n=M(a),n!==null){e.blockedOn=n,Te(e.priority,function(){Ud(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=d0(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ma=o,a.target.dispatchEvent(o),ma=null}else return n=Et(a),n!==null&&jd(n),e.blockedOn=a,!1;n.shift()}return!0}function Hd(e,n,a){Wo(e)&&a.delete(n)}function Bg(){g0=!1,aa!==null&&Wo(aa)&&(aa=null),sa!==null&&Wo(sa)&&(sa=null),la!==null&&Wo(la)&&(la=null),Cl.forEach(Hd),Sl.forEach(Hd)}function Jo(e,n){e.blockedOn===n&&(e.blockedOn=null,g0||(g0=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Bg)))}var $o=null;function Pd(e){$o!==e&&($o=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){$o===e&&($o=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(h0(o||a)===null)continue;break}var m=Et(a);m!==null&&(e.splice(n,3),n-=3,du(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ns(e){function n(j){return Jo(j,e)}aa!==null&&Jo(aa,e),sa!==null&&Jo(sa,e),la!==null&&Jo(la,e),Cl.forEach(n),Sl.forEach(n);for(var a=0;a<oa.length;a++){var o=oa[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<oa.length&&(a=oa[0],a.blockedOn===null);)zd(a),a.blockedOn===null&&oa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],C=h[Ot]||null;if(typeof m=="function")C||Pd(a);else if(C){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,C=m[Ot]||null)O=C.formAction;else if(h0(h)!==null)continue}else O=C.action;typeof O=="function"?a[o+1]=O:(a.splice(o,3),o-=3),Pd(a)}}}function Vd(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(C){return h=C})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function x0(e){this._internalRoot=e}ec.prototype.render=x0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(p(409));var a=n.current,o=gi();Bd(a,o,e,n,null,null)},ec.prototype.unmount=x0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bd(e.current,2,null,e,null,null),Bo(),n[ii]=null}};function ec(e){this._internalRoot=e}ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=Un();e={blockedOn:null,target:e,priority:n};for(var a=0;a<oa.length&&n!==0&&n<oa[a].priority;a++);oa.splice(a,0,e),a===0&&zd(e)}};var Gd=d.version;if(Gd!=="19.2.0")throw Error(p(527,Gd,"19.2.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=S(n),e=e!==null?I(e):null,e=e===null?null:e.stateNode,e};var Lg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Ht=tc.inject(Lg),we=tc}catch{}}return Tl.createRoot=function(e,n){if(!A(e))throw Error(p(299));var a=!1,o="",h=K1,m=W1,C=J1;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=Id(e,1,!1,null,null,a,o,null,h,m,C,Vd),e[ii]=n.current,Ku(e),new x0(n)},Tl.hydrateRoot=function(e,n,a){if(!A(e))throw Error(p(299));var o=!1,h="",m=K1,C=W1,O=J1,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),n=Id(e,1,!0,n,a??null,o,h,j,m,C,O,Vd),n.context=Md(null),a=n.current,o=gi(),o=vn(o),h=qr(o),h.callback=null,Zr(a,h,o),a=o,n.current.lanes=a,Pi(n,a),Wi(n),e[ii]=n.current,Ku(e),new ec(n)},Tl.version="19.2.0",Tl}var eh;function Yg(){if(eh)return y0.exports;eh=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(d){console.error(d)}}return f(),y0.exports=Xg(),y0.exports}var qg=Yg();const Zg=kh(qg),Fh=xe.createContext(null);function zh(f,d){return function(){return f.apply(d,arguments)}}const{toString:Qg}=Object.prototype,{getPrototypeOf:j0}=Object,{iterator:gc,toStringTag:Hh}=Symbol,xc=(f=>d=>{const g=Qg.call(d);return f[g]||(f[g]=g.slice(8,-1).toLowerCase())})(Object.create(null)),Fi=f=>(f=f.toLowerCase(),d=>xc(d)===f),mc=f=>d=>typeof d===f,{isArray:Rs}=Array,Os=mc("undefined");function Ml(f){return f!==null&&!Os(f)&&f.constructor!==null&&!Os(f.constructor)&&ei(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const Ph=Fi("ArrayBuffer");function Kg(f){let d;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?d=ArrayBuffer.isView(f):d=f&&f.buffer&&Ph(f.buffer),d}const Wg=mc("string"),ei=mc("function"),Vh=mc("number"),Bl=f=>f!==null&&typeof f=="object",Jg=f=>f===!0||f===!1,sc=f=>{if(xc(f)!=="object")return!1;const d=j0(f);return(d===null||d===Object.prototype||Object.getPrototypeOf(d)===null)&&!(Hh in f)&&!(gc in f)},$g=f=>{if(!Bl(f)||Ml(f))return!1;try{return Object.keys(f).length===0&&Object.getPrototypeOf(f)===Object.prototype}catch{return!1}},ex=Fi("Date"),tx=Fi("File"),nx=Fi("Blob"),ix=Fi("FileList"),rx=f=>Bl(f)&&ei(f.pipe),ax=f=>{let d;return f&&(typeof FormData=="function"&&f instanceof FormData||ei(f.append)&&((d=xc(f))==="formdata"||d==="object"&&ei(f.toString)&&f.toString()==="[object FormData]"))},sx=Fi("URLSearchParams"),[lx,ox,cx,ux]=["ReadableStream","Request","Response","Headers"].map(Fi),fx=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ll(f,d,{allOwnKeys:g=!1}={}){if(f===null||typeof f>"u")return;let p,A;if(typeof f!="object"&&(f=[f]),Rs(f))for(p=0,A=f.length;p<A;p++)d.call(null,f[p],p,f);else{if(Ml(f))return;const b=g?Object.getOwnPropertyNames(f):Object.keys(f),T=b.length;let M;for(p=0;p<T;p++)M=b[p],d.call(null,f[M],M,f)}}function Gh(f,d){if(Ml(f))return null;d=d.toLowerCase();const g=Object.keys(f);let p=g.length,A;for(;p-- >0;)if(A=g[p],d===A.toLowerCase())return A;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xh=f=>!Os(f)&&f!==ka;function _0(){const{caseless:f,skipUndefined:d}=Xh(this)&&this||{},g={},p=(A,b)=>{const T=f&&Gh(g,b)||b;sc(g[T])&&sc(A)?g[T]=_0(g[T],A):sc(A)?g[T]=_0({},A):Rs(A)?g[T]=A.slice():(!d||!Os(A))&&(g[T]=A)};for(let A=0,b=arguments.length;A<b;A++)arguments[A]&&Ll(arguments[A],p);return g}const dx=(f,d,g,{allOwnKeys:p}={})=>(Ll(d,(A,b)=>{g&&ei(A)?f[b]=zh(A,g):f[b]=A},{allOwnKeys:p}),f),hx=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),gx=(f,d,g,p)=>{f.prototype=Object.create(d.prototype,p),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:d.prototype}),g&&Object.assign(f.prototype,g)},xx=(f,d,g,p)=>{let A,b,T;const M={};if(d=d||{},f==null)return d;do{for(A=Object.getOwnPropertyNames(f),b=A.length;b-- >0;)T=A[b],(!p||p(T,f,d))&&!M[T]&&(d[T]=f[T],M[T]=!0);f=g!==!1&&j0(f)}while(f&&(!g||g(f,d))&&f!==Object.prototype);return d},mx=(f,d,g)=>{f=String(f),(g===void 0||g>f.length)&&(g=f.length),g-=d.length;const p=f.indexOf(d,g);return p!==-1&&p===g},px=f=>{if(!f)return null;if(Rs(f))return f;let d=f.length;if(!Vh(d))return null;const g=new Array(d);for(;d-- >0;)g[d]=f[d];return g},yx=(f=>d=>f&&d instanceof f)(typeof Uint8Array<"u"&&j0(Uint8Array)),bx=(f,d)=>{const p=(f&&f[gc]).call(f);let A;for(;(A=p.next())&&!A.done;){const b=A.value;d.call(f,b[0],b[1])}},wx=(f,d)=>{let g;const p=[];for(;(g=f.exec(d))!==null;)p.push(g);return p},Ax=Fi("HTMLFormElement"),Ex=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(g,p,A){return p.toUpperCase()+A}),th=(({hasOwnProperty:f})=>(d,g)=>f.call(d,g))(Object.prototype),Cx=Fi("RegExp"),Yh=(f,d)=>{const g=Object.getOwnPropertyDescriptors(f),p={};Ll(g,(A,b)=>{let T;(T=d(A,b,f))!==!1&&(p[b]=T||A)}),Object.defineProperties(f,p)},Sx=f=>{Yh(f,(d,g)=>{if(ei(f)&&["arguments","caller","callee"].indexOf(g)!==-1)return!1;const p=f[g];if(ei(p)){if(d.enumerable=!1,"writable"in d){d.writable=!1;return}d.set||(d.set=()=>{throw Error("Can not rewrite read-only method '"+g+"'")})}})},vx=(f,d)=>{const g={},p=A=>{A.forEach(b=>{g[b]=!0})};return Rs(f)?p(f):p(String(f).split(d)),g},Nx=()=>{},Tx=(f,d)=>f!=null&&Number.isFinite(f=+f)?f:d;function _x(f){return!!(f&&ei(f.append)&&f[Hh]==="FormData"&&f[gc])}const Ox=f=>{const d=new Array(10),g=(p,A)=>{if(Bl(p)){if(d.indexOf(p)>=0)return;if(Ml(p))return p;if(!("toJSON"in p)){d[A]=p;const b=Rs(p)?[]:{};return Ll(p,(T,M)=>{const B=g(T,A+1);!Os(B)&&(b[M]=B)}),d[A]=void 0,b}}return p};return g(f,0)},Rx=Fi("AsyncFunction"),Dx=f=>f&&(Bl(f)||ei(f))&&ei(f.then)&&ei(f.catch),qh=((f,d)=>f?setImmediate:d?((g,p)=>(ka.addEventListener("message",({source:A,data:b})=>{A===ka&&b===g&&p.length&&p.shift()()},!1),A=>{p.push(A),ka.postMessage(g,"*")}))(`axios@${Math.random()}`,[]):g=>setTimeout(g))(typeof setImmediate=="function",ei(ka.postMessage)),Ix=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||qh,Mx=f=>f!=null&&ei(f[gc]),$={isArray:Rs,isArrayBuffer:Ph,isBuffer:Ml,isFormData:ax,isArrayBufferView:Kg,isString:Wg,isNumber:Vh,isBoolean:Jg,isObject:Bl,isPlainObject:sc,isEmptyObject:$g,isReadableStream:lx,isRequest:ox,isResponse:cx,isHeaders:ux,isUndefined:Os,isDate:ex,isFile:tx,isBlob:nx,isRegExp:Cx,isFunction:ei,isStream:rx,isURLSearchParams:sx,isTypedArray:yx,isFileList:ix,forEach:Ll,merge:_0,extend:dx,trim:fx,stripBOM:hx,inherits:gx,toFlatObject:xx,kindOf:xc,kindOfTest:Fi,endsWith:mx,toArray:px,forEachEntry:bx,matchAll:wx,isHTMLForm:Ax,hasOwnProperty:th,hasOwnProp:th,reduceDescriptors:Yh,freezeMethods:Sx,toObjectSet:vx,toCamelCase:Ex,noop:Nx,toFiniteNumber:Tx,findKey:Gh,global:ka,isContextDefined:Xh,isSpecCompliantForm:_x,toJSONObject:Ox,isAsyncFn:Rx,isThenable:Dx,setImmediate:qh,asap:Ix,isIterable:Mx};function Je(f,d,g,p,A){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",d&&(this.code=d),g&&(this.config=g),p&&(this.request=p),A&&(this.response=A,this.status=A.status?A.status:null)}$.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const Zh=Je.prototype,Qh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{Qh[f]={value:f}});Object.defineProperties(Je,Qh);Object.defineProperty(Zh,"isAxiosError",{value:!0});Je.from=(f,d,g,p,A,b)=>{const T=Object.create(Zh);$.toFlatObject(f,T,function(I){return I!==Error.prototype},S=>S!=="isAxiosError");const M=f&&f.message?f.message:"Error",B=d==null&&f?f.code:d;return Je.call(T,M,B,g,p,A),f&&T.cause==null&&Object.defineProperty(T,"cause",{value:f,configurable:!0}),T.name=f&&f.name||"Error",b&&Object.assign(T,b),T};const Bx=null;function O0(f){return $.isPlainObject(f)||$.isArray(f)}function Kh(f){return $.endsWith(f,"[]")?f.slice(0,-2):f}function nh(f,d,g){return f?f.concat(d).map(function(A,b){return A=Kh(A),!g&&b?"["+A+"]":A}).join(g?".":""):d}function Lx(f){return $.isArray(f)&&!f.some(O0)}const jx=$.toFlatObject($,{},null,function(d){return/^is[A-Z]/.test(d)});function pc(f,d,g){if(!$.isObject(f))throw new TypeError("target must be an object");d=d||new FormData,g=$.toFlatObject(g,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Z,fe){return!$.isUndefined(fe[Z])});const p=g.metaTokens,A=g.visitor||I,b=g.dots,T=g.indexes,B=(g.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(d);if(!$.isFunction(A))throw new TypeError("visitor must be a function");function S(H){if(H===null)return"";if($.isDate(H))return H.toISOString();if($.isBoolean(H))return H.toString();if(!B&&$.isBlob(H))throw new Je("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(H)||$.isTypedArray(H)?B&&typeof Blob=="function"?new Blob([H]):Buffer.from(H):H}function I(H,Z,fe){let Me=H;if(H&&!fe&&typeof H=="object"){if($.endsWith(Z,"{}"))Z=p?Z:Z.slice(0,-2),H=JSON.stringify(H);else if($.isArray(H)&&Lx(H)||($.isFileList(H)||$.endsWith(Z,"[]"))&&(Me=$.toArray(H)))return Z=Kh(Z),Me.forEach(function(ce,Se){!($.isUndefined(ce)||ce===null)&&d.append(T===!0?nh([Z],Se,b):T===null?Z:Z+"[]",S(ce))}),!1}return O0(H)?!0:(d.append(nh(fe,Z,b),S(H)),!1)}const L=[],re=Object.assign(jx,{defaultVisitor:I,convertValue:S,isVisitable:O0});function ue(H,Z){if(!$.isUndefined(H)){if(L.indexOf(H)!==-1)throw Error("Circular reference detected in "+Z.join("."));L.push(H),$.forEach(H,function(Me,_e){(!($.isUndefined(Me)||Me===null)&&A.call(d,Me,$.isString(_e)?_e.trim():_e,Z,re))===!0&&ue(Me,Z?Z.concat(_e):[_e])}),L.pop()}}if(!$.isObject(f))throw new TypeError("data must be an object");return ue(f),d}function ih(f){const d={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(p){return d[p]})}function U0(f,d){this._pairs=[],f&&pc(f,this,d)}const Wh=U0.prototype;Wh.append=function(d,g){this._pairs.push([d,g])};Wh.toString=function(d){const g=d?function(p){return d.call(this,p,ih)}:ih;return this._pairs.map(function(A){return g(A[0])+"="+g(A[1])},"").join("&")};function Ux(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jh(f,d,g){if(!d)return f;const p=g&&g.encode||Ux;$.isFunction(g)&&(g={serialize:g});const A=g&&g.serialize;let b;if(A?b=A(d,g):b=$.isURLSearchParams(d)?d.toString():new U0(d,g).toString(p),b){const T=f.indexOf("#");T!==-1&&(f=f.slice(0,T)),f+=(f.indexOf("?")===-1?"?":"&")+b}return f}class rh{constructor(){this.handlers=[]}use(d,g,p){return this.handlers.push({fulfilled:d,rejected:g,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1}eject(d){this.handlers[d]&&(this.handlers[d]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(d){$.forEach(this.handlers,function(p){p!==null&&d(p)})}}const $h={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kx=typeof URLSearchParams<"u"?URLSearchParams:U0,Fx=typeof FormData<"u"?FormData:null,zx=typeof Blob<"u"?Blob:null,Hx={isBrowser:!0,classes:{URLSearchParams:kx,FormData:Fx,Blob:zx},protocols:["http","https","file","blob","url","data"]},k0=typeof window<"u"&&typeof document<"u",R0=typeof navigator=="object"&&navigator||void 0,Px=k0&&(!R0||["ReactNative","NativeScript","NS"].indexOf(R0.product)<0),Vx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gx=k0&&window.location.href||"http://localhost",Xx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:k0,hasStandardBrowserEnv:Px,hasStandardBrowserWebWorkerEnv:Vx,navigator:R0,origin:Gx},Symbol.toStringTag,{value:"Module"})),jn={...Xx,...Hx};function Yx(f,d){return pc(f,new jn.classes.URLSearchParams,{visitor:function(g,p,A,b){return jn.isNode&&$.isBuffer(g)?(this.append(p,g.toString("base64")),!1):b.defaultVisitor.apply(this,arguments)},...d})}function qx(f){return $.matchAll(/\w+|\[(\w*)]/g,f).map(d=>d[0]==="[]"?"":d[1]||d[0])}function Zx(f){const d={},g=Object.keys(f);let p;const A=g.length;let b;for(p=0;p<A;p++)b=g[p],d[b]=f[b];return d}function e2(f){function d(g,p,A,b){let T=g[b++];if(T==="__proto__")return!0;const M=Number.isFinite(+T),B=b>=g.length;return T=!T&&$.isArray(A)?A.length:T,B?($.hasOwnProp(A,T)?A[T]=[A[T],p]:A[T]=p,!M):((!A[T]||!$.isObject(A[T]))&&(A[T]=[]),d(g,p,A[T],b)&&$.isArray(A[T])&&(A[T]=Zx(A[T])),!M)}if($.isFormData(f)&&$.isFunction(f.entries)){const g={};return $.forEachEntry(f,(p,A)=>{d(qx(p),A,g,0)}),g}return null}function Qx(f,d,g){if($.isString(f))try{return(d||JSON.parse)(f),$.trim(f)}catch(p){if(p.name!=="SyntaxError")throw p}return(g||JSON.stringify)(f)}const jl={transitional:$h,adapter:["xhr","http","fetch"],transformRequest:[function(d,g){const p=g.getContentType()||"",A=p.indexOf("application/json")>-1,b=$.isObject(d);if(b&&$.isHTMLForm(d)&&(d=new FormData(d)),$.isFormData(d))return A?JSON.stringify(e2(d)):d;if($.isArrayBuffer(d)||$.isBuffer(d)||$.isStream(d)||$.isFile(d)||$.isBlob(d)||$.isReadableStream(d))return d;if($.isArrayBufferView(d))return d.buffer;if($.isURLSearchParams(d))return g.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let M;if(b){if(p.indexOf("application/x-www-form-urlencoded")>-1)return Yx(d,this.formSerializer).toString();if((M=$.isFileList(d))||p.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return pc(M?{"files[]":d}:d,B&&new B,this.formSerializer)}}return b||A?(g.setContentType("application/json",!1),Qx(d)):d}],transformResponse:[function(d){const g=this.transitional||jl.transitional,p=g&&g.forcedJSONParsing,A=this.responseType==="json";if($.isResponse(d)||$.isReadableStream(d))return d;if(d&&$.isString(d)&&(p&&!this.responseType||A)){const T=!(g&&g.silentJSONParsing)&&A;try{return JSON.parse(d,this.parseReviver)}catch(M){if(T)throw M.name==="SyntaxError"?Je.from(M,Je.ERR_BAD_RESPONSE,this,null,this.response):M}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],f=>{jl.headers[f]={}});const Kx=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wx=f=>{const d={};let g,p,A;return f&&f.split(`
`).forEach(function(T){A=T.indexOf(":"),g=T.substring(0,A).trim().toLowerCase(),p=T.substring(A+1).trim(),!(!g||d[g]&&Kx[g])&&(g==="set-cookie"?d[g]?d[g].push(p):d[g]=[p]:d[g]=d[g]?d[g]+", "+p:p)}),d},ah=Symbol("internals");function _l(f){return f&&String(f).trim().toLowerCase()}function lc(f){return f===!1||f==null?f:$.isArray(f)?f.map(lc):String(f)}function Jx(f){const d=Object.create(null),g=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let p;for(;p=g.exec(f);)d[p[1]]=p[2];return d}const $x=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function E0(f,d,g,p,A){if($.isFunction(p))return p.call(this,d,g);if(A&&(d=g),!!$.isString(d)){if($.isString(p))return d.indexOf(p)!==-1;if($.isRegExp(p))return p.test(d)}}function em(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(d,g,p)=>g.toUpperCase()+p)}function tm(f,d){const g=$.toCamelCase(" "+d);["get","set","has"].forEach(p=>{Object.defineProperty(f,p+g,{value:function(A,b,T){return this[p].call(this,d,A,b,T)},configurable:!0})})}let ti=class{constructor(d){d&&this.set(d)}set(d,g,p){const A=this;function b(M,B,S){const I=_l(B);if(!I)throw new Error("header name must be a non-empty string");const L=$.findKey(A,I);(!L||A[L]===void 0||S===!0||S===void 0&&A[L]!==!1)&&(A[L||B]=lc(M))}const T=(M,B)=>$.forEach(M,(S,I)=>b(S,I,B));if($.isPlainObject(d)||d instanceof this.constructor)T(d,g);else if($.isString(d)&&(d=d.trim())&&!$x(d))T(Wx(d),g);else if($.isObject(d)&&$.isIterable(d)){let M={},B,S;for(const I of d){if(!$.isArray(I))throw TypeError("Object iterator must return a key-value pair");M[S=I[0]]=(B=M[S])?$.isArray(B)?[...B,I[1]]:[B,I[1]]:I[1]}T(M,g)}else d!=null&&b(g,d,p);return this}get(d,g){if(d=_l(d),d){const p=$.findKey(this,d);if(p){const A=this[p];if(!g)return A;if(g===!0)return Jx(A);if($.isFunction(g))return g.call(this,A,p);if($.isRegExp(g))return g.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(d,g){if(d=_l(d),d){const p=$.findKey(this,d);return!!(p&&this[p]!==void 0&&(!g||E0(this,this[p],p,g)))}return!1}delete(d,g){const p=this;let A=!1;function b(T){if(T=_l(T),T){const M=$.findKey(p,T);M&&(!g||E0(p,p[M],M,g))&&(delete p[M],A=!0)}}return $.isArray(d)?d.forEach(b):b(d),A}clear(d){const g=Object.keys(this);let p=g.length,A=!1;for(;p--;){const b=g[p];(!d||E0(this,this[b],b,d,!0))&&(delete this[b],A=!0)}return A}normalize(d){const g=this,p={};return $.forEach(this,(A,b)=>{const T=$.findKey(p,b);if(T){g[T]=lc(A),delete g[b];return}const M=d?em(b):String(b).trim();M!==b&&delete g[b],g[M]=lc(A),p[M]=!0}),this}concat(...d){return this.constructor.concat(this,...d)}toJSON(d){const g=Object.create(null);return $.forEach(this,(p,A)=>{p!=null&&p!==!1&&(g[A]=d&&$.isArray(p)?p.join(", "):p)}),g}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([d,g])=>d+": "+g).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(d){return d instanceof this?d:new this(d)}static concat(d,...g){const p=new this(d);return g.forEach(A=>p.set(A)),p}static accessor(d){const p=(this[ah]=this[ah]={accessors:{}}).accessors,A=this.prototype;function b(T){const M=_l(T);p[M]||(tm(A,T),p[M]=!0)}return $.isArray(d)?d.forEach(b):b(d),this}};ti.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(ti.prototype,({value:f},d)=>{let g=d[0].toUpperCase()+d.slice(1);return{get:()=>f,set(p){this[g]=p}}});$.freezeMethods(ti);function C0(f,d){const g=this||jl,p=d||g,A=ti.from(p.headers);let b=p.data;return $.forEach(f,function(M){b=M.call(g,b,A.normalize(),d?d.status:void 0)}),A.normalize(),b}function t2(f){return!!(f&&f.__CANCEL__)}function Ds(f,d,g){Je.call(this,f??"canceled",Je.ERR_CANCELED,d,g),this.name="CanceledError"}$.inherits(Ds,Je,{__CANCEL__:!0});function n2(f,d,g){const p=g.config.validateStatus;!g.status||!p||p(g.status)?f(g):d(new Je("Request failed with status code "+g.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(g.status/100)-4],g.config,g.request,g))}function nm(f){const d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return d&&d[1]||""}function im(f,d){f=f||10;const g=new Array(f),p=new Array(f);let A=0,b=0,T;return d=d!==void 0?d:1e3,function(B){const S=Date.now(),I=p[b];T||(T=S),g[A]=B,p[A]=S;let L=b,re=0;for(;L!==A;)re+=g[L++],L=L%f;if(A=(A+1)%f,A===b&&(b=(b+1)%f),S-T<d)return;const ue=I&&S-I;return ue?Math.round(re*1e3/ue):void 0}}function rm(f,d){let g=0,p=1e3/d,A,b;const T=(S,I=Date.now())=>{g=I,A=null,b&&(clearTimeout(b),b=null),f(...S)};return[(...S)=>{const I=Date.now(),L=I-g;L>=p?T(S,I):(A=S,b||(b=setTimeout(()=>{b=null,T(A)},p-L)))},()=>A&&T(A)]}const uc=(f,d,g=3)=>{let p=0;const A=im(50,250);return rm(b=>{const T=b.loaded,M=b.lengthComputable?b.total:void 0,B=T-p,S=A(B),I=T<=M;p=T;const L={loaded:T,total:M,progress:M?T/M:void 0,bytes:B,rate:S||void 0,estimated:S&&M&&I?(M-T)/S:void 0,event:b,lengthComputable:M!=null,[d?"download":"upload"]:!0};f(L)},g)},sh=(f,d)=>{const g=f!=null;return[p=>d[0]({lengthComputable:g,total:f,loaded:p}),d[1]]},lh=f=>(...d)=>$.asap(()=>f(...d)),am=jn.hasStandardBrowserEnv?((f,d)=>g=>(g=new URL(g,jn.origin),f.protocol===g.protocol&&f.host===g.host&&(d||f.port===g.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,sm=jn.hasStandardBrowserEnv?{write(f,d,g,p,A,b){const T=[f+"="+encodeURIComponent(d)];$.isNumber(g)&&T.push("expires="+new Date(g).toGMTString()),$.isString(p)&&T.push("path="+p),$.isString(A)&&T.push("domain="+A),b===!0&&T.push("secure"),document.cookie=T.join("; ")},read(f){const d=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return d?decodeURIComponent(d[3]):null},remove(f){this.write(f,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lm(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function om(f,d){return d?f.replace(/\/?\/$/,"")+"/"+d.replace(/^\/+/,""):f}function i2(f,d,g){let p=!lm(d);return f&&(p||g==!1)?om(f,d):d}const oh=f=>f instanceof ti?{...f}:f;function za(f,d){d=d||{};const g={};function p(S,I,L,re){return $.isPlainObject(S)&&$.isPlainObject(I)?$.merge.call({caseless:re},S,I):$.isPlainObject(I)?$.merge({},I):$.isArray(I)?I.slice():I}function A(S,I,L,re){if($.isUndefined(I)){if(!$.isUndefined(S))return p(void 0,S,L,re)}else return p(S,I,L,re)}function b(S,I){if(!$.isUndefined(I))return p(void 0,I)}function T(S,I){if($.isUndefined(I)){if(!$.isUndefined(S))return p(void 0,S)}else return p(void 0,I)}function M(S,I,L){if(L in d)return p(S,I);if(L in f)return p(void 0,S)}const B={url:b,method:b,data:b,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,withXSRFToken:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:M,headers:(S,I,L)=>A(oh(S),oh(I),L,!0)};return $.forEach(Object.keys({...f,...d}),function(I){const L=B[I]||A,re=L(f[I],d[I],I);$.isUndefined(re)&&L!==M||(g[I]=re)}),g}const r2=f=>{const d=za({},f);let{data:g,withXSRFToken:p,xsrfHeaderName:A,xsrfCookieName:b,headers:T,auth:M}=d;if(d.headers=T=ti.from(T),d.url=Jh(i2(d.baseURL,d.url,d.allowAbsoluteUrls),f.params,f.paramsSerializer),M&&T.set("Authorization","Basic "+btoa((M.username||"")+":"+(M.password?unescape(encodeURIComponent(M.password)):""))),$.isFormData(g)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)T.setContentType(void 0);else if($.isFunction(g.getHeaders)){const B=g.getHeaders(),S=["content-type","content-length"];Object.entries(B).forEach(([I,L])=>{S.includes(I.toLowerCase())&&T.set(I,L)})}}if(jn.hasStandardBrowserEnv&&(p&&$.isFunction(p)&&(p=p(d)),p||p!==!1&&am(d.url))){const B=A&&b&&sm.read(b);B&&T.set(A,B)}return d},cm=typeof XMLHttpRequest<"u",um=cm&&function(f){return new Promise(function(g,p){const A=r2(f);let b=A.data;const T=ti.from(A.headers).normalize();let{responseType:M,onUploadProgress:B,onDownloadProgress:S}=A,I,L,re,ue,H;function Z(){ue&&ue(),H&&H(),A.cancelToken&&A.cancelToken.unsubscribe(I),A.signal&&A.signal.removeEventListener("abort",I)}let fe=new XMLHttpRequest;fe.open(A.method.toUpperCase(),A.url,!0),fe.timeout=A.timeout;function Me(){if(!fe)return;const ce=ti.from("getAllResponseHeaders"in fe&&fe.getAllResponseHeaders()),Ne={data:!M||M==="text"||M==="json"?fe.responseText:fe.response,status:fe.status,statusText:fe.statusText,headers:ce,config:f,request:fe};n2(function(ee){g(ee),Z()},function(ee){p(ee),Z()},Ne),fe=null}"onloadend"in fe?fe.onloadend=Me:fe.onreadystatechange=function(){!fe||fe.readyState!==4||fe.status===0&&!(fe.responseURL&&fe.responseURL.indexOf("file:")===0)||setTimeout(Me)},fe.onabort=function(){fe&&(p(new Je("Request aborted",Je.ECONNABORTED,f,fe)),fe=null)},fe.onerror=function(Se){const Ne=Se&&Se.message?Se.message:"Network Error",Ae=new Je(Ne,Je.ERR_NETWORK,f,fe);Ae.event=Se||null,p(Ae),fe=null},fe.ontimeout=function(){let Se=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const Ne=A.transitional||$h;A.timeoutErrorMessage&&(Se=A.timeoutErrorMessage),p(new Je(Se,Ne.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,f,fe)),fe=null},b===void 0&&T.setContentType(null),"setRequestHeader"in fe&&$.forEach(T.toJSON(),function(Se,Ne){fe.setRequestHeader(Ne,Se)}),$.isUndefined(A.withCredentials)||(fe.withCredentials=!!A.withCredentials),M&&M!=="json"&&(fe.responseType=A.responseType),S&&([re,H]=uc(S,!0),fe.addEventListener("progress",re)),B&&fe.upload&&([L,ue]=uc(B),fe.upload.addEventListener("progress",L),fe.upload.addEventListener("loadend",ue)),(A.cancelToken||A.signal)&&(I=ce=>{fe&&(p(!ce||ce.type?new Ds(null,f,fe):ce),fe.abort(),fe=null)},A.cancelToken&&A.cancelToken.subscribe(I),A.signal&&(A.signal.aborted?I():A.signal.addEventListener("abort",I)));const _e=nm(A.url);if(_e&&jn.protocols.indexOf(_e)===-1){p(new Je("Unsupported protocol "+_e+":",Je.ERR_BAD_REQUEST,f));return}fe.send(b||null)})},fm=(f,d)=>{const{length:g}=f=f?f.filter(Boolean):[];if(d||g){let p=new AbortController,A;const b=function(S){if(!A){A=!0,M();const I=S instanceof Error?S:this.reason;p.abort(I instanceof Je?I:new Ds(I instanceof Error?I.message:I))}};let T=d&&setTimeout(()=>{T=null,b(new Je(`timeout ${d} of ms exceeded`,Je.ETIMEDOUT))},d);const M=()=>{f&&(T&&clearTimeout(T),T=null,f.forEach(S=>{S.unsubscribe?S.unsubscribe(b):S.removeEventListener("abort",b)}),f=null)};f.forEach(S=>S.addEventListener("abort",b));const{signal:B}=p;return B.unsubscribe=()=>$.asap(M),B}},dm=function*(f,d){let g=f.byteLength;if(g<d){yield f;return}let p=0,A;for(;p<g;)A=p+d,yield f.slice(p,A),p=A},hm=async function*(f,d){for await(const g of gm(f))yield*dm(g,d)},gm=async function*(f){if(f[Symbol.asyncIterator]){yield*f;return}const d=f.getReader();try{for(;;){const{done:g,value:p}=await d.read();if(g)break;yield p}}finally{await d.cancel()}},ch=(f,d,g,p)=>{const A=hm(f,d);let b=0,T,M=B=>{T||(T=!0,p&&p(B))};return new ReadableStream({async pull(B){try{const{done:S,value:I}=await A.next();if(S){M(),B.close();return}let L=I.byteLength;if(g){let re=b+=L;g(re)}B.enqueue(new Uint8Array(I))}catch(S){throw M(S),S}},cancel(B){return M(B),A.return()}},{highWaterMark:2})},uh=64*1024,{isFunction:ic}=$,xm=(({Request:f,Response:d})=>({Request:f,Response:d}))($.global),{ReadableStream:fh,TextEncoder:dh}=$.global,hh=(f,...d)=>{try{return!!f(...d)}catch{return!1}},mm=f=>{f=$.merge.call({skipUndefined:!0},xm,f);const{fetch:d,Request:g,Response:p}=f,A=d?ic(d):typeof fetch=="function",b=ic(g),T=ic(p);if(!A)return!1;const M=A&&ic(fh),B=A&&(typeof dh=="function"?(H=>Z=>H.encode(Z))(new dh):async H=>new Uint8Array(await new g(H).arrayBuffer())),S=b&&M&&hh(()=>{let H=!1;const Z=new g(jn.origin,{body:new fh,method:"POST",get duplex(){return H=!0,"half"}}).headers.has("Content-Type");return H&&!Z}),I=T&&M&&hh(()=>$.isReadableStream(new p("").body)),L={stream:I&&(H=>H.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach(H=>{!L[H]&&(L[H]=(Z,fe)=>{let Me=Z&&Z[H];if(Me)return Me.call(Z);throw new Je(`Response type '${H}' is not supported`,Je.ERR_NOT_SUPPORT,fe)})});const re=async H=>{if(H==null)return 0;if($.isBlob(H))return H.size;if($.isSpecCompliantForm(H))return(await new g(jn.origin,{method:"POST",body:H}).arrayBuffer()).byteLength;if($.isArrayBufferView(H)||$.isArrayBuffer(H))return H.byteLength;if($.isURLSearchParams(H)&&(H=H+""),$.isString(H))return(await B(H)).byteLength},ue=async(H,Z)=>{const fe=$.toFiniteNumber(H.getContentLength());return fe??re(Z)};return async H=>{let{url:Z,method:fe,data:Me,signal:_e,cancelToken:ce,timeout:Se,onDownloadProgress:Ne,onUploadProgress:Ae,responseType:ee,headers:Ue,withCredentials:ie="same-origin",fetchOptions:rt}=r2(H),$e=d||fetch;ee=ee?(ee+"").toLowerCase():"text";let Ee=fm([_e,ce&&ce.toAbortSignal()],Se),Ge=null;const Ve=Ee&&Ee.unsubscribe&&(()=>{Ee.unsubscribe()});let J;try{if(Ae&&S&&fe!=="get"&&fe!=="head"&&(J=await ue(Ue,Me))!==0){let k=new g(Z,{method:"POST",body:Me,duplex:"half"}),te;if($.isFormData(Me)&&(te=k.headers.get("content-type"))&&Ue.setContentType(te),k.body){const[be,Ce]=sh(J,uc(lh(Ae)));Me=ch(k.body,uh,be,Ce)}}$.isString(ie)||(ie=ie?"include":"omit");const Y=b&&"credentials"in g.prototype,se={...rt,signal:Ee,method:fe.toUpperCase(),headers:Ue.normalize().toJSON(),body:Me,duplex:"half",credentials:Y?ie:void 0};Ge=b&&new g(Z,se);let Oe=await(b?$e(Ge,rt):$e(Z,se));const ve=I&&(ee==="stream"||ee==="response");if(I&&(Ne||ve&&Ve)){const k={};["status","statusText","headers"].forEach(he=>{k[he]=Oe[he]});const te=$.toFiniteNumber(Oe.headers.get("content-length")),[be,Ce]=Ne&&sh(te,uc(lh(Ne),!0))||[];Oe=new p(ch(Oe.body,uh,be,()=>{Ce&&Ce(),Ve&&Ve()}),k)}ee=ee||"text";let Le=await L[$.findKey(L,ee)||"text"](Oe,H);return!ve&&Ve&&Ve(),await new Promise((k,te)=>{n2(k,te,{data:Le,headers:ti.from(Oe.headers),status:Oe.status,statusText:Oe.statusText,config:H,request:Ge})})}catch(Y){throw Ve&&Ve(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,H,Ge),{cause:Y.cause||Y}):Je.from(Y,Y&&Y.code,H,Ge)}}},pm=new Map,a2=f=>{let d=f?f.env:{};const{fetch:g,Request:p,Response:A}=d,b=[p,A,g];let T=b.length,M=T,B,S,I=pm;for(;M--;)B=b[M],S=I.get(B),S===void 0&&I.set(B,S=M?new Map:mm(d)),I=S;return S};a2();const D0={http:Bx,xhr:um,fetch:{get:a2}};$.forEach(D0,(f,d)=>{if(f){try{Object.defineProperty(f,"name",{value:d})}catch{}Object.defineProperty(f,"adapterName",{value:d})}});const gh=f=>`- ${f}`,ym=f=>$.isFunction(f)||f===null||f===!1,s2={getAdapter:(f,d)=>{f=$.isArray(f)?f:[f];const{length:g}=f;let p,A;const b={};for(let T=0;T<g;T++){p=f[T];let M;if(A=p,!ym(p)&&(A=D0[(M=String(p)).toLowerCase()],A===void 0))throw new Je(`Unknown adapter '${M}'`);if(A&&($.isFunction(A)||(A=A.get(d))))break;b[M||"#"+T]=A}if(!A){const T=Object.entries(b).map(([B,S])=>`adapter ${B} `+(S===!1?"is not supported by the environment":"is not available in the build"));let M=g?T.length>1?`since :
`+T.map(gh).join(`
`):" "+gh(T[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+M,"ERR_NOT_SUPPORT")}return A},adapters:D0};function S0(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new Ds(null,f)}function xh(f){return S0(f),f.headers=ti.from(f.headers),f.data=C0.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),s2.getAdapter(f.adapter||jl.adapter,f)(f).then(function(p){return S0(f),p.data=C0.call(f,f.transformResponse,p),p.headers=ti.from(p.headers),p},function(p){return t2(p)||(S0(f),p&&p.response&&(p.response.data=C0.call(f,f.transformResponse,p.response),p.response.headers=ti.from(p.response.headers))),Promise.reject(p)})}const l2="1.12.2",yc={};["object","boolean","number","function","string","symbol"].forEach((f,d)=>{yc[f]=function(p){return typeof p===f||"a"+(d<1?"n ":" ")+f}});const mh={};yc.transitional=function(d,g,p){function A(b,T){return"[Axios v"+l2+"] Transitional option '"+b+"'"+T+(p?". "+p:"")}return(b,T,M)=>{if(d===!1)throw new Je(A(T," has been removed"+(g?" in "+g:"")),Je.ERR_DEPRECATED);return g&&!mh[T]&&(mh[T]=!0,console.warn(A(T," has been deprecated since v"+g+" and will be removed in the near future"))),d?d(b,T,M):!0}};yc.spelling=function(d){return(g,p)=>(console.warn(`${p} is likely a misspelling of ${d}`),!0)};function bm(f,d,g){if(typeof f!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const p=Object.keys(f);let A=p.length;for(;A-- >0;){const b=p[A],T=d[b];if(T){const M=f[b],B=M===void 0||T(M,b,f);if(B!==!0)throw new Je("option "+b+" must be "+B,Je.ERR_BAD_OPTION_VALUE);continue}if(g!==!0)throw new Je("Unknown option "+b,Je.ERR_BAD_OPTION)}}const oc={assertOptions:bm,validators:yc},Ji=oc.validators;let Fa=class{constructor(d){this.defaults=d||{},this.interceptors={request:new rh,response:new rh}}async request(d,g){try{return await this._request(d,g)}catch(p){if(p instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const b=A.stack?A.stack.replace(/^.+\n/,""):"";try{p.stack?b&&!String(p.stack).endsWith(b.replace(/^.+\n.+\n/,""))&&(p.stack+=`
`+b):p.stack=b}catch{}}throw p}}_request(d,g){typeof d=="string"?(g=g||{},g.url=d):g=d||{},g=za(this.defaults,g);const{transitional:p,paramsSerializer:A,headers:b}=g;p!==void 0&&oc.assertOptions(p,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),A!=null&&($.isFunction(A)?g.paramsSerializer={serialize:A}:oc.assertOptions(A,{encode:Ji.function,serialize:Ji.function},!0)),g.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?g.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:g.allowAbsoluteUrls=!0),oc.assertOptions(g,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),g.method=(g.method||this.defaults.method||"get").toLowerCase();let T=b&&$.merge(b.common,b[g.method]);b&&$.forEach(["delete","get","head","post","put","patch","common"],H=>{delete b[H]}),g.headers=ti.concat(T,b);const M=[];let B=!0;this.interceptors.request.forEach(function(Z){typeof Z.runWhen=="function"&&Z.runWhen(g)===!1||(B=B&&Z.synchronous,M.unshift(Z.fulfilled,Z.rejected))});const S=[];this.interceptors.response.forEach(function(Z){S.push(Z.fulfilled,Z.rejected)});let I,L=0,re;if(!B){const H=[xh.bind(this),void 0];for(H.unshift(...M),H.push(...S),re=H.length,I=Promise.resolve(g);L<re;)I=I.then(H[L++],H[L++]);return I}re=M.length;let ue=g;for(;L<re;){const H=M[L++],Z=M[L++];try{ue=H(ue)}catch(fe){Z.call(this,fe);break}}try{I=xh.call(this,ue)}catch(H){return Promise.reject(H)}for(L=0,re=S.length;L<re;)I=I.then(S[L++],S[L++]);return I}getUri(d){d=za(this.defaults,d);const g=i2(d.baseURL,d.url,d.allowAbsoluteUrls);return Jh(g,d.params,d.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(d){Fa.prototype[d]=function(g,p){return this.request(za(p||{},{method:d,url:g,data:(p||{}).data}))}});$.forEach(["post","put","patch"],function(d){function g(p){return function(b,T,M){return this.request(za(M||{},{method:d,headers:p?{"Content-Type":"multipart/form-data"}:{},url:b,data:T}))}}Fa.prototype[d]=g(),Fa.prototype[d+"Form"]=g(!0)});let wm=class o2{constructor(d){if(typeof d!="function")throw new TypeError("executor must be a function.");let g;this.promise=new Promise(function(b){g=b});const p=this;this.promise.then(A=>{if(!p._listeners)return;let b=p._listeners.length;for(;b-- >0;)p._listeners[b](A);p._listeners=null}),this.promise.then=A=>{let b;const T=new Promise(M=>{p.subscribe(M),b=M}).then(A);return T.cancel=function(){p.unsubscribe(b)},T},d(function(b,T,M){p.reason||(p.reason=new Ds(b,T,M),g(p.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(d){if(this.reason){d(this.reason);return}this._listeners?this._listeners.push(d):this._listeners=[d]}unsubscribe(d){if(!this._listeners)return;const g=this._listeners.indexOf(d);g!==-1&&this._listeners.splice(g,1)}toAbortSignal(){const d=new AbortController,g=p=>{d.abort(p)};return this.subscribe(g),d.signal.unsubscribe=()=>this.unsubscribe(g),d.signal}static source(){let d;return{token:new o2(function(A){d=A}),cancel:d}}};function Am(f){return function(g){return f.apply(null,g)}}function Em(f){return $.isObject(f)&&f.isAxiosError===!0}const I0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(I0).forEach(([f,d])=>{I0[d]=f});function c2(f){const d=new Fa(f),g=zh(Fa.prototype.request,d);return $.extend(g,Fa.prototype,d,{allOwnKeys:!0}),$.extend(g,d,null,{allOwnKeys:!0}),g.create=function(A){return c2(za(f,A))},g}const fn=c2(jl);fn.Axios=Fa;fn.CanceledError=Ds;fn.CancelToken=wm;fn.isCancel=t2;fn.VERSION=l2;fn.toFormData=pc;fn.AxiosError=Je;fn.Cancel=fn.CanceledError;fn.all=function(d){return Promise.all(d)};fn.spread=Am;fn.isAxiosError=Em;fn.mergeConfig=za;fn.AxiosHeaders=ti;fn.formToJSON=f=>e2($.isHTMLForm(f)?new FormData(f):f);fn.getAdapter=s2.getAdapter;fn.HttpStatusCode=I0;fn.default=fn;const{Axios:op,AxiosError:cp,CanceledError:up,isCancel:fp,CancelToken:dp,VERSION:hp,all:gp,Cancel:xp,isAxiosError:mp,spread:pp,toFormData:yp,AxiosHeaders:bp,HttpStatusCode:wp,formToJSON:Ap,getAdapter:Ep,mergeConfig:Cp}=fn,Cm="https://ns327060.ip-5-135-138.eu/api_express/api",jt=fn.create({baseURL:Cm,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});jt.interceptors.request.use(f=>{const d=localStorage.getItem("auth_token");return d&&(f.headers.DOLAPIKEY=d),f},f=>Promise.reject(f));jt.interceptors.response.use(f=>f,f=>{if(f.response)switch(f.response.status){case 401:localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/";break;case 403:console.error("Accs refus");break;case 404:console.error("Ressource non trouve");break;case 500:console.error("Erreur serveur");break;default:console.error("Erreur API:",f.response.data)}else f.request?console.error("Pas de rponse du serveur"):console.error("Erreur:",f.message);return Promise.reject(f)});const rc={login:async(f,d)=>{try{const g=await jt.post("/auth/login",{login:f,password:d}),{succes:p,token:A,user:b}=g.data;if(p==="ok"&&A){if(localStorage.setItem("auth_token",A),b)localStorage.setItem("user",JSON.stringify(b));else{const T={login:f,token:A};localStorage.setItem("user",JSON.stringify(T))}return{success:!0,token:A,user:b||{login:f,token:A}}}throw new Error("chec de la connexion")}catch(g){if(console.error("Erreur lors de la connexion:",g),g.response){const p=g.response.data?.error||"Identifiants incorrects";throw new Error(p)}else throw g.request?new Error("Impossible de contacter le serveur"):g}},logout:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user")},isAuthenticated:()=>!!localStorage.getItem("auth_token"),getCurrentUser:()=>{const f=localStorage.getItem("user");return f?JSON.parse(f):null},getToken:()=>localStorage.getItem("auth_token")},F0={getClients:async(f={})=>{try{const d=await jt.get("/thirdparties",{params:{page:f.page||0,client_type:1,...f}});let g=d.data.result||d.data;return Array.isArray(g)&&(g=g.filter(p=>p.client&&parseInt(p.client)>=1)),g}catch(d){throw console.error("Erreur lors de la rcupration des clients:",d),d}},getClientById:async f=>{try{const d=await jt.get(`/thirdparties/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration du client:",d),d}},getClientDiscounts:async f=>{try{const d=await jt.get(`/thirdparties/${f}/fixedamountdiscounts`);return d.data.result||d.data}catch(d){return console.error("Erreur lors de la rcupration des remises:",d),[]}},searchClients:async(f,d=[])=>{if(!f)return d;const g=f.toLowerCase();return d.filter(p=>p.name?.toLowerCase().includes(g)||p.code_client?.toLowerCase().includes(g)||p.nom?.toLowerCase().includes(g)||p.email?.toLowerCase().includes(g)||p.town?.toLowerCase().includes(g))}},Ua={getProducts:async(f={})=>{try{const d=await jt.get("/products",{params:{page:f.page||0,...f}});return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration des produits:",d),d}},getProductById:async f=>{try{const d=await jt.get(`/products/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration du produit:",d),d}},getProductStock:async f=>{try{const d=await jt.get(`/products/${f}/stock`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration du stock:",d),d}},getProductByBarcode:async f=>{try{const d=await jt.get(`/products/barcode/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la recherche par code-barres:",d),d}},searchProducts:async f=>{try{const d=await jt.get("/products",{params:{page:0}}),g=d.data.result||d.data;return f&&Array.isArray(g)?g.filter(p=>p.label?.toLowerCase().includes(f.toLowerCase())||p.ref?.toLowerCase().includes(f.toLowerCase())):g}catch(d){throw console.error("Erreur lors de la recherche de produits:",d),d}},getCategories:async()=>{try{const f=await jt.get("/products/categories/list",{params:{type:0}});return f.data.result||f.data}catch(f){throw console.error("Erreur lors de la rcupration des catgories:",f),f}}},M0={createProposal:async f=>{try{console.log(f);const d=await jt.post("/proposals",f);return console.log(d),console.log(d.data),d.data}catch(d){throw console.error("Erreur lors de la cration du devis:",d),d}},getProposalById:async f=>{try{const d=await jt.get(`/proposals/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration du devis:",d),d}},getProposals:async(f={})=>{try{const d=await jt.get("/proposals",{params:{page:f.page||0,...f}});return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration des devis:",d),d}},getOrders:async(f={})=>{try{const d=await jt.get("/orders",{params:{page:f.page||0,...f}});return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration des commandes:",d),d}},getOrderById:async f=>{try{const d=await jt.get(`/orders/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration de la commande:",d),d}},getPaymentMethods:async()=>{try{const f=await jt.get("/setup",{params:{page:0}}),d=f.data.result||f.data;return!d||d.length===0?[{id:1,code:"CB",label:"Carte Bancaire"},{id:2,code:"VIR",label:"Virement"},{id:3,code:"CHQ",label:"Chque"},{id:4,code:"PRE",label:"Prlvement"}]:d}catch(f){return console.error("Erreur lors de la rcupration des modes de paiement:",f),[{id:1,code:"CB",label:"Carte Bancaire"},{id:2,code:"VIR",label:"Virement"},{id:3,code:"CHQ",label:"Chque"},{id:4,code:"PRE",label:"Prlvement"}]}}},Sm={createSale:async f=>{try{const d=await jt.post("/sellout/sales",f);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la cration du sellout:",d),d}}},vm={getProposals:async(f={})=>{try{const d=await jt.get("/proposals",{params:f});return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration des devis:",d),d}},getProposalById:async f=>{try{const d=await jt.get(`/proposals/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration du devis:",d),d}},getSignedProposals:async f=>{try{const g={page:0,sqlfilters:"(t.fk_statut:=:2)"};f&&(g.thirdparty_ids=f);const p=await jt.get("/proposals",{params:g});return p.data.result||p.data}catch(d){throw console.error("Erreur lors de la rcupration des devis signs:",d),d}}},cc={getShipments:async(f={})=>{try{const d=await jt.get("/shipments",{params:{page:f.page||0,status:f.status,thirdparty_ids:f.thirdparty_ids}});return d.data.result||d.data||[]}catch(d){throw console.error("Erreur lors de la rcupration des livraisons:",d),d}},getShipmentById:async f=>{try{const d=await jt.get(`/shipments/${f}`);return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la rcupration de la livraison:",d),d}},validateShipment:async f=>{try{const d=await jt.post(`/shipments/${f}/validate`,{notrigger:0});return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la validation de la livraison:",d),d}},closeShipment:async f=>{try{const d=await jt.post(`/shipments/${f}/close`,{notrigger:0});return d.data.result||d.data}catch(d){throw console.error("Erreur lors de la clture de la livraison:",d),d}},getStatusLabel:f=>{switch(Number(f)){case 0:return"Brouillon";case 1:return"Valid";case 2:return"Livr";default:return"Inconnu"}},getStatusColor:f=>{switch(Number(f)){case 0:return{bg:"bg-gray-100",text:"text-gray-700"};case 1:return{bg:"bg-blue-100",text:"text-blue-700"};case 2:return{bg:"bg-green-100",text:"text-green-700"};default:return{bg:"bg-zinc-100",text:"text-zinc-700"}}}},Nm=()=>{const[f,d]=xe.useState(null),[g,p]=xe.useState(!0),[A,b]=xe.useState(null);xe.useEffect(()=>{(()=>{try{if(rc.isAuthenticated()){const I=rc.getCurrentUser();d(I)}}catch(I){console.error("Erreur lors de la vrification de l'authentification:",I),b(I.message)}finally{p(!1)}})()},[]);const T=xe.useCallback(async S=>{p(!0),b(null);try{const{login:I,password:L}=S,ue=(await rc.login(I,L)).user;return localStorage.setItem("user",JSON.stringify(ue)),d(ue),{success:!0,user:ue}}catch(I){const L=I.message||"chec de la connexion";return b(L),{success:!1,error:L}}finally{p(!1)}},[]),M=xe.useCallback(()=>{rc.logout(),d(null),b(null)},[]),B=xe.useCallback(S=>{const I={...f,...S};d(I),localStorage.setItem("user",JSON.stringify(I))},[f]);return{user:f,loading:g,error:A,login:T,logout:M,updateUser:B,isAuthenticated:!!f}},Tm=({children:f})=>{const d=Nm();return w.jsx(Fh.Provider,{value:d,children:f})},_m=()=>{const f=xe.useContext(Fh);if(!f)throw new Error("useAuthContext doit tre utilis dans un AuthProvider");return f};const Om=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rm=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(d,g,p)=>p?p.toUpperCase():g.toLowerCase()),ph=f=>{const d=Rm(f);return d.charAt(0).toUpperCase()+d.slice(1)},u2=(...f)=>f.filter((d,g,p)=>!!d&&d.trim()!==""&&p.indexOf(d)===g).join(" ").trim(),Dm=f=>{for(const d in f)if(d.startsWith("aria-")||d==="role"||d==="title")return!0};var Im={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mm=xe.forwardRef(({color:f="currentColor",size:d=24,strokeWidth:g=2,absoluteStrokeWidth:p,className:A="",children:b,iconNode:T,...M},B)=>xe.createElement("svg",{ref:B,...Im,width:d,height:d,stroke:f,strokeWidth:p?Number(g)*24/Number(d):g,className:u2("lucide",A),...!b&&!Dm(M)&&{"aria-hidden":"true"},...M},[...T.map(([S,I])=>xe.createElement(S,I)),...Array.isArray(b)?b:[b]]));const qt=(f,d)=>{const g=xe.forwardRef(({className:p,...A},b)=>xe.createElement(Mm,{ref:b,iconNode:d,className:u2(`lucide-${Om(ph(f))}`,`lucide-${f}`,p),...A}));return g.displayName=ph(f),g};const Bm=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fa=qt("arrow-left",Bm);const Lm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jm=qt("bell",Lm);const Um=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],yh=qt("camera",Um);const km=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],f2=qt("chevron-left",km);const Fm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nr=qt("circle-alert",Fm);const zm=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ua=qt("circle-check-big",zm);const Hm=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Is=qt("clock",Hm);const Pm=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Vm=qt("credit-card",Pm);const Gm=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dl=qt("file-text",Gm);const Xm=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Oi=qt("loader-circle",Xm);const Ym=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qm=qt("mail",Ym);const Zm=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qm=qt("map-pin",Zm);const Km=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],d2=qt("message-square",Km);const Wm=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ha=qt("package",Wm);const Jm=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$m=qt("pen-line",Jm);const e3=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],bh=qt("pen-tool",e3);const t3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],n3=qt("phone",t3);const i3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h2=qt("refresh-cw",i3);const r3=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],z0=qt("scan",r3);const a3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Il=qt("search",a3);const s3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],l3=qt("tag",s3);const o3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],c3=qt("trash-2",o3);const u3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],vr=qt("truck",u3);const f3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bc=qt("user",f3);const d3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wc=qt("x",d3),g2="/test/b2b/assets/A2S_Logo_Vector-Dogiv4Vh.svg";function v0({onLoadComplete:f}){return xe.useEffect(()=>{const d=setTimeout(()=>{f()},2e3);return()=>clearTimeout(d)},[f]),w.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-32 h-32 bg-white rounded-3xl shadow-2xl flex items-center justify-center mb-6 mx-auto p-4",children:w.jsx("img",{src:g2,alt:"A2S Logo",className:"w-full h-full object-contain"})}),w.jsx(Oi,{className:"w-8 h-8 text-white animate-spin mx-auto"})]})})}function $i({onLogin:f}){const[d,g]=xe.useState(""),[p,A]=xe.useState(""),[b,T]=xe.useState(!1),[M,B]=xe.useState(""),S=async()=>{if(!d||!p){B("Veuillez remplir tous les champs");return}T(!0),B("");try{await f({login:d,password:p})}catch(I){B(I.message||"Erreur de connexion")}finally{T(!1)}};return w.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col px-6 py-8",children:w.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl flex items-center justify-center mx-auto mb-6 p-3 shadow-lg",children:w.jsx("img",{src:g2,alt:"A2S Logo",className:"w-full h-full object-contain"})}),w.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue"}),w.jsx("p",{className:"text-center text-gray-600",children:"Connectez-vous  votre espace"})]}),w.jsxs("div",{className:"space-y-5",children:[M&&w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:M}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Identifiant"}),w.jsx("input",{type:"text",value:d,onChange:I=>g(I.target.value),placeholder:"votre.identifiant",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:b,autoComplete:"username"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),w.jsx("input",{type:"password",value:p,onChange:I=>A(I.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:b,autoComplete:"current-password",onKeyPress:I=>{I.key==="Enter"&&S()}})]}),w.jsx("button",{onClick:S,disabled:b,className:"w-full bg-green-600 text-white py-3 rounded-xl font-medium hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:b?w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion en cours..."]}):"Se connecter"})]})]})})}function h3({user:f,onNavigate:d,onLogout:g}){return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("h1",{className:"text-xl font-bold",children:"Alliance Synergie Sant"}),w.jsx("button",{onClick:g,className:"text-sm bg-green-700 px-4 py-2 rounded-lg hover:bg-green-800 transition",children:"Dconnexion"})]}),w.jsxs("div",{className:"flex items-center gap-2 text-green-100 text-sm",children:[w.jsx(bc,{className:"w-4 h-4"}),w.jsx("span",{children:f.login||f.email})]})]}),w.jsxs("div",{className:"px-6 py-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Que souhaitez-vous faire ?"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("button",{onClick:()=>d("clientSearch"),className:"w-full bg-white rounded-xl p-6 shadow-sm border-2 border-gray-200 hover:border-green-500 hover:shadow-md transition-all text-left group",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center group-hover:bg-green-600 transition",children:w.jsx(Il,{className:"w-8 h-8 text-green-600 group-hover:text-white transition"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"SellIn"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Rechercher un client et crer un devis (flux existant)"})]}),w.jsx("div",{className:"text-gray-400 group-hover:text-green-600 transition",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),w.jsx("button",{onClick:()=>d("selloutClientSearch"),className:"w-full bg-white rounded-xl p-6 shadow-sm border-2 border-gray-200 hover:border-blue-500 hover:shadow-md transition-all text-left group",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center group-hover:bg-blue-600 transition",children:w.jsx(z0,{className:"w-8 h-8 text-blue-600 group-hover:text-white transition"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Sellout"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Vendre sur le terrain et envoyer vers Dolibarr (module Sellout)"})]}),w.jsx("div",{className:"text-gray-400 group-hover:text-blue-600 transition",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),w.jsx("button",{onClick:()=>d("proposalList"),className:"w-full bg-white rounded-xl p-6 shadow-sm border-2 border-gray-200 hover:border-blue-500 hover:shadow-md transition-all text-left group",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center group-hover:bg-blue-600 transition",children:w.jsx(Dl,{className:"w-8 h-8 text-blue-600 group-hover:text-white transition"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Mes Devis"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Consulter les devis en attente et valids"})]}),w.jsx("div",{className:"text-gray-400 group-hover:text-blue-600 transition",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),w.jsx("button",{onClick:()=>d("shipmentList"),className:"w-full bg-white rounded-xl p-6 shadow-sm border-2 border-gray-200 hover:border-purple-500 hover:shadow-md transition-all text-left group",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center group-hover:bg-purple-600 transition",children:w.jsx(vr,{className:"w-8 h-8 text-purple-600 group-hover:text-white transition"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Mes Livraisons"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Consulter et signer les bons de livraison"})]}),w.jsx("div",{className:"text-gray-400 group-hover:text-purple-600 transition",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})]})]})]})}function g3({user:f,onClientSelect:d,onBack:g,onLogout:p}){const[A,b]=xe.useState(""),[T,M]=xe.useState([]),[B,S]=xe.useState([]),[I,L]=xe.useState(!0),[re,ue]=xe.useState("");return xe.useEffect(()=>{(async()=>{try{L(!0);const Z=await F0.getClients({page:0});M(Z),S(Z)}catch(Z){console.error("Erreur chargement clients:",Z),ue("Impossible de charger les clients")}finally{L(!1)}})()},[]),xe.useEffect(()=>{if(!A){S(T);return}const H=A.toLowerCase(),Z=T.filter(fe=>fe.name?.toLowerCase().includes(H)||fe.nom?.toLowerCase().includes(H)||fe.code_client?.toLowerCase().includes(H)||fe.email?.toLowerCase().includes(H)||fe.town?.toLowerCase().includes(H));S(Z)},[A,T]),w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-green-700 px-3 py-2 rounded-lg hover:bg-green-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsx("h1",{className:"text-xl font-bold",children:"Recherche Client"})]}),w.jsx("button",{onClick:p,className:"text-sm bg-green-700 px-4 py-2 rounded-lg hover:bg-green-800",children:"Dconnexion"})]}),w.jsxs("div",{className:"flex items-center bg-white rounded-xl px-4 py-3",children:[w.jsx(Il,{className:"w-5 h-5 text-gray-400 mr-3"}),w.jsx("input",{type:"text",value:A,onChange:H=>b(H.target.value),placeholder:"Rechercher un client...",className:"flex-1 text-gray-900 focus:outline-none"}),A&&w.jsx("button",{onClick:()=>b(""),children:w.jsx(wc,{className:"w-5 h-5 text-gray-400"})})]})]}),w.jsxs("div",{className:"px-6 py-4",children:[w.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Connect en tant que: ",w.jsx("span",{className:"font-medium text-gray-900",children:f.login||f.email})]}),re&&w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm mb-4",children:re}),I?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx(Oi,{className:"w-12 h-12 text-green-600 animate-spin mb-4"}),w.jsx("p",{className:"text-gray-500",children:"Chargement des clients..."})]}):w.jsx("div",{className:"space-y-3",children:B.length>0?B.map(H=>w.jsx("button",{onClick:()=>d(H),className:"w-full bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md hover:border-green-300 transition-all text-left",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:H.name||H.nom||"Client sans nom"}),H.town&&w.jsx("p",{className:"text-sm text-gray-600",children:H.town})]}),w.jsx(f2,{className:"w-5 h-5 text-gray-400 transform rotate-180"})]})},H.id)):w.jsxs("div",{className:"text-center py-12",children:[w.jsx(Il,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500",children:A?"Aucun client trouv":"Aucun client disponible"})]})})]})]})}const Ol={getDiscount:async(f,d)=>{try{const g=await jt.get(`/discounts/${f}/${d}`);return g.data.result||g.data}catch(g){throw console.error("Erreur lors de la rcupration de la rduction:",g),g}},getDiscountsBatch:async(f,d)=>{try{const g=await jt.post("/discounts/batch",{product_ids:f,client_id:d});return g.data.result||g.data}catch(g){throw console.error("Erreur lors de la rcupration des rductions:",g),g}},calculateDiscountedPrice:(f,d)=>!d||d<=0?f:f*(1-d/100),formatDiscount:f=>!f||f<=0?"":`-${f}%`};var Re;(function(f){f[f.QR_CODE=0]="QR_CODE",f[f.AZTEC=1]="AZTEC",f[f.CODABAR=2]="CODABAR",f[f.CODE_39=3]="CODE_39",f[f.CODE_93=4]="CODE_93",f[f.CODE_128=5]="CODE_128",f[f.DATA_MATRIX=6]="DATA_MATRIX",f[f.MAXICODE=7]="MAXICODE",f[f.ITF=8]="ITF",f[f.EAN_13=9]="EAN_13",f[f.EAN_8=10]="EAN_8",f[f.PDF_417=11]="PDF_417",f[f.RSS_14=12]="RSS_14",f[f.RSS_EXPANDED=13]="RSS_EXPANDED",f[f.UPC_A=14]="UPC_A",f[f.UPC_E=15]="UPC_E",f[f.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Re||(Re={}));var wh=new Map([[Re.QR_CODE,"QR_CODE"],[Re.AZTEC,"AZTEC"],[Re.CODABAR,"CODABAR"],[Re.CODE_39,"CODE_39"],[Re.CODE_93,"CODE_93"],[Re.CODE_128,"CODE_128"],[Re.DATA_MATRIX,"DATA_MATRIX"],[Re.MAXICODE,"MAXICODE"],[Re.ITF,"ITF"],[Re.EAN_13,"EAN_13"],[Re.EAN_8,"EAN_8"],[Re.PDF_417,"PDF_417"],[Re.RSS_14,"RSS_14"],[Re.RSS_EXPANDED,"RSS_EXPANDED"],[Re.UPC_A,"UPC_A"],[Re.UPC_E,"UPC_E"],[Re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ah;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.URL=1]="URL"})(Ah||(Ah={}));function x3(f){return Object.values(Re).includes(f)}var fc;(function(f){f[f.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",f[f.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(fc||(fc={}));var m3=(function(){function f(){}return f.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",f.SCAN_DEFAULT_FPS=2,f.DEFAULT_DISABLE_FLIP=!1,f.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,f.DEFAULT_SUPPORTED_SCAN_TYPE=[fc.SCAN_TYPE_CAMERA,fc.SCAN_TYPE_FILE],f})(),x2=(function(){function f(d,g){this.format=d,this.formatName=g}return f.prototype.toString=function(){return this.formatName},f.create=function(d){if(!wh.has(d))throw"".concat(d," not in html5QrcodeSupportedFormatsTextMap");return new f(d,wh.get(d))},f})(),Eh=(function(){function f(){}return f.createFromText=function(d){var g={text:d};return{decodedText:d,result:g}},f.createFromQrcodeResult=function(d){return{decodedText:d.text,result:d}},f})(),B0;(function(f){f[f.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",f[f.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",f[f.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(B0||(B0={}));var p3=(function(){function f(){}return f.createFrom=function(d){return{errorMessage:d,type:B0.UNKWOWN_ERROR}},f})(),y3=(function(){function f(d){this.verbose=d}return f.prototype.log=function(d){this.verbose&&console.log(d)},f.prototype.warn=function(d){this.verbose&&console.warn(d)},f.prototype.logError=function(d,g){(this.verbose||g===!0)&&console.error(d)},f.prototype.logErrors=function(d){if(d.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(d)},f})();function Sr(f){return typeof f>"u"||f===null}var _s=(function(){function f(){}return f.codeParseError=function(d){return"QR code parse error, error = ".concat(d)},f.errorGettingUserMedia=function(d){return"Error getting userMedia, error = ".concat(d)},f.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},f.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},f.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},f.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},f.scannerPaused=function(){return"Scanner paused"},f})(),m2=(function(){function f(){}return f.isMediaStreamConstraintsValid=function(d,g){if(typeof d!="object"){var p=typeof d;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(p,"."),!0),!1}for(var A=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],b=new Set(A),T=Object.keys(d),M=0,B=T;M<B.length;M++){var S=B[M];if(b.has(S))return g.logError("".concat(S," is not supported videoConstaints."),!0),!1}return!0},f})(),Rl={exports:{}},b3=Rl.exports,Ch;function w3(){return Ch||(Ch=1,(function(f,d){(function(g,p){p(d)})(b3,(function(g){function p(v){return v==null}var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var i in t)t.hasOwnProperty(i)&&(v[i]=t[i])};function b(v,t){A(v,t);function i(){this.constructor=v}v.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function T(v,t){var i=Object.setPrototypeOf;i?i(v,t):v.__proto__=t}function M(v,t){t===void 0&&(t=v.constructor);var i=Error.captureStackTrace;i&&i(v,t)}var B=(function(v){b(t,v);function t(i){var r=this.constructor,s=v.call(this,i)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),T(s,r.prototype),M(s),s}return t})(Error);class S extends B{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}S.kind="Exception";class I extends S{}I.kind="ArgumentException";class L extends S{}L.kind="IllegalArgumentException";class re{constructor(t){if(this.binarizer=t,t===null)throw new L("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,s){const l=this.binarizer.getLuminanceSource().crop(t,i,r,s);return new re(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new re(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new re(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ue extends S{static getChecksumInstance(){return new ue}}ue.kind="ChecksumException";class H{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Z{static arraycopy(t,i,r,s,l){for(;l--;)r[s++]=t[i++]}static currentTimeMillis(){return Date.now()}}class fe extends S{}fe.kind="IndexOutOfBoundsException";class Me extends fe{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}Me.kind="ArrayIndexOutOfBoundsException";class _e{static fill(t,i){for(let r=0,s=t.length;r<s;r++)t[r]=i}static fillWithin(t,i,r,s){_e.rangeCheck(t.length,i,r);for(let l=i;l<r;l++)t[l]=s}static rangeCheck(t,i,r){if(i>r)throw new L("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new Me(i);if(r>t)throw new Me(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(l=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(l=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const s=r-i,l=new Int32Array(s);return Z.arraycopy(t,i,l,0,s),l}static binarySearch(t,i,r){r===void 0&&(r=_e.numberComparator);let s=0,l=t.length-1;for(;s<=l;){const c=l+s>>1,u=r(i,t[c]);if(u>0)s=c+1;else if(u<0)l=c-1;else return c}return-s-1}static numberComparator(t,i){return t-i}}class ce{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}ce.MIN_VALUE_32_BITS=-2147483648,ce.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Se.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Se.makeArray(t);Z.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),l=r[s];l&=~((1<<(t&31))-1);const c=r.length;for(;l===0;){if(++s===c)return i;l=r[s]}const u=s*32+ce.numberOfTrailingZeros(l);return u>i?i:u}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),l=~r[s];l&=~((1<<(t&31))-1);const c=r.length;for(;l===0;){if(++s===c)return i;l=~r[s]}const u=s*32+ce.numberOfTrailingZeros(l);return u>i?i:u}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new L;if(i===t)return;i--;const r=Math.floor(t/32),s=Math.floor(i/32),l=this.bits;for(let c=r;c<=s;c++){const u=c>r?0:t&31,y=(2<<(c<s?31:i&31))-(1<<u);l[c]|=y}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new L;if(i===t)return!0;i--;const s=Math.floor(t/32),l=Math.floor(i/32),c=this.bits;for(let u=s;u<=l;u++){const x=u>s?0:t&31,E=(2<<(u<l?31:i&31))-(1<<x)&4294967295;if((c[u]&E)!==(r?E:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new L("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new L("Sizes don't match");const i=this.bits;for(let r=0,s=i.length;r<s;r++)i[r]^=t.bits[r]}toBytes(t,i,r,s){for(let l=0;l<s;l++){let c=0;for(let u=0;u<8;u++)this.get(t)&&(c|=1<<7-u),t++;i[r+l]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,s=this.bits;for(let l=0;l<r;l++){let c=s[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[i-l]=c}if(this.size!==r*32){const l=r*32-this.size;let c=t[0]>>>l;for(let u=1;u<r;u++){const x=t[u];c|=x<<32-l,t[u-1]=c,c=x>>>l}t[r-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Se))return!1;const i=t;return this.size===i.size&&_e.equals(this.bits,i.bits)}hashCode(){return 31*this.size+_e.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Se(this.size,this.bits.slice())}}var Ne;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ne||(Ne={}));var Ae=Ne;class ee extends S{static getFormatInstance(){return new ee}}ee.kind="FormatException";var Ue;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(Ue||(Ue={}));class ie{constructor(t,i,r,...s){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=s,ie.VALUE_IDENTIFIER_TO_ECI.set(t,this),ie.NAME_TO_ECI.set(r,this);const l=this.values;for(let c=0,u=l.length;c!==u;c++){const x=l[c];ie.VALUES_TO_ECI.set(x,this)}for(const c of s)ie.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ee("incorect value");const i=ie.VALUES_TO_ECI.get(t);if(i===void 0)throw new ee("incorect value");return i}static getCharacterSetECIByName(t){const i=ie.NAME_TO_ECI.get(t);if(i===void 0)throw new ee("incorect value");return i}equals(t){if(!(t instanceof ie))return!1;const i=t;return this.getName()===i.getName()}}ie.VALUE_IDENTIFIER_TO_ECI=new Map,ie.VALUES_TO_ECI=new Map,ie.NAME_TO_ECI=new Map,ie.Cp437=new ie(Ue.Cp437,Int32Array.from([0,2]),"Cp437"),ie.ISO8859_1=new ie(Ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ie.ISO8859_2=new ie(Ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ie.ISO8859_3=new ie(Ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ie.ISO8859_4=new ie(Ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ie.ISO8859_5=new ie(Ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ie.ISO8859_6=new ie(Ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ie.ISO8859_7=new ie(Ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ie.ISO8859_8=new ie(Ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ie.ISO8859_9=new ie(Ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ie.ISO8859_10=new ie(Ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ie.ISO8859_11=new ie(Ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ie.ISO8859_13=new ie(Ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ie.ISO8859_14=new ie(Ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ie.ISO8859_15=new ie(Ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ie.ISO8859_16=new ie(Ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ie.SJIS=new ie(Ue.SJIS,20,"SJIS","Shift_JIS"),ie.Cp1250=new ie(Ue.Cp1250,21,"Cp1250","windows-1250"),ie.Cp1251=new ie(Ue.Cp1251,22,"Cp1251","windows-1251"),ie.Cp1252=new ie(Ue.Cp1252,23,"Cp1252","windows-1252"),ie.Cp1256=new ie(Ue.Cp1256,24,"Cp1256","windows-1256"),ie.UnicodeBigUnmarked=new ie(Ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ie.UTF8=new ie(Ue.UTF8,26,"UTF8","UTF-8"),ie.ASCII=new ie(Ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ie.Big5=new ie(Ue.Big5,28,"Big5"),ie.GB18030=new ie(Ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ie.EUC_KR=new ie(Ue.EUC_KR,30,"EUC_KR","EUC-KR");class rt extends S{}rt.kind="UnsupportedOperationException";class $e{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!$e.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ie?t:ie.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if($e.isDecodeFallbackSupported(r)){let s="";for(let l=0,c=t.length;l<c;l++){let u=t[l].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(ie.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new rt(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ie.UTF8)||t.equals(ie.ISO8859_1)||t.equals(ie.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let l=0;l<r.length;l++)s.push(r[l].charCodeAt(0));return new Uint8Array(s)}}class Ee{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return $e.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(Ae.CHARACTER_SET)!==void 0)return i.get(Ae.CHARACTER_SET).toString();const r=t.length;let s=!0,l=!0,c=!0,u=0,x=0,y=0,E=0,N=0,_=0,D=0,U=0,F=0,V=0,K=0;const ye=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let pe=0;pe<r&&(s||l||c);pe++){const me=t[pe]&255;c&&(u>0?(me&128)===0?c=!1:u--:(me&128)!==0&&((me&64)===0?c=!1:(u++,(me&32)===0?x++:(u++,(me&16)===0?y++:(u++,(me&8)===0?E++:c=!1))))),s&&(me>127&&me<160?s=!1:me>159&&(me<192||me===215||me===247)&&K++),l&&(N>0?me<64||me===127||me>252?l=!1:N--:me===128||me===160||me>239?l=!1:me>160&&me<224?(_++,U=0,D++,D>F&&(F=D)):me>127?(N++,D=0,U++,U>V&&(V=U)):(D=0,U=0))}return c&&u>0&&(c=!1),l&&N>0&&(l=!1),c&&(ye||x+y+E>0)?Ee.UTF8:l&&(Ee.ASSUME_SHIFT_JIS||F>=3||V>=3)?Ee.SHIFT_JIS:s&&l?F===2&&_===2||K*10>=r?Ee.SHIFT_JIS:Ee.ISO88591:s?Ee.ISO88591:l?Ee.SHIFT_JIS:c?Ee.UTF8:Ee.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function s(c,u,x,y,E,N){if(c==="%%")return"%";if(i[++r]===void 0)return;c=y?parseInt(y.substr(1)):void 0;let _=E?parseInt(E.substr(1)):void 0,D;switch(N){case"s":D=i[r];break;case"c":D=i[r][0];break;case"f":D=parseFloat(i[r]).toFixed(c);break;case"p":D=parseFloat(i[r]).toPrecision(c);break;case"e":D=parseFloat(i[r]).toExponential(c);break;case"x":D=parseInt(i[r]).toString(_||16);break;case"d":D=parseFloat(parseInt(i[r],_||10).toPrecision(c)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(_);let U=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;D.length<U;)D=u!==void 0?D+F:F+D;return D}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}static getBytes(t,i){return $e.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ee.SHIFT_JIS=ie.SJIS.getName(),Ee.GB2312="GB2312",Ee.ISO88591=ie.ISO8859_1.getName(),Ee.EUC_JP="EUC_JP",Ee.UTF8=ie.UTF8.getName(),Ee.PLATFORM_DEFAULT_ENCODING=Ee.UTF8,Ee.ASSUME_SHIFT_JIS=!1;class Ge{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ee.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let s=i;i<i+r;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Ve{constructor(t,i,r,s){if(this.width=t,this.height=i,this.rowSize=r,this.bits=s,i==null&&(i=t),this.height=i,t<1||i<1)throw new L("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,s=new Ve(r,i);for(let l=0;l<i;l++){const c=t[l];for(let u=0;u<r;u++)c[u]&&s.set(u,l)}return s}static parseFromString(t,i,r){if(t===null)throw new L("stringRepresentation cannot be null");const s=new Array(t.length);let l=0,c=0,u=-1,x=0,y=0;for(;y<t.length;)if(t.charAt(y)===`
`||t.charAt(y)==="\r"){if(l>c){if(u===-1)u=l-c;else if(l-c!==u)throw new L("row lengths do not match");c=l,x++}y++}else if(t.substring(y,y+i.length)===i)y+=i.length,s[l]=!0,l++;else if(t.substring(y,y+r.length)===r)y+=r.length,s[l]=!1,l++;else throw new L("illegal character encountered: "+t.substring(y));if(l>c){if(u===-1)u=l-c;else if(l-c!==u)throw new L("row lengths do not match");x++}const E=new Ve(u,x);for(let N=0;N<l;N++)s[N]&&E.set(Math.floor(N%u),Math.floor(N/u));return E}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new L("input matrix dimensions do not match");const i=new Se(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let l=0,c=this.height;l<c;l++){const u=l*r,x=t.getRow(l,i).getBitArray();for(let y=0;y<r;y++)s[u+y]^=x[y]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,s){if(i<0||t<0)throw new L("Left and top must be nonnegative");if(s<1||r<1)throw new L("Height and width must be at least 1");const l=t+r,c=i+s;if(c>this.height||l>this.width)throw new L("The region must fit inside the matrix");const u=this.rowSize,x=this.bits;for(let y=i;y<c;y++){const E=y*u;for(let N=t;N<l;N++)x[E+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Se(this.width):i.clear();const r=this.rowSize,s=this.bits,l=t*r;for(let c=0;c<r;c++)i.setBulk(c*32,s[l+c]);return i}setRow(t,i){Z.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new Se(t),s=new Se(t);for(let l=0,c=Math.floor((i+1)/2);l<c;l++)r=this.getRow(l,r),s=this.getRow(i-1-l,s),r.reverse(),s.reverse(),this.setRow(l,s),this.setRow(i-1-l,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,s=this.bits;let l=t,c=i,u=-1,x=-1;for(let y=0;y<i;y++)for(let E=0;E<r;E++){const N=s[y*r+E];if(N!==0){if(y<c&&(c=y),y>x&&(x=y),E*32<l){let _=0;for(;(N<<31-_&4294967295)===0;)_++;E*32+_<l&&(l=E*32+_)}if(E*32+31>u){let _=31;for(;!(N>>>_);)_--;E*32+_>u&&(u=E*32+_)}}}return u<l||x<c?null:Int32Array.from([l,c,u-l+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const s=r/t;let l=r%t*32;const c=i[r];let u=0;for(;(c<<31-u&4294967295)===0;)u++;return l+=u,Int32Array.from([l,s])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/t);let l=Math.floor(r%t)*32;const c=i[r];let u=31;for(;!(c>>>u);)u--;return l+=u,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ve))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&_e.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+_e.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let s=new Ge;for(let l=0,c=this.height;l<c;l++){for(let u=0,x=this.width;u<x;u++)s.append(this.get(u,l)?t:i);s.append(r)}return s.toString()}clone(){return new Ve(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends S{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class Y extends H{constructor(t){super(t),this.luminances=Y.EMPTY,this.buckets=new Int32Array(Y.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),s=r.getWidth();i==null||i.getSize()<s?i=new Se(s):i.clear(),this.initArrays(s);const l=r.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<s;x++)c[(l[x]&255)>>Y.LUMINANCE_SHIFT]++;const u=Y.estimateBlackPoint(c);if(s<3)for(let x=0;x<s;x++)(l[x]&255)<u&&i.set(x);else{let x=l[0]&255,y=l[1]&255;for(let E=1;E<s-1;E++){const N=l[E+1]&255;(y*4-x-N)/2<u&&i.set(E),x=y,y=N}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),s=new Ve(i,r);this.initArrays(i);const l=this.buckets;for(let x=1;x<5;x++){const y=Math.floor(r*x/5),E=t.getRow(y,this.luminances),N=Math.floor(i*4/5);for(let _=Math.floor(i/5);_<N;_++){const D=E[_]&255;l[D>>Y.LUMINANCE_SHIFT]++}}const c=Y.estimateBlackPoint(l),u=t.getMatrix();for(let x=0;x<r;x++){const y=x*i;for(let E=0;E<i;E++)(u[y+E]&255)<c&&s.set(E,x)}return s}createBinarizer(t){return new Y(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<Y.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,s=0,l=0;for(let E=0;E<i;E++)t[E]>l&&(s=E,l=t[E]),t[E]>r&&(r=t[E]);let c=0,u=0;for(let E=0;E<i;E++){const N=E-s,_=t[E]*N*N;_>u&&(c=E,u=_)}if(s>c){const E=s;s=c,c=E}if(c-s<=i/16)throw new J;let x=c-1,y=-1;for(let E=c-1;E>s;E--){const N=E-s,_=N*N*(c-E)*(r-t[E]);_>y&&(x=E,y=_)}return x<<Y.LUMINANCE_SHIFT}}Y.LUMINANCE_BITS=5,Y.LUMINANCE_SHIFT=8-Y.LUMINANCE_BITS,Y.LUMINANCE_BUCKETS=1<<Y.LUMINANCE_BITS,Y.EMPTY=Uint8ClampedArray.from([0]);class se extends Y{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=se.MINIMUM_DIMENSION&&r>=se.MINIMUM_DIMENSION){const s=t.getMatrix();let l=i>>se.BLOCK_SIZE_POWER;(i&se.BLOCK_SIZE_MASK)!==0&&l++;let c=r>>se.BLOCK_SIZE_POWER;(r&se.BLOCK_SIZE_MASK)!==0&&c++;const u=se.calculateBlackPoints(s,l,c,i,r),x=new Ve(i,r);se.calculateThresholdForBlock(s,l,c,i,r,u,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new se(t)}static calculateThresholdForBlock(t,i,r,s,l,c,u){const x=l-se.BLOCK_SIZE,y=s-se.BLOCK_SIZE;for(let E=0;E<r;E++){let N=E<<se.BLOCK_SIZE_POWER;N>x&&(N=x);const _=se.cap(E,2,r-3);for(let D=0;D<i;D++){let U=D<<se.BLOCK_SIZE_POWER;U>y&&(U=y);const F=se.cap(D,2,i-3);let V=0;for(let ye=-2;ye<=2;ye++){const pe=c[_+ye];V+=pe[F-2]+pe[F-1]+pe[F]+pe[F+1]+pe[F+2]}const K=V/25;se.thresholdBlock(t,U,N,K,s,u)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,s,l,c){for(let u=0,x=r*l+i;u<se.BLOCK_SIZE;u++,x+=l)for(let y=0;y<se.BLOCK_SIZE;y++)(t[x+y]&255)<=s&&c.set(i+y,r+u)}static calculateBlackPoints(t,i,r,s,l){const c=l-se.BLOCK_SIZE,u=s-se.BLOCK_SIZE,x=new Array(r);for(let y=0;y<r;y++){x[y]=new Int32Array(i);let E=y<<se.BLOCK_SIZE_POWER;E>c&&(E=c);for(let N=0;N<i;N++){let _=N<<se.BLOCK_SIZE_POWER;_>u&&(_=u);let D=0,U=255,F=0;for(let K=0,ye=E*s+_;K<se.BLOCK_SIZE;K++,ye+=s){for(let pe=0;pe<se.BLOCK_SIZE;pe++){const me=t[ye+pe]&255;D+=me,me<U&&(U=me),me>F&&(F=me)}if(F-U>se.MIN_DYNAMIC_RANGE)for(K++,ye+=s;K<se.BLOCK_SIZE;K++,ye+=s)for(let pe=0;pe<se.BLOCK_SIZE;pe++)D+=t[ye+pe]&255}let V=D>>se.BLOCK_SIZE_POWER*2;if(F-U<=se.MIN_DYNAMIC_RANGE&&(V=U/2,y>0&&N>0)){const K=(x[y-1][N]+2*x[y][N-1]+x[y-1][N-1])/4;U<K&&(V=K)}x[y][N]=V}}return x}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class Oe{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,s){throw new rt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new rt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new rt("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ge;for(let r=0;r<this.height;r++){const s=this.getRow(r,t);for(let l=0;l<this.width;l++){const c=s[l]&255;let u;c<64?u="#":c<128?u="+":c<192?u=".":u=" ",i.append(u)}i.append(`
`)}return i.toString()}}class ve extends Oe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),s=this.getWidth();for(let l=0;l<s;l++)r[l]=255-(r[l]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let s=0;s<i;s++)r[s]=255-(t[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,s){return new ve(this.delegate.crop(t,i,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class Le extends Oe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return Le.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const s=new Uint8ClampedArray(i*r);for(let l=0,c=0,u=t.length;l<u;l+=4,c++){let x;if(t[l+3]===0)x=255;else{const E=t[l],N=t[l+1],_=t[l+2];x=306*E+601*N+117*_+512>>10}s[c]=x}return s}getRow(t,i){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const r=this.getWidth(),s=t*r;return i===null?i=this.buffer.slice(s,s+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(s,s+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,s){return super.crop(t,i,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),s=t*Le.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*c),x=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*c);return i.width=u,i.height=x,r.translate(u/2,x/2),r.rotate(s),r.drawImage(this.canvas,l/-2,c/-2),this.buffer=Le.makeBufferFromCanvasImageData(i),this}invert(){return new ve(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class k{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var te=(globalThis||nc||self||window||void 0)&&(globalThis||nc||self||window||void 0).__awaiter||function(v,t,i,r){function s(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function u(E){try{y(r.next(E))}catch(N){c(N)}}function x(E){try{y(r.throw(E))}catch(N){c(N)}}function y(E){E.done?l(E.value):s(E.value).then(u,x)}y((r=r.apply(v,t||[])).next())})};class be{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const l=r.deviceId||r.id,c=r.label||`Video device ${i.length+1}`,u=r.groupId,x={deviceId:l,label:c,kind:s,groupId:u};i.push(x)}return i})}getVideoInputDevices(){return te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new k(i.deviceId,i.label))})}findDeviceById(t){return te(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return te(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,i)})}decodeOnceFromConstraints(t,i){return te(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return te(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return te(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,i,r)})}decodeFromConstraints(t,i,r){return te(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,i,r)})}decodeFromStream(t,i,r){return te(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return te(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return te(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new I(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new I("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,i);return r.src=t,s}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const s=(l,c)=>{if(this._stopAsyncDecode){c(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);l(u)}catch(u){const x=i&&u instanceof J,E=(u instanceof ue||u instanceof ee)&&r;if(x||E)return setTimeout(s,this._timeBetweenDecodingAttempts,l,c);c(u)}};return new Promise((l,c)=>s(l,c))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);i(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){i(null,s);const l=s instanceof ue||s instanceof ee,c=s instanceof J;(l||c)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new Le(i),s=new se(r);return new re(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=s+"px",i.width=r,i.height=s,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ce{constructor(t,i,r=i==null?0:8*i.length,s,l,c=Z.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=s,this.format=l,this.timestamp=c,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=s,this.format=l,this.resultMetadata=null,c==null?this.timestamp=Z.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);Z.arraycopy(i,0,r,0,i.length),Z.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var he;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(he||(he={}));var le=he,ke;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var qe=ke;class Ye{constructor(t,i,r,s,l=-1,c=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Jt{exp(t){return this.expTable[t]}log(t){if(t===0)throw new L;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class st{constructor(t,i){if(i.length===0)throw new L;this.field=t;const r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),Z.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let c=0,u=i.length;c!==u;c++){const x=i[c];r=Jt.addOrSubtract(r,x)}return r}r=i[0];const s=i.length,l=this.field;for(let c=1;c<s;c++)r=Jt.addOrSubtract(l.multiply(t,r),i[c]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const c=i;i=r,r=c}let s=new Int32Array(r.length);const l=r.length-i.length;Z.arraycopy(r,0,s,0,l);for(let c=l;c<r.length;c++)s[c]=Jt.addOrSubtract(i[c-l],r[c]);return new st(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,s=t.coefficients,l=s.length,c=new Int32Array(r+l-1),u=this.field;for(let x=0;x<r;x++){const y=i[x];for(let E=0;E<l;E++)c[x+E]=Jt.addOrSubtract(c[x+E],u.multiply(y,s[E]))}return new st(u,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,s=new Int32Array(i),l=this.coefficients;for(let c=0;c<i;c++)s[c]=r.multiply(l[c],t);return new st(r,s)}multiplyByMonomial(t,i){if(t<0)throw new L;if(i===0)return this.field.getZero();const r=this.coefficients,s=r.length,l=new Int32Array(s+t),c=this.field;for(let u=0;u<s;u++)l[u]=c.multiply(r[u],i);return new st(c,l)}divide(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new L("Divide by 0");const i=this.field;let r=i.getZero(),s=this;const l=t.getCoefficient(t.getDegree()),c=i.inverse(l);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const u=s.getDegree()-t.getDegree(),x=i.multiply(s.getCoefficient(s.getDegree()),c),y=t.multiplyByMonomial(u,x),E=i.buildMonomial(u,x);r=r.addOrSubtract(E),s=s.addOrSubtract(y)}return[r,s]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const s=this.field.log(r);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class er extends S{}er.kind="ArithmeticException";class lt extends Jt{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const s=new Int32Array(i);let l=1;for(let u=0;u<i;u++)s[u]=l,l*=2,l>=i&&(l^=t,l&=i-1);this.expTable=s;const c=new Int32Array(i);for(let u=0;u<i-1;u++)c[s[u]]=u;this.logTable=c,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new L;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new st(this,r)}inverse(t){if(t===0)throw new er;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ce.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class dn extends S{}dn.kind="ReedSolomonException";class Tn extends S{}Tn.kind="IllegalStateException";class tr{constructor(t){this.field=t}decode(t,i){const r=this.field,s=new st(r,t),l=new Int32Array(i);let c=!0;for(let D=0;D<i;D++){const U=s.evaluateAt(r.exp(D+r.getGeneratorBase()));l[l.length-1-D]=U,U!==0&&(c=!1)}if(c)return;const u=new st(r,l),x=this.runEuclideanAlgorithm(r.buildMonomial(i,1),u,i),y=x[0],E=x[1],N=this.findErrorLocations(y),_=this.findErrorMagnitudes(E,N);for(let D=0;D<N.length;D++){const U=t.length-1-r.log(N[D]);if(U<0)throw new dn("Bad error location");t[U]=lt.addOrSubtract(t[U],_[D])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const D=t;t=i,i=D}const s=this.field;let l=t,c=i,u=s.getZero(),x=s.getOne();for(;c.getDegree()>=(r/2|0);){let D=l,U=u;if(l=c,u=x,l.isZero())throw new dn("r_{i-1} was zero");c=D;let F=s.getZero();const V=l.getCoefficient(l.getDegree()),K=s.inverse(V);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const ye=c.getDegree()-l.getDegree(),pe=s.multiply(c.getCoefficient(c.getDegree()),K);F=F.addOrSubtract(s.buildMonomial(ye,pe)),c=c.addOrSubtract(l.multiplyByMonomial(ye,pe))}if(x=F.multiply(u).addOrSubtract(U),c.getDegree()>=l.getDegree())throw new Tn("Division algorithm failed to reduce polynomial?")}const y=x.getCoefficient(0);if(y===0)throw new dn("sigmaTilde(0) was zero");const E=s.inverse(y),N=x.multiplyScalar(E),_=c.multiplyScalar(E);return[N,_]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let s=0;const l=this.field;for(let c=1;c<l.getSize()&&s<i;c++)t.evaluateAt(c)===0&&(r[s]=l.inverse(c),s++);if(s!==i)throw new dn("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,s=new Int32Array(r),l=this.field;for(let c=0;c<r;c++){const u=l.inverse(i[c]);let x=1;for(let y=0;y<r;y++)if(c!==y){const E=l.multiply(i[y],u),N=(E&1)===0?E|1:E&-2;x=l.multiply(x,N)}s[c]=l.multiply(t.evaluateAt(u),l.inverse(x)),l.getGeneratorBase()!==0&&(s[c]=l.multiply(s[c],u))}return s}}var bn;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(bn||(bn={}));class _t{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),s=this.correctBits(r),l=_t.convertBoolArrayToByteArray(s),c=_t.getEncodedData(s),u=new Ye(l,c,null,null);return u.setNumBits(s.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=bn.UPPER,s=bn.UPPER,l="",c=0;for(;c<i;)if(s===bn.BINARY){if(i-c<5)break;let u=_t.readCode(t,c,5);if(c+=5,u===0){if(i-c<11)break;u=_t.readCode(t,c,11)+31,c+=11}for(let x=0;x<u;x++){if(i-c<8){c=i;break}const y=_t.readCode(t,c,8);l+=Ee.castAsNonUtf8Char(y),c+=8}s=r}else{let u=s===bn.DIGIT?4:5;if(i-c<u)break;let x=_t.readCode(t,c,u);c+=u;let y=_t.getCharacter(s,x);y.startsWith("CTRL_")?(r=s,s=_t.getTable(y.charAt(5)),y.charAt(6)==="L"&&(r=s)):(l+=y,s=r)}return l}static getTable(t){switch(t){case"L":return bn.LOWER;case"P":return bn.PUNCT;case"M":return bn.MIXED;case"D":return bn.DIGIT;case"B":return bn.BINARY;case"U":default:return bn.UPPER}}static getCharacter(t,i){switch(t){case bn.UPPER:return _t.UPPER_TABLE[i];case bn.LOWER:return _t.LOWER_TABLE[i];case bn.MIXED:return _t.MIXED_TABLE[i];case bn.PUNCT:return _t.PUNCT_TABLE[i];case bn.DIGIT:return _t.DIGIT_TABLE[i];default:throw new Tn("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=lt.AZTEC_DATA_10):(r=12,i=lt.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=t.length/r;if(l<s)throw new ee;let c=t.length%r,u=new Int32Array(l);for(let _=0;_<l;_++,c+=r)u[_]=_t.readCode(t,c,r);try{new tr(i).decode(u,l-s)}catch(_){throw new ee(_)}let x=(1<<r)-1,y=0;for(let _=0;_<s;_++){let D=u[_];if(D===0||D===x)throw new ee;(D===1||D===x-1)&&y++}let E=new Array(s*r-y),N=0;for(let _=0;_<s;_++){let D=u[_];if(D===1||D===x-1)E.fill(D>1,N,N+r-1),N+=r-1;else for(let U=r-1;U>=0;--U)E[N++]=(D&1<<U)!==0}return E}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(i?11:14)+r*4,l=new Int32Array(s),c=new Array(this.totalBitsInLayer(r,i));if(i)for(let u=0;u<l.length;u++)l[u]=u;else{let u=s+1+2*ce.truncDivision(ce.truncDivision(s,2)-1,15),x=s/2,y=ce.truncDivision(u,2);for(let E=0;E<x;E++){let N=E+ce.truncDivision(E,15);l[x-E-1]=y-N-1,l[x+E]=y+N+1}}for(let u=0,x=0;u<r;u++){let y=(r-u)*4+(i?9:12),E=u*2,N=s-1-E;for(let _=0;_<y;_++){let D=_*2;for(let U=0;U<2;U++)c[x+D+U]=t.get(l[E+U],l[E+_]),c[x+2*y+D+U]=t.get(l[E+_],l[N-U]),c[x+4*y+D+U]=t.get(l[N-U],l[N-_]),c[x+6*y+D+U]=t.get(l[N-_],l[E+U])}x+=y*8}return c}static readCode(t,i,r){let s=0;for(let l=i;l<i+r;l++)s<<=1,t[l]&&(s|=1);return s}static readByte(t,i){let r=t.length-i;return r>=8?_t.readCode(t,i,8):_t.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=_t.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,s){const l=t-r,c=i-s;return Math.sqrt(l*l+c*c)}static sum(t){let i=0;for(let r=0,s=t.length;r!==s;r++){const l=t[r];i+=l}return i}}class Tr{static floatToIntBits(t){return t}}Tr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof De){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Tr.floatToIntBits(this.x)+Tr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let l,c,u;if(r>=i&&r>=s?(c=t[0],l=t[1],u=t[2]):s>=r&&s>=i?(c=t[1],l=t[0],u=t[2]):(c=t[2],l=t[0],u=t[1]),this.crossProductZ(l,c,u)<0){const x=l;l=u,u=x}t[0]=l,t[1]=c,t[2]=u}static distance(t,i){return ot.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const s=i.x,l=i.y;return(r.x-s)*(t.y-l)-(r.y-l)*(t.x-s)}}class Pa{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ul extends Pa{constructor(t,i,r,s,l){super(t,i),this.compact=r,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Wt{constructor(t,i,r,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Wt.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const l=i/2|0;if(this.leftInit=r-l,this.rightInit=r+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,s=this.downInit,l=!1,c=!0,u=!1,x=!1,y=!1,E=!1,N=!1;const _=this.width,D=this.height;for(;c;){c=!1;let U=!0;for(;(U||!x)&&i<_;)U=this.containsBlackPoint(r,s,i,!1),U?(i++,c=!0,x=!0):x||i++;if(i>=_){l=!0;break}let F=!0;for(;(F||!y)&&s<D;)F=this.containsBlackPoint(t,i,s,!0),F?(s++,c=!0,y=!0):y||s++;if(s>=D){l=!0;break}let V=!0;for(;(V||!E)&&t>=0;)V=this.containsBlackPoint(r,s,t,!1),V?(t--,c=!0,E=!0):E||t--;if(t<0){l=!0;break}let K=!0;for(;(K||!N)&&r>=0;)K=this.containsBlackPoint(t,i,r,!0),K?(r--,c=!0,N=!0):N||r--;if(r<0){l=!0;break}c&&(u=!0)}if(!l&&u){const U=i-t;let F=null;for(let pe=1;F===null&&pe<U;pe++)F=this.getBlackPointOnSegment(t,s-pe,t+pe,s);if(F==null)throw new J;let V=null;for(let pe=1;V===null&&pe<U;pe++)V=this.getBlackPointOnSegment(t,r+pe,t+pe,r);if(V==null)throw new J;let K=null;for(let pe=1;K===null&&pe<U;pe++)K=this.getBlackPointOnSegment(i,r+pe,i-pe,r);if(K==null)throw new J;let ye=null;for(let pe=1;ye===null&&pe<U;pe++)ye=this.getBlackPointOnSegment(i,s-pe,i-pe,s);if(ye==null)throw new J;return this.centerEdges(ye,F,K,V)}else throw new J}getBlackPointOnSegment(t,i,r,s){const l=ot.round(ot.distance(t,i,r,s)),c=(r-t)/l,u=(s-i)/l,x=this.image;for(let y=0;y<l;y++){const E=ot.round(t+y*c),N=ot.round(i+y*u);if(x.get(E,N))return new De(E,N)}return null}centerEdges(t,i,r,s){const l=t.getX(),c=t.getY(),u=i.getX(),x=i.getY(),y=r.getX(),E=r.getY(),N=s.getX(),_=s.getY(),D=Wt.CORR;return l<this.width/2?[new De(N-D,_+D),new De(u+D,x+D),new De(y-D,E-D),new De(l+D,c-D)]:[new De(N+D,_+D),new De(u+D,x-D),new De(y-D,E+D),new De(l-D,c-D)]}containsBlackPoint(t,i,r,s){const l=this.image;if(s){for(let c=t;c<=i;c++)if(l.get(c,r))return!0}else for(let c=t;c<=i;c++)if(l.get(r,c))return!0;return!1}}Wt.INIT_SIZE=10,Wt.CORR=1;class Ms{static checkAndNudgePoints(t,i){const r=t.getWidth(),s=t.getHeight();let l=!0;for(let c=0;c<i.length&&l;c+=2){const u=Math.floor(i[c]),x=Math.floor(i[c+1]);if(u<-1||u>r||x<-1||x>s)throw new J;l=!1,u===-1?(i[c]=0,l=!0):u===r&&(i[c]=r-1,l=!0),x===-1?(i[c+1]=0,l=!0):x===s&&(i[c+1]=s-1,l=!0)}l=!0;for(let c=i.length-2;c>=0&&l;c-=2){const u=Math.floor(i[c]),x=Math.floor(i[c+1]);if(u<-1||u>r||x<-1||x>s)throw new J;l=!1,u===-1?(i[c]=0,l=!0):u===r&&(i[c]=r-1,l=!0),x===-1?(i[c+1]=0,l=!0):x===s&&(i[c+1]=s-1,l=!0)}}}class Gn{constructor(t,i,r,s,l,c,u,x,y){this.a11=t,this.a21=i,this.a31=r,this.a12=s,this.a22=l,this.a32=c,this.a13=u,this.a23=x,this.a33=y}static quadrilateralToQuadrilateral(t,i,r,s,l,c,u,x,y,E,N,_,D,U,F,V){const K=Gn.quadrilateralToSquare(t,i,r,s,l,c,u,x);return Gn.squareToQuadrilateral(y,E,N,_,D,U,F,V).times(K)}transformPoints(t){const i=t.length,r=this.a11,s=this.a12,l=this.a13,c=this.a21,u=this.a22,x=this.a23,y=this.a31,E=this.a32,N=this.a33;for(let _=0;_<i;_+=2){const D=t[_],U=t[_+1],F=l*D+x*U+N;t[_]=(r*D+c*U+y)/F,t[_+1]=(s*D+u*U+E)/F}}transformPointsWithValues(t,i){const r=this.a11,s=this.a12,l=this.a13,c=this.a21,u=this.a22,x=this.a23,y=this.a31,E=this.a32,N=this.a33,_=t.length;for(let D=0;D<_;D++){const U=t[D],F=i[D],V=l*U+x*F+N;t[D]=(r*U+c*F+y)/V,i[D]=(s*U+u*F+E)/V}}static squareToQuadrilateral(t,i,r,s,l,c,u,x){const y=t-r+l-u,E=i-s+c-x;if(y===0&&E===0)return new Gn(r-t,l-r,t,s-i,c-s,i,0,0,1);{const N=r-l,_=u-l,D=s-c,U=x-c,F=N*U-_*D,V=(y*U-_*E)/F,K=(N*E-y*D)/F;return new Gn(r-t+V*r,u-t+K*u,t,s-i+V*s,x-i+K*x,i,V,K,1)}}static quadrilateralToSquare(t,i,r,s,l,c,u,x){return Gn.squareToQuadrilateral(t,i,r,s,l,c,u,x).buildAdjoint()}buildAdjoint(){return new Gn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Gn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Bs extends Ms{sampleGrid(t,i,r,s,l,c,u,x,y,E,N,_,D,U,F,V,K,ye,pe){const me=Gn.quadrilateralToQuadrilateral(s,l,c,u,x,y,E,N,_,D,U,F,V,K,ye,pe);return this.sampleGridWithTransform(t,i,r,me)}sampleGridWithTransform(t,i,r,s){if(i<=0||r<=0)throw new J;const l=new Ve(i,r),c=new Float32Array(2*i);for(let u=0;u<r;u++){const x=c.length,y=u+.5;for(let E=0;E<x;E+=2)c[E]=E/2+.5,c[E+1]=y;s.transformPoints(c),Ms.checkAndNudgePoints(t,c);try{for(let E=0;E<x;E+=2)t.get(Math.floor(c[E]),Math.floor(c[E+1]))&&l.set(E/2,u)}catch{throw new J}}return l}}class ni{static setGridSampler(t){ni.gridSampler=t}static getInstance(){return ni.gridSampler}}ni.gridSampler=new Bs;class _n{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new De(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ls{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let c=r[0];r[0]=r[2],r[2]=c}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),l=this.getMatrixCornerPoints(r);return new Ul(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new J;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let s=0;for(let c=0;c<4;c++){let u=r[(this.shift+c)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,i){let r=0;t.forEach((s,l,c)=>{let u=(s>>i-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(ce.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new J}getCorrectedParameterData(t,i){let r,s;i?(r=7,s=2):(r=10,s=4);let l=r-s,c=new Int32Array(r);for(let x=r-1;x>=0;--x)c[x]=t&15,t>>=4;try{new tr(lt.AZTEC_PARAM).decode(c,l)}catch{throw new J}let u=0;for(let x=0;x<s;x++)u=(u<<4)+c[x];return u}getBullsEyeCorners(t){let i=t,r=t,s=t,l=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,c,1,-1),_=this.getFirstDifferent(r,c,1,1),D=this.getFirstDifferent(s,c,-1,1),U=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(U,N)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(N,_,D,U))break}i=N,r=_,s=D,l=U,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let u=new De(i.getX()+.5,i.getY()-.5),x=new De(r.getX()+.5,r.getY()+.5),y=new De(s.getX()-.5,s.getY()+.5),E=new De(l.getX()-.5,l.getY()-.5);return this.expandSquare([u,x,y,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,s;try{let u=new Wt(this.image).detect();t=u[0],i=u[1],r=u[2],s=u[3]}catch{let x=this.image.getWidth()/2,y=this.image.getHeight()/2;t=this.getFirstDifferent(new _n(x+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new _n(x+7,y+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new _n(x-7,y+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new _n(x-7,y-7),!1,-1,-1).toResultPoint()}let l=ot.round((t.getX()+s.getX()+i.getX()+r.getX())/4),c=ot.round((t.getY()+s.getY()+i.getY()+r.getY())/4);try{let u=new Wt(this.image,15,l,c).detect();t=u[0],i=u[1],r=u[2],s=u[3]}catch{t=this.getFirstDifferent(new _n(l+7,c-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new _n(l+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new _n(l-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new _n(l-7,c-7),!1,-1,-1).toResultPoint()}return l=ot.round((t.getX()+s.getX()+i.getX()+r.getX())/4),c=ot.round((t.getY()+s.getY()+i.getY()+r.getY())/4),new _n(l,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,s,l){let c=ni.getInstance(),u=this.getDimension(),x=u/2-this.nbCenterLayers,y=u/2+this.nbCenterLayers;return c.sampleGrid(t,u,u,x,x,y,x,y,y,x,y,i.getX(),i.getY(),r.getX(),r.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(t,i,r){let s=0,l=this.distanceResultPoint(t,i),c=l/r,u=t.getX(),x=t.getY(),y=c*(i.getX()-t.getX())/l,E=c*(i.getY()-t.getY())/l;for(let N=0;N<r;N++)this.image.get(ot.round(u+N*y),ot.round(x+N*E))&&(s|=1<<r-N-1);return s}isWhiteOrBlackRectangle(t,i,r,s){let l=3;t=new _n(t.getX()-l,t.getY()+l),i=new _n(i.getX()-l,i.getY()-l),r=new _n(r.getX()+l,r.getY()-l),s=new _n(s.getX()+l,s.getY()+l);let c=this.getColor(s,t);if(c===0)return!1;let u=this.getColor(t,i);return u!==c||(u=this.getColor(i,r),u!==c)?!1:(u=this.getColor(r,s),u===c)}getColor(t,i){let r=this.distancePoint(t,i),s=(i.getX()-t.getX())/r,l=(i.getY()-t.getY())/r,c=0,u=t.getX(),x=t.getY(),y=this.image.get(t.getX(),t.getY()),E=Math.ceil(r);for(let _=0;_<E;_++)u+=s,x+=l,this.image.get(ot.round(u),ot.round(x))!==y&&c++;let N=c/r;return N>.1&&N<.9?0:N<=.1===y?1:-1}getFirstDifferent(t,i,r,s){let l=t.getX()+r,c=t.getY()+s;for(;this.isValid(l,c)&&this.image.get(l,c)===i;)l+=r,c+=s;for(l-=r,c-=s;this.isValid(l,c)&&this.image.get(l,c)===i;)l+=r;for(l-=r;this.isValid(l,c)&&this.image.get(l,c)===i;)c+=s;return c-=s,new _n(l,c)}expandSquare(t,i,r){let s=r/(2*i),l=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,y=new De(u+s*l,x+s*c),E=new De(u-s*l,x-s*c);l=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new De(u+s*l,x+s*c),_=new De(u-s*l,x-s*c);return[y,N,E,_]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=ot.round(t.getX()),r=ot.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return ot.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return ot.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ce.truncDivision(this.nbLayers-4,8)+1)+15}}class Va{decode(t,i=null){let r=null,s=new Ls(t.getBlackMatrix()),l=null,c=null;try{let E=s.detectMirror(!1);l=E.getPoints(),this.reportFoundResultPoints(i,l),c=new _t().decode(E)}catch(E){r=E}if(c==null)try{let E=s.detectMirror(!0);l=E.getPoints(),this.reportFoundResultPoints(i,l),c=new _t().decode(E)}catch(E){throw r??E}let u=new Ce(c.getText(),c.getRawBytes(),c.getNumBits(),l,le.AZTEC,Z.currentTimeMillis()),x=c.getByteSegments();x!=null&&u.putMetadata(qe.BYTE_SEGMENTS,x);let y=c.getECLevel();return y!=null&&u.putMetadata(qe.ERROR_CORRECTION_LEVEL,y),u}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(Ae.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((s,l,c)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class Ac extends be{constructor(t=500){super(new Va,t)}}class Ht{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Ae.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),c=this.doDecode(l,i),u=c.getResultMetadata();let x=270;u!==null&&u.get(qe.ORIENTATION)===!0&&(x=x+u.get(qe.ORIENTATION)%360),c.putMetadata(qe.ORIENTATION,x);const y=c.getResultPoints();if(y!==null){const E=l.getHeight();for(let N=0;N<y.length;N++)y[N]=new De(E-y[N].getY()-1,y[N].getX())}return c}else throw new J}}reset(){}doDecode(t,i){const r=t.getWidth(),s=t.getHeight();let l=new Se(r);const c=i&&i.get(Ae.TRY_HARDER)===!0,u=Math.max(1,s>>(c?8:5));let x;c?x=s:x=15;const y=Math.trunc(s/2);for(let E=0;E<x;E++){const N=Math.trunc((E+1)/2),_=(E&1)===0,D=y+u*(_?N:-N);if(D<0||D>=s)break;try{l=t.getBlackRow(D,l)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(l.reverse(),i&&i.get(Ae.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((V,K)=>F.set(K,V)),F.delete(Ae.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(D,l,i);if(U===1){F.putMetadata(qe.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new De(r-V[0].getX()-1,V[0].getY()),V[1]=new De(r-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new J}static recordPattern(t,i,r){const s=r.length;for(let y=0;y<s;y++)r[y]=0;const l=t.getSize();if(i>=l)throw new J;let c=!t.get(i),u=0,x=i;for(;x<l;){if(t.get(x)!==c)r[u]++;else{if(++u===s)break;r[u]=1,c=!c}x++}if(!(u===s||u===s-1&&x===l))throw new J}static recordPatternInReverse(t,i,r){let s=r.length,l=t.get(i);for(;i>0&&s>=0;)t.get(--i)!==l&&(s--,l=!l);if(s>=0)throw new J;Ht.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const s=t.length;let l=0,c=0;for(let y=0;y<s;y++)l+=t[y],c+=i[y];if(l<c)return Number.POSITIVE_INFINITY;const u=l/c;r*=u;let x=0;for(let y=0;y<s;y++){const E=t[y],N=i[y]*u,_=E>N?E-N:N-E;if(_>r)return Number.POSITIVE_INFINITY;x+=_}return x/l}}class we extends Ht{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),c=r,u=!1;const x=6;for(let y=r;y<i;y++)if(t.get(y)!==u)l[s]++;else{if(s===x-1){let E=we.MAX_AVG_VARIANCE,N=-1;for(let _=we.CODE_START_A;_<=we.CODE_START_C;_++){const D=Ht.patternMatchVariance(l,we.CODE_PATTERNS[_],we.MAX_INDIVIDUAL_VARIANCE);D<E&&(E=D,N=_)}if(N>=0&&t.isRange(Math.max(0,c-(y-c)/2),c,!1))return Int32Array.from([c,y,N]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,u=!u}throw new J}static decodeCode(t,i,r){Ht.recordPattern(t,r,i);let s=we.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<we.CODE_PATTERNS.length;c++){const u=we.CODE_PATTERNS[c],x=this.patternMatchVariance(i,u,we.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,l=c)}if(l>=0)return l;throw new J}decodeRow(t,i,r){const s=r&&r.get(Ae.ASSUME_GS1)===!0,l=we.findStartPattern(i),c=l[2];let u=0;const x=new Uint8Array(20);x[u++]=c;let y;switch(c){case we.CODE_START_A:y=we.CODE_CODE_A;break;case we.CODE_START_B:y=we.CODE_CODE_B;break;case we.CODE_START_C:y=we.CODE_CODE_C;break;default:throw new ee}let E=!1,N=!1,_="",D=l[0],U=l[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,K=0,ye=c,pe=0,me=!0,it=!1,Qe=!1;for(;!E;){const or=N;switch(N=!1,V=K,K=we.decodeCode(i,F,U),x[u++]=K,K!==we.CODE_STOP&&(me=!0),K!==we.CODE_STOP&&(pe++,ye+=pe*K),D=U,U+=F.reduce((Jl,qs)=>Jl+qs,0),K){case we.CODE_START_A:case we.CODE_START_B:case we.CODE_START_C:throw new ee}switch(y){case we.CODE_CODE_A:if(K<64)Qe===it?_+=String.fromCharCode(32+K):_+=String.fromCharCode(32+K+128),Qe=!1;else if(K<96)Qe===it?_+=String.fromCharCode(K-64):_+=String.fromCharCode(K+64),Qe=!1;else switch(K!==we.CODE_STOP&&(me=!1),K){case we.CODE_FNC_1:s&&(_.length===0?_+="]C1":_+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_A:!it&&Qe?(it=!0,Qe=!1):it&&Qe?(it=!1,Qe=!1):Qe=!0;break;case we.CODE_SHIFT:N=!0,y=we.CODE_CODE_B;break;case we.CODE_CODE_B:y=we.CODE_CODE_B;break;case we.CODE_CODE_C:y=we.CODE_CODE_C;break;case we.CODE_STOP:E=!0;break}break;case we.CODE_CODE_B:if(K<96)Qe===it?_+=String.fromCharCode(32+K):_+=String.fromCharCode(32+K+128),Qe=!1;else switch(K!==we.CODE_STOP&&(me=!1),K){case we.CODE_FNC_1:s&&(_.length===0?_+="]C1":_+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_B:!it&&Qe?(it=!0,Qe=!1):it&&Qe?(it=!1,Qe=!1):Qe=!0;break;case we.CODE_SHIFT:N=!0,y=we.CODE_CODE_A;break;case we.CODE_CODE_A:y=we.CODE_CODE_A;break;case we.CODE_CODE_C:y=we.CODE_CODE_C;break;case we.CODE_STOP:E=!0;break}break;case we.CODE_CODE_C:if(K<100)K<10&&(_+="0"),_+=K;else switch(K!==we.CODE_STOP&&(me=!1),K){case we.CODE_FNC_1:s&&(_.length===0?_+="]C1":_+="");break;case we.CODE_CODE_A:y=we.CODE_CODE_A;break;case we.CODE_CODE_B:y=we.CODE_CODE_B;break;case we.CODE_STOP:E=!0;break}break}or&&(y=y===we.CODE_CODE_A?we.CODE_CODE_B:we.CODE_CODE_A)}const tn=U-D;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-D)/2),!1))throw new J;if(ye-=pe*V,ye%103!==V)throw new ue;const Zn=_.length;if(Zn===0)throw new J;Zn>0&&me&&(y===we.CODE_CODE_C?_=_.substring(0,Zn-2):_=_.substring(0,Zn-1));const Rn=(l[1]+l[0])/2,Tt=D+tn/2,Cn=x.length,Pn=new Uint8Array(Cn);for(let or=0;or<Cn;or++)Pn[or]=x[or];const Hr=[new De(Rn,t),new De(Tt,t)];return new Ce(_,Pn,0,Hr,le.CODE_128,new Date().getTime())}}we.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],we.MAX_AVG_VARIANCE=.25,we.MAX_INDIVIDUAL_VARIANCE=.7,we.CODE_SHIFT=98,we.CODE_CODE_C=99,we.CODE_CODE_B=100,we.CODE_CODE_A=101,we.CODE_FNC_1=102,we.CODE_FNC_2=97,we.CODE_FNC_3=96,we.CODE_FNC_4_A=101,we.CODE_FNC_4_B=100,we.CODE_START_A=103,we.CODE_START_B=104,we.CODE_START_C=105,we.CODE_STOP=106;class It extends Ht{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=It.findAsteriskPattern(i,s),c=i.getNextSet(l[1]),u=i.getSize(),x,y;do{It.recordPattern(i,c,s);let F=It.toNarrowWidePattern(s);if(F<0)throw new J;x=It.patternToChar(F),this.decodeRowResult+=x,y=c;for(let V of s)c+=V;c=i.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let F of s)E+=F;let N=c-y-E;if(c!==u&&N*2<E)throw new J;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let K=0;K<F;K++)V+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(F)!==It.ALPHABET_STRING.charAt(V%43))throw new ue;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new J;let _;this.extendedMode?_=It.decodeExtended(this.decodeRowResult):_=this.decodeRowResult;let D=(l[1]+l[0])/2,U=y+E/2;return new Ce(_,null,0,[new De(D,t),new De(U,t)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),s=t.getNextSet(0),l=0,c=s,u=!1,x=i.length;for(let y=s;y<r;y++)if(t.get(y)!==u)i[l]++;else{if(l===x-1){if(this.toNarrowWidePattern(i)===It.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((y-c)/2)),c,!1))return[c,y];c+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,u=!u}throw new J}static toNarrowWidePattern(t){let i=t.length,r=0,s;do{let l=2147483647;for(let x of t)x<l&&x>r&&(l=x);r=l,s=0;let c=0,u=0;for(let x=0;x<i;x++){let y=t[x];y>r&&(u|=1<<i-1-x,s++,c+=y)}if(s===3){for(let x=0;x<i&&s>0;x++){let y=t[x];if(y>r&&(s--,y*2>=c))return-1}return u}}while(s>3);return-1}static patternToChar(t){for(let i=0;i<It.CHARACTER_ENCODINGS.length;i++)if(It.CHARACTER_ENCODINGS[i]===t)return It.ALPHABET_STRING.charAt(i);if(t===It.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(t){let i=t.length,r="";for(let s=0;s<i;s++){let l=t.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=t.charAt(s+1),u="\0";switch(l){case"+":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)+32);else throw new ee;break;case"$":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)-64);else throw new ee;break;case"%":if(c>="A"&&c<="E")u=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")u=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")u=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")u="\0";else if(c==="V")u="@";else if(c==="W")u="`";else if(c==="X"||c==="Y"||c==="Z")u="";else throw new ee;break;case"/":if(c>="A"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")u=":";else throw new ee;break}r+=u,s++}else r+=l}return r}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class et extends Ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let s=this.decodeStart(i),l=this.decodeEnd(i),c=new Ge;et.decodeMiddle(i,s[1],l[0],c);let u=c.toString(),x=null;r!=null&&(x=r.get(Ae.ALLOWED_LENGTHS)),x==null&&(x=et.DEFAULT_ALLOWED_LENGTHS);let y=u.length,E=!1,N=0;for(let U of x){if(y===U){E=!0;break}U>N&&(N=U)}if(!E&&y>N&&(E=!0),!E)throw new ee;const _=[new De(s[1],t),new De(l[0],t)];return new Ce(u,null,0,_,le.ITF,new Date().getTime())}static decodeMiddle(t,i,r,s){let l=new Int32Array(10),c=new Int32Array(5),u=new Int32Array(5);for(l.fill(0),c.fill(0),u.fill(0);i<r;){Ht.recordPattern(t,i,l);for(let y=0;y<5;y++){let E=2*y;c[y]=l[E],u[y]=l[E+1]}let x=et.decodeDigit(c);s.append(x.toString()),x=this.decodeDigit(u),s.append(x.toString()),l.forEach(function(y){i+=y})}}decodeStart(t){let i=et.skipWhiteSpace(t),r=et.findGuardPattern(t,i,et.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let s=i-1;r>0&&s>=0&&!t.get(s);s--)r--;if(r!==0)throw new J}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new J;return r}decodeEnd(t){t.reverse();try{let i=et.skipWhiteSpace(t),r;try{r=et.findGuardPattern(t,i,et.END_PATTERN_REVERSED[0])}catch(l){l instanceof J&&(r=et.findGuardPattern(t,i,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let s=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-s,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let s=r.length,l=new Int32Array(s),c=t.getSize(),u=!1,x=0,y=i;l.fill(0);for(let E=i;E<c;E++)if(t.get(E)!==u)l[x]++;else{if(x===s-1){if(Ht.patternMatchVariance(l,r,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[y,E];y+=l[0]+l[1],Z.arraycopy(l,2,l,0,x-1),l[x-1]=0,l[x]=0,x--}else x++;l[x]=1,u=!u}throw new J}static decodeDigit(t){let i=et.MAX_AVG_VARIANCE,r=-1,s=et.PATTERNS.length;for(let l=0;l<s;l++){let c=et.PATTERNS[l],u=Ht.patternMatchVariance(t,c,et.MAX_INDIVIDUAL_VARIANCE);u<i?(i=u,r=l):u===i&&(r=-1)}if(r>=0)return r%10;throw new J}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Zt extends Ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,s=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),r=Zt.findGuardPattern(t,s,!1,this.START_END_PATTERN,l);let c=r[0];s=r[1];let u=c-(s-c);u>=0&&(i=t.isRange(u,c,!1))}return r}static checkChecksum(t){return Zt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return Zt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ee;r+=l}r*=3;for(let s=i-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ee;r+=l}return(1e3-r)%10}static decodeEnd(t,i){return Zt.findGuardPattern(t,i,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,s){return this.findGuardPattern(t,i,r,s,new Int32Array(s.length))}static findGuardPattern(t,i,r,s,l){let c=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let u=0,x=i,y=s.length,E=r;for(let N=i;N<c;N++)if(t.get(N)!==E)l[u]++;else{if(u===y-1){if(Ht.patternMatchVariance(l,s,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=l[0]+l[1];let _=l.slice(2,l.length-1);for(let D=0;D<u-1;D++)l[D]=_[D];l[u-1]=0,l[u]=0,u--}else u++;l[u]=1,E=!E}throw new J}static decodeDigit(t,i,r,s){this.recordPattern(t,r,i);let l=this.MAX_AVG_VARIANCE,c=-1,u=s.length;for(let x=0;x<u;x++){let y=s[x],E=Ht.patternMatchVariance(i,y,Zt.MAX_INDIVIDUAL_VARIANCE);E<l&&(l=E,c=x)}if(c>=0)return c;throw new J}}Zt.MAX_AVG_VARIANCE=.48,Zt.MAX_INDIVIDUAL_VARIANCE=.7,Zt.START_END_PATTERN=Int32Array.from([1,1,1]),Zt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Zt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class da{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(i,r,s),c=s.toString(),u=da.parseExtensionString(c),x=[new De((r[0]+r[1])/2,t),new De(l,t)],y=new Ce(c,null,0,x,le.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&y.putAllMetadata(u),y}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=i[1],u=0;for(let y=0;y<5&&c<l;y++){let E=Zt.decodeDigit(t,s,c,Zt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let N of s)c+=N;E>=10&&(u|=1<<4-y),y!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==5)throw new J;let x=this.determineCheckDigit(u);if(da.extensionChecksum(r.toString())!==x)throw new J;return c}static extensionChecksum(t){let i=t.length,r=0;for(let s=i-2;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;r*=3;for(let s=i-1;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new J}static parseExtensionString(t){if(t.length!==5)return null;let i=da.parseExtension5String(t);return i==null?null:new Map([[qe.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),s=(r/100).toString(),l=r%100,c=l<10?"0"+l:l.toString();return i+s+"."+c}}class js{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(i,r,s),c=s.toString(),u=js.parseExtensionString(c),x=[new De((r[0]+r[1])/2,t),new De(l,t)],y=new Ce(c,null,0,x,le.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&y.putAllMetadata(u),y}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=i[1],u=0;for(let x=0;x<2&&c<l;x++){let y=Zt.decodeDigit(t,s,c,Zt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let E of s)c+=E;y>=10&&(u|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==2)throw new J;if(parseInt(r.toString())%4!==u)throw new J;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[qe.ISSUE_NUMBER,parseInt(t)]])}}class ha{static decodeRow(t,i,r){let s=Zt.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new da().decodeRow(t,i,s)}catch{return new js().decodeRow(t,i,s)}}}ha.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends Zt{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=dt.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let s=0;s<i.length;s++)r[s]=i[i.length-s-1];dt.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let s=dt.findStartGuardPattern(i),l=r==null?null:r.get(Ae.NEED_RESULT_POINT_CALLBACK);if(l!=null){const me=new De((s[0]+s[1])/2,t);l.foundPossibleResultPoint(me)}let c=this.decodeMiddle(i,s,this.decodeRowStringBuffer),u=c.rowOffset,x=c.resultString;if(l!=null){const me=new De(u,t);l.foundPossibleResultPoint(me)}let y=this.decodeEnd(i,u);if(l!=null){const me=new De((y[0]+y[1])/2,t);l.foundPossibleResultPoint(me)}let E=y[1],N=E+(E-y[0]);if(N>=i.getSize()||!i.isRange(E,N,!1))throw new J;let _=x.toString();if(_.length<8)throw new ee;if(!dt.checkChecksum(_))throw new ue;let D=(s[1]+s[0])/2,U=(y[1]+y[0])/2,F=this.getBarcodeFormat(),V=[new De(D,t),new De(U,t)],K=new Ce(_,null,0,V,F,new Date().getTime()),ye=0;try{let me=ha.decodeRow(t,i,y[1]);K.putMetadata(qe.UPC_EAN_EXTENSION,me.getText()),K.putAllMetadata(me.getResultMetadata()),K.addResultPoints(me.getResultPoints()),ye=me.getText().length}catch{}let pe=r==null?null:r.get(Ae.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let me=!1;for(let it in pe)if(ye.toString()===it){me=!0;break}if(!me)throw new J}return K}decodeEnd(t,i){return dt.findGuardPattern(t,i,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return dt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return dt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ee;r+=l}r*=3;for(let s=i-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new ee;r+=l}return(1e3-r)%10}}class mi extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=i[1],u=0;for(let y=0;y<6&&c<l;y++){let E=dt.decodeDigit(t,s,c,dt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let N of s)c+=N;E>=10&&(u|=1<<5-y)}r=mi.determineFirstDigit(r,u),c=dt.findGuardPattern(t,c,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&c<l;y++){let E=dt.decodeDigit(t,s,c,dt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let N of s)c+=N}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new J}}mi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class zi extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c=i[1];for(let x=0;x<4&&c<l;x++){let y=dt.decodeDigit(t,s,c,dt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let E of s)c+=E}c=dt.findGuardPattern(t,c,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<l;x++){let y=dt.decodeDigit(t,s,c,dt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let E of s)c+=E}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return le.EAN_8}}class ga extends dt{constructor(){super(...arguments),this.ean13Reader=new mi}getBarcodeFormat(){return le.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new Ce(i.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new J}reset(){this.ean13Reader.reset()}}class On extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters.map(y=>y);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=t.getSize();let c=i[1],u=0;for(let y=0;y<6&&c<l;y++){const E=On.decodeDigit(t,s,c,On.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let N of s)c+=N;E>=10&&(u|=1<<5-y)}let x=On.determineNumSysAndCheckDigit(r,u);return{rowOffset:c,resultString:x}}decodeEnd(t,i){return On.findGuardPatternWithoutCounters(t,i,!0,On.MIDDLE_END_PATTERN)}checkChecksum(t){return dt.checkChecksum(On.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let l=String.fromCharCode(48+r),c=String.fromCharCode(48+s);return l+t+c}throw J.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),r=new Ge;r.append(t.charAt(0));let s=i[5];switch(s){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(s),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(s);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}On.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),On.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Us extends Ht{constructor(t){super();let i=t==null?null:t.get(Ae.POSSIBLE_FORMATS),r=[];p(i)?(r.push(new mi),r.push(new ga),r.push(new zi),r.push(new On)):(i.indexOf(le.EAN_13)>-1&&r.push(new mi),i.indexOf(le.UPC_A)>-1&&r.push(new ga),i.indexOf(le.EAN_8)>-1&&r.push(new zi),i.indexOf(le.UPC_E)>-1&&r.push(new On)),this.readers=r}decodeRow(t,i,r){for(let s of this.readers)try{const l=s.decodeRow(t,i,r),c=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",u=r==null?null:r.get(Ae.POSSIBLE_FORMATS),x=u==null||u.includes(le.UPC_A);if(c&&x){const y=l.getRawBytes(),E=new Ce(l.getText().substring(1),y,y?y.length:null,l.getResultPoints(),le.UPC_A);return E.putAllMetadata(l.getResultMetadata()),E}return l}catch{}throw new J}reset(){for(let t of this.readers)t.reset()}}class wn extends Ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(Ht.patternMatchVariance(t,i[r],wn.MAX_INDIVIDUAL_VARIANCE)<wn.MAX_AVG_VARIANCE)return r;throw new J}static count(t){return ot.sum(new Int32Array(t))}static increment(t,i){let r=0,s=i[0];for(let l=1;l<t.length;l++)i[l]>s&&(s=i[l],r=l);t[r]++}static decrement(t,i){let r=0,s=i[0];for(let l=1;l<t.length;l++)i[l]<s&&(s=i[l],r=l);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],s=i/r;if(s>=wn.MIN_FINDER_PATTERN_RATIO&&s<=wn.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let u of t)u>c&&(c=u),u<l&&(l=u);return c<10*l}return!1}}wn.MAX_AVG_VARIANCE=.2,wn.MAX_INDIVIDUAL_VARIANCE=.45,wn.MIN_FINDER_PATTERN_RATIO=9.5/12,wn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Hi{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Hi))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Pi{constructor(t,i,r,s,l){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new De(r,l)),this.resultPoints.push(new De(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Pi))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class pi{constructor(){}static getRSSvalue(t,i,r){let s=0;for(let x of t)s+=x;let l=0,c=0,u=t.length;for(let x=0;x<u-1;x++){let y;for(y=1,c|=1<<x;y<t[x];y++,c&=~(1<<x)){let E=pi.combins(s-y-1,u-x-2);if(r&&c===0&&s-y-(u-x-1)>=u-x-1&&(E-=pi.combins(s-y-(u-x),u-x-2)),u-x-1>1){let N=0;for(let _=s-y-(u-x-2);_>i;_--)N+=pi.combins(s-y-_-1,u-x-3);E-=N*(u-1-x)}else s-y>i&&E--;l+=E}s-=y}return l}static combins(t,i){let r,s;t-i>i?(s=i,r=t-i):(s=t-i,r=i);let l=1,c=1;for(let u=t;u>r;u--)l*=u,c<=s&&(l/=c,c++);for(;c<=s;)l/=c,c++;return l}}class kl{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,s=new Se(r),l=0,u=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(u&1<<x)!=0&&s.set(l),l++;for(let x=1;x<t.length;++x){let y=t[x],E=y.getLeftChar().getValue();for(let N=11;N>=0;--N)(E&1<<N)!=0&&s.set(l),l++;if(y.getRightChar()!=null){let N=y.getRightChar().getValue();for(let _=11;_>=0;--_)(N&1<<_)!=0&&s.set(l),l++}}return s}}class Vi{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ga{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class vn extends Ga{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===vn.FNC1}}vn.FNC1="$";class Ri extends Ga{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Un extends Ga{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new ee;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Un.FNC1}isSecondDigitFNC1(){return this.secondDigit===Un.FNC1}isAnyFNC1(){return this.firstDigit===Un.FNC1||this.secondDigit===Un.FNC1}}Un.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new J;let i=t.substring(0,2);for(let l of Te.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,l[2],t):Te.processFixedAI(2,l[1],t);if(t.length<3)throw new J;let r=t.substring(0,3);for(let l of Te.THREE_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,l[2],t):Te.processFixedAI(3,l[1],t);for(let l of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,l[2],t):Te.processFixedAI(4,l[1],t);if(t.length<4)throw new J;let s=t.substring(0,4);for(let l of Te.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,l[2],t):Te.processFixedAI(4,l[1],t);throw new J}static processFixedAI(t,i,r){if(r.length<t)throw new J;let s=r.substring(0,t);if(r.length<t+i)throw new J;let l=r.substring(t,t+i),c=r.substring(t+i),u="("+s+")"+l,x=Te.parseFieldsInGeneralPurpose(c);return x==null?u:u+x}static processVariableAI(t,i,r){let s=r.substring(0,t),l;r.length<t+i?l=r.length:l=t+i;let c=r.substring(t,l),u=r.substring(l),x="("+s+")"+c,y=Te.parseFieldsInGeneralPurpose(u);return y==null?x:x+y}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class kn{constructor(t){this.buffer=new Ge,this.information=t}decodeAllCodes(t,i){let r=i,s=null;do{let l=this.decodeGeneralPurposeField(r,s),c=Te.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&t.append(c),l.isRemaining()?s=""+l.getRemainingValue():s=null,r===l.getNewPosition())break;r=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new Un(this.information.getSize(),Un.FNC1,Un.FNC1):new Un(this.information.getSize(),l-1,Un.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,s=(i-8)%11;return new Un(t+7,r,s)}extractNumericValueFromBitArray(t,i){return kn.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let s=0;for(let l=0;l<r;++l)t.get(i+l)&&(s|=1<<r-l-1);return s}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ri(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ri(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Ri(this.current.getPosition(),this.buffer.toString()):i=new Ri(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Vi(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Ri(this.current.getPosition(),this.buffer.toString());return new Vi(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Ri(this.current.getPosition(),this.buffer.toString());return new Vi(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Ri(this.current.getPosition(),this.buffer.toString());return new Vi(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vi(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new vn(t+5,vn.FNC1);if(i>=5&&i<15)return new vn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new vn(t+7,""+(r+1));if(r>=90&&r<116)return new vn(t+7,""+(r+7));let s=this.extractNumericValueFromBitArray(t,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new ee}return new vn(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new vn(t+5,vn.FNC1);if(i>=5&&i<15)return new vn(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new vn(t+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Tn("Decoding invalid alphanumeric value: "+r)}return new vn(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class sn{constructor(t){this.information=t,this.generalDecoder=new kn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ot extends sn{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*s,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Ot.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let s=0;s<13;s++){let l=t.charAt(s+i).charCodeAt(0)-48;r+=(s&1)===0?3*l:l}r=10-r%10,r===10&&(r=0),t.append(r)}}Ot.GTIN_SIZE=40;class ii extends Ot{constructor(t){super(t)}parseInformation(){let t=new Ge;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,ii.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,ii.HEADER_SIZE+44)}}ii.HEADER_SIZE=4;class _r extends sn{constructor(t){super(t)}parseInformation(){let t=new Ge;return this.getGeneralDecoder().decodeAllCodes(t,_r.HEADER_SIZE)}}_r.HEADER_SIZE=5;class Xa extends Ot{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,s);let l=this.checkWeight(s),c=1e5;for(let u=0;u<5;++u)l/c===0&&t.append("0"),c/=10;t.append(l)}}class yi extends Xa{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=yi.HEADER_SIZE+Xa.GTIN_SIZE+yi.WEIGHT_SIZE)throw new J;let t=new Ge;return this.encodeCompressedGtin(t,yi.HEADER_SIZE),this.encodeCompressedWeight(t,yi.HEADER_SIZE+Xa.GTIN_SIZE,yi.WEIGHT_SIZE),t.toString()}}yi.HEADER_SIZE=5,yi.WEIGHT_SIZE=15;class Fl extends yi{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class xa extends yi{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Xn extends Ot{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Xn.HEADER_SIZE+Ot.GTIN_SIZE)throw new J;let t=new Ge;this.encodeCompressedGtin(t,Xn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+Ot.GTIN_SIZE,Xn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Xn.HEADER_SIZE+Ot.GTIN_SIZE+Xn.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}Xn.HEADER_SIZE=8,Xn.LAST_DIGIT_SIZE=2;class $t extends Ot{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<$t.HEADER_SIZE+Ot.GTIN_SIZE)throw new J;let t=new Ge;this.encodeCompressedGtin(t,$t.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Ot.GTIN_SIZE,$t.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+Ot.GTIN_SIZE+$t.LAST_DIGIT_SIZE,$t.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField($t.HEADER_SIZE+Ot.GTIN_SIZE+$t.LAST_DIGIT_SIZE+$t.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2,$t.FIRST_THREE_DIGITS_SIZE=10;class Et extends Xa{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new J;let t=new Ge;return this.encodeCompressedGtin(t,Et.HEADER_SIZE),this.encodeCompressedWeight(t,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(t,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Et.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=r%32;r/=32;let l=r%12+1;r/=12;let c=r;c/10==0&&t.append("0"),t.append(c),l/10==0&&t.append("0"),t.append(l),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function Or(v){try{if(v.get(1))return new ii(v);if(!v.get(2))return new _r(v);switch(kn.extractNumericValueFromBitArray(v,1,4)){case 4:return new Fl(v);case 5:return new xa(v)}switch(kn.extractNumericValueFromBitArray(v,1,5)){case 12:return new Xn(v);case 13:return new $t(v)}switch(kn.extractNumericValueFromBitArray(v,1,7)){case 56:return new Et(v,"310","11");case 57:return new Et(v,"320","11");case 58:return new Et(v,"310","13");case 59:return new Et(v,"320","13");case 60:return new Et(v,"310","15");case 61:return new Et(v,"320","15");case 62:return new Et(v,"310","17");case 63:return new Et(v,"320","17")}}catch(t){throw console.log(t),new Tn("unknown decoder: "+v)}}class Fn{constructor(t,i,r,s){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Fn?Fn.equalsOrNull(t.leftchar,i.leftchar)&&Fn.equalsOrNull(t.rightchar,i.rightchar)&&Fn.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Fn.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class en{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof en?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((s,l)=>{i.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(r=!0)})}),r}}class ge extends wn{constructor(t){super(...arguments),this.pairs=new Array(ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return ge.constructResult(this.decodeRow2pairs(t,i))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,ge.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(l){if(l instanceof J){if(!this.pairs.length)throw new J;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new J}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(s);try{return this.checkRows(l,r+1)}catch(c){this.verbose&&console.log(c)}}throw new J}static isValidSequence(t){for(let i of ge.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=i[s]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,s=!1,l=!1;for(;r<this.rows.length;){let c=this.rows[r];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),r++}l||s||ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new en(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let s of r.getPairs())for(let l of t)if(Fn.equals(s,l))break}}static isPartialRow(t,i){for(let r of i){let s=!0;for(let l of t){let c=!1;for(let u of r.getPairs())if(l.equals(u)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=kl.buildBitArray(t),s=Or(i).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),u=[l[0],l[1],c[0],c[1]];return new Ce(s,null,null,u,le.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),l=2;for(let u=1;u<this.pairs.size();++u){let x=this.pairs.get(u);s+=x.getLeftChar().getChecksumPortion(),l++;let y=x.getRightChar();y!=null&&(s+=y.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let s=i.length%2==0;this.startFromEven&&(s=!s);let l,c=!0,u=-1;do this.findNextPair(t,i,u),l=this.parseFoundFinderPattern(t,r,s),l==null?u=ge.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,l,s,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new J;let y;try{y=this.decodeDataCharacter(t,l,s,!1)}catch(E){y=null,this.verbose&&console.log(E)}return new Fn(x,y,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),c;r>=0?c=r:this.isEmptyPair(i)?c=0:c=i[i.length-1].getFinderPattern().getStartEnd()[1];let u=i.length%2!=0;this.startFromEven&&(u=!u);let x=!1;for(;c<l&&(x=!t.get(c),!!x);)c++;let y=0,E=c;for(let N=c;N<l;N++)if(t.get(N)!=x)s[y]++;else{if(y==3){if(u&&ge.reverseCounters(s),ge.isFinderPattern(s)){this.startEnd[0]=E,this.startEnd[1]=N;return}u&&ge.reverseCounters(s),E+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,y--}else y++;s[y]=1,x=!x}throw new J}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let s=t[r];t[r]=t[i-r-1],t[i-r-1]=s}}parseFoundFinderPattern(t,i,r){let s,l,c;if(r){let y=this.startEnd[0]-1;for(;y>=0&&!t.get(y);)y--;y++,s=this.startEnd[0]-y,l=y,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let u=this.getDecodeFinderCounters();Z.arraycopy(u,0,u,1,u.length-1),u[0]=s;let x;try{x=this.parseFinderValue(u,ge.FINDER_PATTERNS)}catch{return null}return new Pi(x,[l,c],l,c,i)}decodeDataCharacter(t,i,r,s){let l=this.getDataCharacterCounters();for(let Tt=0;Tt<l.length;Tt++)l[Tt]=0;if(s)ge.recordPatternInReverse(t,i.getStartEnd()[0],l);else{ge.recordPattern(t,i.getStartEnd()[1],l);for(let Tt=0,Cn=l.length-1;Tt<Cn;Tt++,Cn--){let Pn=l[Tt];l[Tt]=l[Cn],l[Cn]=Pn}}let c=17,u=ot.sum(new Int32Array(l))/c,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(u-x)/x>.3)throw new J;let y=this.getOddCounts(),E=this.getEvenCounts(),N=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let Tt=0;Tt<l.length;Tt++){let Cn=1*l[Tt]/u,Pn=Cn+.5;if(Pn<1){if(Cn<.3)throw new J;Pn=1}else if(Pn>8){if(Cn>8.7)throw new J;Pn=8}let Hr=Tt/2;(Tt&1)==0?(y[Hr]=Pn,N[Hr]=Cn-Pn):(E[Hr]=Pn,_[Hr]=Cn-Pn)}this.adjustOddEvenCounts(c);let D=4*i.getValue()+(r?0:2)+(s?0:1)-1,U=0,F=0;for(let Tt=y.length-1;Tt>=0;Tt--){if(ge.isNotA1left(i,r,s)){let Cn=ge.WEIGHTS[D][2*Tt];F+=y[Tt]*Cn}U+=y[Tt]}let V=0;for(let Tt=E.length-1;Tt>=0;Tt--)if(ge.isNotA1left(i,r,s)){let Cn=ge.WEIGHTS[D][2*Tt+1];V+=E[Tt]*Cn}let K=F+V;if((U&1)!=0||U>13||U<4)throw new J;let ye=(13-U)/2,pe=ge.SYMBOL_WIDEST[ye],me=9-pe,it=pi.getRSSvalue(y,pe,!0),Qe=pi.getRSSvalue(E,me,!1),tn=ge.EVEN_TOTAL_SUBSET[ye],Zn=ge.GSUM[ye],Rn=it*tn+Qe+Zn;return new Hi(Rn,K)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=ot.sum(new Int32Array(this.getOddCounts())),r=ot.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);let c=!1,u=!1;r>13?u=!0:r<4&&(c=!0);let x=i+r-t,y=(i&1)==1,E=(r&1)==0;if(x==1)if(y){if(E)throw new J;l=!0}else{if(!E)throw new J;u=!0}else if(x==-1)if(y){if(E)throw new J;s=!0}else{if(!E)throw new J;c=!0}else if(x==0){if(y){if(!E)throw new J;i<r?(s=!0,u=!0):(l=!0,c=!0)}else if(E)throw new J}else throw new J;if(s){if(l)throw new J;ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new J;ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ge.SYMBOL_WIDEST=[7,5,4,3,1],ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ge.GSUM=[0,348,1388,2948,3988],ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ge.FINDER_PAT_A=0,ge.FINDER_PAT_B=1,ge.FINDER_PAT_C=2,ge.FINDER_PAT_D=3,ge.FINDER_PAT_E=4,ge.FINDER_PAT_F=5,ge.FINDER_PATTERN_SEQUENCES=[[ge.FINDER_PAT_A,ge.FINDER_PAT_A],[ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B],[ge.FINDER_PAT_A,ge.FINDER_PAT_C,ge.FINDER_PAT_B,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_C],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F]],ge.MAX_PAIRS=11;class zl extends Hi{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends wn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const s=this.decodePair(i,!1,t,r);vt.addOrTally(this.possibleLeftPairs,s),i.reverse();let l=this.decodePair(i,!0,t,r);vt.addOrTally(this.possibleRightPairs,l),i.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&vt.checkChecksum(c,u))return vt.constructResult(c,u)}throw new J}static addOrTally(t,i){if(i==null)return;let r=!1;for(let s of t)if(s.getValue()===i.getValue()){s.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),s=new String(r).toString(),l=new Ge;for(let y=13-s.length;y>0;y--)l.append("0");l.append(s);let c=0;for(let y=0;y<13;y++){let E=l.charAt(y).charCodeAt(0)-48;c+=(y&1)===0?3*E:E}c=10-c%10,c===10&&(c=0),l.append(c.toString());let u=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new Ce(l.toString(),null,0,[u[0],u[1],x[0],x[1]],le.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(t,i,r,s){try{let l=this.findFinderPattern(t,i),c=this.parseFoundFinderPattern(t,r,i,l),u=s==null?null:s.get(Ae.NEED_RESULT_POINT_CALLBACK);if(u!=null){let E=(l[0]+l[1])/2;i&&(E=t.getSize()-1-E),u.foundPossibleResultPoint(new De(E,r))}let x=this.decodeDataCharacter(t,c,!0),y=this.decodeDataCharacter(t,c,!1);return new zl(1597*x.getValue()+y.getValue(),x.getChecksumPortion()+4*y.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,i,r){let s=this.getDataCharacterCounters();for(let V=0;V<s.length;V++)s[V]=0;if(r)Ht.recordPatternInReverse(t,i.getStartEnd()[0],s);else{Ht.recordPattern(t,i.getStartEnd()[1]+1,s);for(let V=0,K=s.length-1;V<K;V++,K--){let ye=s[V];s[V]=s[K],s[K]=ye}}let l=r?16:15,c=ot.sum(new Int32Array(s))/l,u=this.getOddCounts(),x=this.getEvenCounts(),y=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let V=0;V<s.length;V++){let K=s[V]/c,ye=Math.floor(K+.5);ye<1?ye=1:ye>8&&(ye=8);let pe=Math.floor(V/2);(V&1)===0?(u[pe]=ye,y[pe]=K-ye):(x[pe]=ye,E[pe]=K-ye)}this.adjustOddEvenCounts(r,l);let N=0,_=0;for(let V=u.length-1;V>=0;V--)_*=9,_+=u[V],N+=u[V];let D=0,U=0;for(let V=x.length-1;V>=0;V--)D*=9,D+=x[V],U+=x[V];let F=_+3*D;if(r){if((N&1)!==0||N>12||N<4)throw new J;let V=(12-N)/2,K=vt.OUTSIDE_ODD_WIDEST[V],ye=9-K,pe=pi.getRSSvalue(u,K,!1),me=pi.getRSSvalue(x,ye,!0),it=vt.OUTSIDE_EVEN_TOTAL_SUBSET[V],Qe=vt.OUTSIDE_GSUM[V];return new Hi(pe*it+me+Qe,F)}else{if((U&1)!==0||U>10||U<4)throw new J;let V=(10-U)/2,K=vt.INSIDE_ODD_WIDEST[V],ye=9-K,pe=pi.getRSSvalue(u,K,!0),me=pi.getRSSvalue(x,ye,!1),it=vt.INSIDE_ODD_TOTAL_SUBSET[V],Qe=vt.INSIDE_GSUM[V];return new Hi(me*it+pe+Qe,F)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=t.getSize(),l=!1,c=0;for(;c<s&&(l=!t.get(c),i!==l);)c++;let u=0,x=c;for(let y=c;y<s;y++)if(t.get(y)!==l)r[u]++;else{if(u===3){if(wn.isFinderPattern(r))return[x,y];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,l=!l}throw new J}parseFoundFinderPattern(t,i,r,s){let l=t.get(s[0]),c=s[0]-1;for(;c>=0&&l!==t.get(c);)c--;c++;const u=s[0]-c,x=this.getDecodeFinderCounters(),y=new Int32Array(x.length);Z.arraycopy(x,0,y,1,x.length-1),y[0]=u;const E=this.parseFinderValue(y,vt.FINDER_PATTERNS);let N=c,_=s[1];return r&&(N=t.getSize()-1-N,_=t.getSize()-1-_),new Pi(E,[c,s[1]],N,_,i)}adjustOddEvenCounts(t,i){let r=ot.sum(new Int32Array(this.getOddCounts())),s=ot.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,u=!1,x=!1;t?(r>12?c=!0:r<4&&(l=!0),s>12?x=!0:s<4&&(u=!0)):(r>11?c=!0:r<5&&(l=!0),s>10?x=!0:s<4&&(u=!0));let y=r+s-i,E=(r&1)===(t?1:0),N=(s&1)===1;if(y===1)if(E){if(N)throw new J;c=!0}else{if(!N)throw new J;x=!0}else if(y===-1)if(E){if(N)throw new J;l=!0}else{if(!N)throw new J;u=!0}else if(y===0){if(E){if(!N)throw new J;r<s?(l=!0,x=!0):(c=!0,u=!0)}else if(N)throw new J}else throw new J;if(l){if(c)throw new J;wn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&wn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(x)throw new J;wn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&wn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ri extends Ht{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(Ae.POSSIBLE_FORMATS):null,s=t&&t.get(Ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(le.EAN_13)||r.includes(le.UPC_A)||r.includes(le.EAN_8)||r.includes(le.UPC_E))&&this.readers.push(new Us(t)),r.includes(le.CODE_39)&&this.readers.push(new It(s)),r.includes(le.CODE_128)&&this.readers.push(new we),r.includes(le.ITF)&&this.readers.push(new et),r.includes(le.RSS_14)&&this.readers.push(new vt),r.includes(le.RSS_EXPANDED)&&this.readers.push(new ge(this.verbose))):(this.readers.push(new Us(t)),this.readers.push(new It),this.readers.push(new Us(t)),this.readers.push(new we),this.readers.push(new et),this.readers.push(new vt),this.readers.push(new ge(this.verbose)))}decodeRow(t,i,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,i,r)}catch{}throw new J}reset(){this.readers.forEach(t=>t.reset())}}class Ec extends be{constructor(t=500,i){super(new ri(i),t,i)}}class yt{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class pt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ct{constructor(t,i,r,s,l,c){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=c;let u=0;const x=c.getECCodewords(),y=c.getECBlocks();for(let E of y)u+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new ee;for(let r of ct.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new ee}toString(){return""+this.versionNumber}static buildVersions(){return[new ct(1,10,10,8,8,new yt(5,new pt(1,3))),new ct(2,12,12,10,10,new yt(7,new pt(1,5))),new ct(3,14,14,12,12,new yt(10,new pt(1,8))),new ct(4,16,16,14,14,new yt(12,new pt(1,12))),new ct(5,18,18,16,16,new yt(14,new pt(1,18))),new ct(6,20,20,18,18,new yt(18,new pt(1,22))),new ct(7,22,22,20,20,new yt(20,new pt(1,30))),new ct(8,24,24,22,22,new yt(24,new pt(1,36))),new ct(9,26,26,24,24,new yt(28,new pt(1,44))),new ct(10,32,32,14,14,new yt(36,new pt(1,62))),new ct(11,36,36,16,16,new yt(42,new pt(1,86))),new ct(12,40,40,18,18,new yt(48,new pt(1,114))),new ct(13,44,44,20,20,new yt(56,new pt(1,144))),new ct(14,48,48,22,22,new yt(68,new pt(1,174))),new ct(15,52,52,24,24,new yt(42,new pt(2,102))),new ct(16,64,64,14,14,new yt(56,new pt(2,140))),new ct(17,72,72,16,16,new yt(36,new pt(4,92))),new ct(18,80,80,18,18,new yt(48,new pt(4,114))),new ct(19,88,88,20,20,new yt(56,new pt(4,144))),new ct(20,96,96,22,22,new yt(68,new pt(4,174))),new ct(21,104,104,24,24,new yt(56,new pt(6,136))),new ct(22,120,120,18,18,new yt(68,new pt(6,175))),new ct(23,132,132,20,20,new yt(62,new pt(8,163))),new ct(24,144,144,22,22,new yt(62,new pt(8,156),new pt(2,155))),new ct(25,8,18,6,16,new yt(7,new pt(1,5))),new ct(26,8,32,6,14,new yt(11,new pt(1,10))),new ct(27,12,26,10,24,new yt(14,new pt(1,16))),new ct(28,12,36,10,16,new yt(18,new pt(1,22))),new ct(29,16,36,14,16,new yt(24,new pt(1,32))),new ct(30,16,48,14,22,new yt(28,new pt(1,49)))]}}ct.VERSIONS=ct.buildVersions();class Rr{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new ee;this.version=Rr.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return ct.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,s=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let u=!1,x=!1,y=!1,E=!1;do if(r===l&&s===0&&!u)t[i++]=this.readCorner1(l,c)&255,r-=2,s+=2,u=!0;else if(r===l-2&&s===0&&(c&3)!==0&&!x)t[i++]=this.readCorner2(l,c)&255,r-=2,s+=2,x=!0;else if(r===l+4&&s===2&&(c&7)===0&&!y)t[i++]=this.readCorner3(l,c)&255,r-=2,s+=2,y=!0;else if(r===l-2&&s===0&&(c&7)===4&&!E)t[i++]=this.readCorner4(l,c)&255,r-=2,s+=2,E=!0;else{do r<l&&s>=0&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,l,c)&255),r-=2,s+=2;while(r>=0&&s<c);r+=1,s+=3;do r>=0&&s<c&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,l,c)&255),r+=2,s-=2;while(r<l&&s>=0);r+=3,s+=1}while(r<l||s<c);if(i!==this.version.getTotalCodewords())throw new ee;return t}readModule(t,i,r,s){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,s){let l=0;return this.readModule(t-2,i-2,r,s)&&(l|=1),l<<=1,this.readModule(t-2,i-1,r,s)&&(l|=1),l<<=1,this.readModule(t-1,i-2,r,s)&&(l|=1),l<<=1,this.readModule(t-1,i-1,r,s)&&(l|=1),l<<=1,this.readModule(t-1,i,r,s)&&(l|=1),l<<=1,this.readModule(t,i-2,r,s)&&(l|=1),l<<=1,this.readModule(t,i-1,r,s)&&(l|=1),l<<=1,this.readModule(t,i,r,s)&&(l|=1),l}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new L("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=i/s|0,u=r/l|0,x=c*s,y=u*l,E=new Ve(y,x);for(let N=0;N<c;++N){const _=N*s;for(let D=0;D<u;++D){const U=D*l;for(let F=0;F<s;++F){const V=N*(s+2)+1+F,K=_+F;for(let ye=0;ye<l;++ye){const pe=D*(l+2)+1+ye;if(t.get(pe,V)){const me=U+ye;E.set(me,K)}}}}}return E}}class Dr{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let s=0;const l=r.getECBlocks();for(let F of l)s+=F.getCount();const c=new Array(s);let u=0;for(let F of l)for(let V=0;V<F.getCount();V++){const K=F.getDataCodewords(),ye=r.getECCodewords()+K;c[u++]=new Dr(K,new Uint8Array(ye))}const y=c[0].codewords.length-r.getECCodewords(),E=y-1;let N=0;for(let F=0;F<E;F++)for(let V=0;V<u;V++)c[V].codewords[F]=t[N++];const _=i.getVersionNumber()===24,D=_?8:u;for(let F=0;F<D;F++)c[F].codewords[y-1]=t[N++];const U=c[0].codewords.length;for(let F=y;F<U;F++)for(let V=0;V<u;V++){const K=_?(V+8)%u:V,ye=_&&K>7?F-1:F;c[K].codewords[ye]=t[N++]}if(N!==t.length)throw new L;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ai{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new L(""+t);let i=0,r=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(r>0){const c=8-r,u=t<c?t:c,x=c-u,y=255>>8-u<<x;i=(l[s]&y)>>x,t-=u,r+=u,r===8&&(r=0,s++)}if(t>0){for(;t>=8;)i=i<<8|l[s]&255,s++,t-=8;if(t>0){const c=8-t,u=255>>c<<c;i=i<<t|(l[s]&u)>>c,r+=t}}return this.bitOffset=r,this.byteOffset=s,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var bt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(bt||(bt={}));class Di{static decode(t){const i=new ai(t),r=new Ge,s=new Ge,l=new Array;let c=bt.ASCII_ENCODE;do if(c===bt.ASCII_ENCODE)c=this.decodeAsciiSegment(i,r,s);else{switch(c){case bt.C40_ENCODE:this.decodeC40Segment(i,r);break;case bt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case bt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case bt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case bt.BASE256_ENCODE:this.decodeBase256Segment(i,r,l);break;default:throw new ee}c=bt.ASCII_ENCODE}while(c!==bt.PAD_ENCODE&&i.available()>0);return s.length()>0&&r.append(s.toString()),new Ye(t,r.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,i,r){let s=!1;do{let l=t.readBits(8);if(l===0)throw new ee;if(l<=128)return s&&(l+=128),i.append(String.fromCharCode(l-1)),bt.ASCII_ENCODE;if(l===129)return bt.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&i.append("0"),i.append(""+c)}else switch(l){case 230:return bt.C40_ENCODE;case 231:return bt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return bt.ANSIX12_ENCODE;case 239:return bt.TEXT_ENCODE;case 240:return bt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new ee;break}}while(t.available()>0);return bt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const s=[];let l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let u=0;u<3;u++){const x=s[u];switch(l){case 0:if(x<3)l=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else throw new ee;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),l=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new ee}l=0;break;case 3:r?(i.append(String.fromCharCode(x+224)),r=!1):i.append(String.fromCharCode(x+96)),l=0;break;default:throw new ee}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,s=[],l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let u=0;u<3;u++){const x=s[u];switch(l){case 0:if(x<3)l=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else throw new ee;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),l=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new ee}l=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y),l=0}else throw new ee;break;default:throw new ee}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),r);for(let l=0;l<3;l++){const c=r[l];switch(c){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(c<14)i.append(String.fromCharCode(c+44));else if(c<40)i.append(String.fromCharCode(c+51));else throw new ee;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let s=(t<<8)+i-1,l=Math.floor(s/1600);r[0]=l,s-=l*1600,l=Math.floor(s/40),r[1]=l,r[2]=s-l*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let s=t.readBits(6);if(s===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}(s&32)===0&&(s|=64),i.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let s=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),s++);let c;if(l===0?c=t.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new ee;const u=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new ee;u[x]=this.unrandomize255State(t.readBits(8),s++)}r.push(u);try{i.append($e.decode(u,Ee.ISO88591))}catch(x){throw new Tn("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const r=149*i%255+1,s=t-r;return s>=0?s:s+256}}Di.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Di.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Di.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Di.TEXT_SHIFT2_SET_CHARS=Di.C40_SHIFT2_SET_CHARS,Di.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Cc{constructor(){this.rsDecoder=new tr(lt.DATA_MATRIX_FIELD_256)}decode(t){const i=new Rr(t),r=i.getVersion(),s=i.readCodewords(),l=Dr.getDataBlocks(s,r);let c=0;for(let y of l)c+=y.getNumDataCodewords();const u=new Uint8Array(c),x=l.length;for(let y=0;y<x;y++){const E=l[y],N=E.getCodewords(),_=E.getNumDataCodewords();this.correctErrors(N,_);for(let D=0;D<_;D++)u[D*x+y]=N[D]}return Di.decode(u)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new ue}for(let s=0;s<i;s++)t[s]=r[s]}}class Pt{constructor(t){this.image=t,this.rectangleDetector=new Wt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new J;i=this.shiftToModuleCenter(i);const r=i[0],s=i[1],l=i[2],c=i[3];let u=this.transitionsBetween(r,c)+1,x=this.transitionsBetween(l,c)+1;(u&1)===1&&(u+=1),(x&1)===1&&(x+=1),4*u<7*x&&4*x<7*u&&(u=x=Math.max(u,x));let y=Pt.sampleGrid(this.image,r,s,l,c,u,x);return new Pa(y,[r,s,l,c])}static shiftPoint(t,i,r){let s=(i.getX()-t.getX())/(r+1),l=(i.getY()-t.getY())/(r+1);return new De(t.getX()+s,t.getY()+l)}static moveAway(t,i,r){let s=t.getX(),l=t.getY();return s<i?s-=1:s+=1,l<r?l-=1:l+=1,new De(s,l)}detectSolid1(t){let i=t[0],r=t[1],s=t[3],l=t[2],c=this.transitionsBetween(i,r),u=this.transitionsBetween(r,s),x=this.transitionsBetween(s,l),y=this.transitionsBetween(l,i),E=c,N=[l,i,r,s];return E>u&&(E=u,N[0]=i,N[1]=r,N[2]=s,N[3]=l),E>x&&(E=x,N[0]=r,N[1]=s,N[2]=l,N[3]=i),E>y&&(N[0]=s,N[1]=l,N[2]=i,N[3]=r),N}detectSolid2(t){let i=t[0],r=t[1],s=t[2],l=t[3],c=this.transitionsBetween(i,l),u=Pt.shiftPoint(r,s,(c+1)*4),x=Pt.shiftPoint(s,r,(c+1)*4),y=this.transitionsBetween(u,i),E=this.transitionsBetween(x,l);return y<E?(t[0]=i,t[1]=r,t[2]=s,t[3]=l):(t[0]=r,t[1]=s,t[2]=l,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],s=t[2],l=t[3],c=this.transitionsBetween(i,l),u=this.transitionsBetween(r,l),x=Pt.shiftPoint(i,r,(u+1)*4),y=Pt.shiftPoint(s,r,(c+1)*4);c=this.transitionsBetween(x,l),u=this.transitionsBetween(y,l);let E=new De(l.getX()+(s.getX()-r.getX())/(c+1),l.getY()+(s.getY()-r.getY())/(c+1)),N=new De(l.getX()+(i.getX()-r.getX())/(u+1),l.getY()+(i.getY()-r.getY())/(u+1));if(!this.isValid(E))return this.isValid(N)?N:null;if(!this.isValid(N))return E;let _=this.transitionsBetween(x,E)+this.transitionsBetween(y,E),D=this.transitionsBetween(x,N)+this.transitionsBetween(y,N);return _>D?E:N}shiftToModuleCenter(t){let i=t[0],r=t[1],s=t[2],l=t[3],c=this.transitionsBetween(i,l)+1,u=this.transitionsBetween(s,l)+1,x=Pt.shiftPoint(i,r,u*4),y=Pt.shiftPoint(s,r,c*4);c=this.transitionsBetween(x,l)+1,u=this.transitionsBetween(y,l)+1,(c&1)===1&&(c+=1),(u&1)===1&&(u+=1);let E=(i.getX()+r.getX()+s.getX()+l.getX())/4,N=(i.getY()+r.getY()+s.getY()+l.getY())/4;i=Pt.moveAway(i,E,N),r=Pt.moveAway(r,E,N),s=Pt.moveAway(s,E,N),l=Pt.moveAway(l,E,N);let _,D;return x=Pt.shiftPoint(i,r,u*4),x=Pt.shiftPoint(x,l,c*4),_=Pt.shiftPoint(r,i,u*4),_=Pt.shiftPoint(_,s,c*4),y=Pt.shiftPoint(s,l,u*4),y=Pt.shiftPoint(y,r,c*4),D=Pt.shiftPoint(l,s,u*4),D=Pt.shiftPoint(D,i,c*4),[x,_,y,D]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,s,l,c,u){return ni.getInstance().sampleGrid(t,c,u,.5,.5,c-.5,.5,c-.5,u-.5,.5,u-.5,i.getX(),i.getY(),l.getX(),l.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.abs(c-s)>Math.abs(l-r);if(u){let F=r;r=s,s=F,F=l,l=c,c=F}let x=Math.abs(l-r),y=Math.abs(c-s),E=-x/2,N=s<c?1:-1,_=r<l?1:-1,D=0,U=this.image.get(u?s:r,u?r:s);for(let F=r,V=s;F!==l;F+=_){let K=this.image.get(u?V:F,u?F:V);if(K!==U&&(D++,U=K),E+=y,E>0){if(V===c)break;V+=N,E-=x}}return D}}class Ii{constructor(){this.decoder=new Cc}decode(t,i=null){let r,s;if(i!=null&&i.has(Ae.PURE_BARCODE)){const y=Ii.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(y),s=Ii.NO_POINTS}else{const y=new Pt(t.getBlackMatrix()).detect();r=this.decoder.decode(y.getBits()),s=y.getPoints()}const l=r.getRawBytes(),c=new Ce(r.getText(),l,8*l.length,s,le.DATA_MATRIX,Z.currentTimeMillis()),u=r.getByteSegments();u!=null&&c.putMetadata(qe.BYTE_SEGMENTS,u);const x=r.getECLevel();return x!=null&&c.putMetadata(qe.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new J;const s=this.moduleSize(i,t);let l=i[1];const c=r[1];let u=i[0];const y=(r[0]-u+1)/s,E=(c-l+1)/s;if(y<=0||E<=0)throw new J;const N=s/2;l+=N,u+=N;const _=new Ve(y,E);for(let D=0;D<E;D++){const U=l+D*s;for(let F=0;F<y;F++)t.get(u+F*s,U)&&_.set(F,D)}return _}static moduleSize(t,i){const r=i.getWidth();let s=t[0];const l=t[1];for(;s<r&&i.get(s,l);)s++;if(s===r)throw new J;const c=s-t[0];if(c===0)throw new J;return c}}Ii.NO_POINTS=[];class Ya extends be{constructor(t=500){super(new Ii,t)}}var Ir;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(Ir||(Ir={}));class at{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,at.FOR_BITS.set(r,this),at.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return at.L;case"M":return at.M;case"Q":return at.Q;case"H":return at.H;default:throw new I(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof at))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=at.FOR_BITS.size)throw new L;return at.FOR_BITS.get(t)}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.L=new at(Ir.L,"L",1),at.M=new at(Ir.M,"M",0),at.Q=new at(Ir.Q,"Q",3),at.H=new at(Ir.H,"H",2);class hn{constructor(t){this.errorCorrectionLevel=at.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return ce.bitCount(t^i)}static decodeFormatInformation(t,i){const r=hn.doDecodeFormatInformation(t,i);return r!==null?r:hn.doDecodeFormatInformation(t^hn.FORMAT_INFO_MASK_QR,i^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,s=0;for(const l of hn.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===t||c===i)return new hn(l[1]);let u=hn.numBitsDiffering(t,c);u<r&&(s=l[1],r=u),t!==i&&(u=hn.numBitsDiffering(i,c),u<r&&(s=l[1],r=u))}return r<=3?new hn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof hn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let s=0;const l=r[0].getECCodewordsPerBlock(),c=r[0].getECBlocks();for(const u of c)s+=u.getCount()*(u.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ee;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ee}}static getVersionForNumber(t){if(t<1||t>40)throw new L;return Be.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Be.VERSION_DECODE_INFO.length;s++){const l=Be.VERSION_DECODE_INFO[s];if(l===t)return Be.getVersionForNumber(s+7);const c=hn.numBitsDiffering(t,l);c<i&&(r=s+7,i=c)}return i<=3?Be.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Ve(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const l=this.alignmentPatternCenters[s]-2;for(let c=0;c<r;c++)s===0&&(c===0||c===r-1)||s===r-1&&c===0||i.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Be.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Be.VERSIONS=[new Be(1,new Int32Array(0),new G(7,new R(1,19)),new G(10,new R(1,16)),new G(13,new R(1,13)),new G(17,new R(1,9))),new Be(2,Int32Array.from([6,18]),new G(10,new R(1,34)),new G(16,new R(1,28)),new G(22,new R(1,22)),new G(28,new R(1,16))),new Be(3,Int32Array.from([6,22]),new G(15,new R(1,55)),new G(26,new R(1,44)),new G(18,new R(2,17)),new G(22,new R(2,13))),new Be(4,Int32Array.from([6,26]),new G(20,new R(1,80)),new G(18,new R(2,32)),new G(26,new R(2,24)),new G(16,new R(4,9))),new Be(5,Int32Array.from([6,30]),new G(26,new R(1,108)),new G(24,new R(2,43)),new G(18,new R(2,15),new R(2,16)),new G(22,new R(2,11),new R(2,12))),new Be(6,Int32Array.from([6,34]),new G(18,new R(2,68)),new G(16,new R(4,27)),new G(24,new R(4,19)),new G(28,new R(4,15))),new Be(7,Int32Array.from([6,22,38]),new G(20,new R(2,78)),new G(18,new R(4,31)),new G(18,new R(2,14),new R(4,15)),new G(26,new R(4,13),new R(1,14))),new Be(8,Int32Array.from([6,24,42]),new G(24,new R(2,97)),new G(22,new R(2,38),new R(2,39)),new G(22,new R(4,18),new R(2,19)),new G(26,new R(4,14),new R(2,15))),new Be(9,Int32Array.from([6,26,46]),new G(30,new R(2,116)),new G(22,new R(3,36),new R(2,37)),new G(20,new R(4,16),new R(4,17)),new G(24,new R(4,12),new R(4,13))),new Be(10,Int32Array.from([6,28,50]),new G(18,new R(2,68),new R(2,69)),new G(26,new R(4,43),new R(1,44)),new G(24,new R(6,19),new R(2,20)),new G(28,new R(6,15),new R(2,16))),new Be(11,Int32Array.from([6,30,54]),new G(20,new R(4,81)),new G(30,new R(1,50),new R(4,51)),new G(28,new R(4,22),new R(4,23)),new G(24,new R(3,12),new R(8,13))),new Be(12,Int32Array.from([6,32,58]),new G(24,new R(2,92),new R(2,93)),new G(22,new R(6,36),new R(2,37)),new G(26,new R(4,20),new R(6,21)),new G(28,new R(7,14),new R(4,15))),new Be(13,Int32Array.from([6,34,62]),new G(26,new R(4,107)),new G(22,new R(8,37),new R(1,38)),new G(24,new R(8,20),new R(4,21)),new G(22,new R(12,11),new R(4,12))),new Be(14,Int32Array.from([6,26,46,66]),new G(30,new R(3,115),new R(1,116)),new G(24,new R(4,40),new R(5,41)),new G(20,new R(11,16),new R(5,17)),new G(24,new R(11,12),new R(5,13))),new Be(15,Int32Array.from([6,26,48,70]),new G(22,new R(5,87),new R(1,88)),new G(24,new R(5,41),new R(5,42)),new G(30,new R(5,24),new R(7,25)),new G(24,new R(11,12),new R(7,13))),new Be(16,Int32Array.from([6,26,50,74]),new G(24,new R(5,98),new R(1,99)),new G(28,new R(7,45),new R(3,46)),new G(24,new R(15,19),new R(2,20)),new G(30,new R(3,15),new R(13,16))),new Be(17,Int32Array.from([6,30,54,78]),new G(28,new R(1,107),new R(5,108)),new G(28,new R(10,46),new R(1,47)),new G(28,new R(1,22),new R(15,23)),new G(28,new R(2,14),new R(17,15))),new Be(18,Int32Array.from([6,30,56,82]),new G(30,new R(5,120),new R(1,121)),new G(26,new R(9,43),new R(4,44)),new G(28,new R(17,22),new R(1,23)),new G(28,new R(2,14),new R(19,15))),new Be(19,Int32Array.from([6,30,58,86]),new G(28,new R(3,113),new R(4,114)),new G(26,new R(3,44),new R(11,45)),new G(26,new R(17,21),new R(4,22)),new G(26,new R(9,13),new R(16,14))),new Be(20,Int32Array.from([6,34,62,90]),new G(28,new R(3,107),new R(5,108)),new G(26,new R(3,41),new R(13,42)),new G(30,new R(15,24),new R(5,25)),new G(28,new R(15,15),new R(10,16))),new Be(21,Int32Array.from([6,28,50,72,94]),new G(28,new R(4,116),new R(4,117)),new G(26,new R(17,42)),new G(28,new R(17,22),new R(6,23)),new G(30,new R(19,16),new R(6,17))),new Be(22,Int32Array.from([6,26,50,74,98]),new G(28,new R(2,111),new R(7,112)),new G(28,new R(17,46)),new G(30,new R(7,24),new R(16,25)),new G(24,new R(34,13))),new Be(23,Int32Array.from([6,30,54,78,102]),new G(30,new R(4,121),new R(5,122)),new G(28,new R(4,47),new R(14,48)),new G(30,new R(11,24),new R(14,25)),new G(30,new R(16,15),new R(14,16))),new Be(24,Int32Array.from([6,28,54,80,106]),new G(30,new R(6,117),new R(4,118)),new G(28,new R(6,45),new R(14,46)),new G(30,new R(11,24),new R(16,25)),new G(30,new R(30,16),new R(2,17))),new Be(25,Int32Array.from([6,32,58,84,110]),new G(26,new R(8,106),new R(4,107)),new G(28,new R(8,47),new R(13,48)),new G(30,new R(7,24),new R(22,25)),new G(30,new R(22,15),new R(13,16))),new Be(26,Int32Array.from([6,30,58,86,114]),new G(28,new R(10,114),new R(2,115)),new G(28,new R(19,46),new R(4,47)),new G(28,new R(28,22),new R(6,23)),new G(30,new R(33,16),new R(4,17))),new Be(27,Int32Array.from([6,34,62,90,118]),new G(30,new R(8,122),new R(4,123)),new G(28,new R(22,45),new R(3,46)),new G(30,new R(8,23),new R(26,24)),new G(30,new R(12,15),new R(28,16))),new Be(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new R(3,117),new R(10,118)),new G(28,new R(3,45),new R(23,46)),new G(30,new R(4,24),new R(31,25)),new G(30,new R(11,15),new R(31,16))),new Be(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new R(7,116),new R(7,117)),new G(28,new R(21,45),new R(7,46)),new G(30,new R(1,23),new R(37,24)),new G(30,new R(19,15),new R(26,16))),new Be(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new R(5,115),new R(10,116)),new G(28,new R(19,47),new R(10,48)),new G(30,new R(15,24),new R(25,25)),new G(30,new R(23,15),new R(25,16))),new Be(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new R(13,115),new R(3,116)),new G(28,new R(2,46),new R(29,47)),new G(30,new R(42,24),new R(1,25)),new G(30,new R(23,15),new R(28,16))),new Be(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new R(17,115)),new G(28,new R(10,46),new R(23,47)),new G(30,new R(10,24),new R(35,25)),new G(30,new R(19,15),new R(35,16))),new Be(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new R(17,115),new R(1,116)),new G(28,new R(14,46),new R(21,47)),new G(30,new R(29,24),new R(19,25)),new G(30,new R(11,15),new R(46,16))),new Be(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new R(13,115),new R(6,116)),new G(28,new R(14,46),new R(23,47)),new G(30,new R(44,24),new R(7,25)),new G(30,new R(59,16),new R(1,17))),new Be(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new R(12,121),new R(7,122)),new G(28,new R(12,47),new R(26,48)),new G(30,new R(39,24),new R(14,25)),new G(30,new R(22,15),new R(41,16))),new Be(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new R(6,121),new R(14,122)),new G(28,new R(6,47),new R(34,48)),new G(30,new R(46,24),new R(10,25)),new G(30,new R(2,15),new R(64,16))),new Be(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new R(17,122),new R(4,123)),new G(28,new R(29,46),new R(14,47)),new G(30,new R(49,24),new R(10,25)),new G(30,new R(24,15),new R(46,16))),new Be(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new R(4,122),new R(18,123)),new G(28,new R(13,46),new R(32,47)),new G(30,new R(48,24),new R(14,25)),new G(30,new R(42,15),new R(32,16))),new Be(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new R(20,117),new R(4,118)),new G(28,new R(40,47),new R(7,48)),new G(30,new R(43,24),new R(22,25)),new G(30,new R(10,15),new R(67,16))),new Be(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new R(19,118),new R(6,119)),new G(28,new R(18,47),new R(31,48)),new G(30,new R(34,24),new R(34,25)),new G(30,new R(20,15),new R(61,16)))];var ln;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(ln||(ln={}));class zn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let s=0;s<i;s++)this.isMasked(r,s)&&t.flip(s,r)}}zn.values=new Map([[ln.DATA_MASK_000,new zn(ln.DATA_MASK_000,(v,t)=>(v+t&1)===0)],[ln.DATA_MASK_001,new zn(ln.DATA_MASK_001,(v,t)=>(v&1)===0)],[ln.DATA_MASK_010,new zn(ln.DATA_MASK_010,(v,t)=>t%3===0)],[ln.DATA_MASK_011,new zn(ln.DATA_MASK_011,(v,t)=>(v+t)%3===0)],[ln.DATA_MASK_100,new zn(ln.DATA_MASK_100,(v,t)=>(Math.floor(v/2)+Math.floor(t/3)&1)===0)],[ln.DATA_MASK_101,new zn(ln.DATA_MASK_101,(v,t)=>v*t%6===0)],[ln.DATA_MASK_110,new zn(ln.DATA_MASK_110,(v,t)=>v*t%6<3)],[ln.DATA_MASK_111,new zn(ln.DATA_MASK_111,(v,t)=>(v+t+v*t%3&1)===0)]]);class Mr{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new ee;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const i=this.bitMatrix.getHeight();let r=0;const s=i-7;for(let l=i-1;l>=s;l--)r=this.copyBit(8,l,r);for(let l=i-8;l<i;l++)r=this.copyBit(l,8,r);if(this.parsedFormatInfo=hn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ee}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Be.getVersionForNumber(i);let r=0;const s=t-11;for(let c=5;c>=0;c--)for(let u=t-9;u>=s;u--)r=this.copyBit(u,c,r);let l=Be.decodeVersionInformation(r);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;r=0;for(let c=5;c>=0;c--)for(let u=t-9;u>=s;u--)r=this.copyBit(c,u,r);if(l=Be.decodeVersionInformation(r),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new ee}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=zn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const l=i.buildFunctionPattern();let c=!0;const u=new Uint8Array(i.getTotalCodewords());let x=0,y=0,E=0;for(let N=s-1;N>0;N-=2){N===6&&N--;for(let _=0;_<s;_++){const D=c?s-1-_:_;for(let U=0;U<2;U++)l.get(N-U,D)||(E++,y<<=1,this.bitMatrix.get(N-U,D)&&(y|=1),E===8&&(u[x++]=y,E=0,y=0))}c=!c}if(x!==i.getTotalCodewords())throw new ee;return u}remask(){if(this.parsedFormatInfo===null)return;const t=zn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let s=i+1,l=t.getHeight();s<l;s++)t.get(i,s)!==t.get(s,i)&&(t.flip(s,i),t.flip(i,s))}}class ks{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new L;const s=i.getECBlocksForLevel(r);let l=0;const c=s.getECBlocks();for(const U of c)l+=U.getCount();const u=new Array(l);let x=0;for(const U of c)for(let F=0;F<U.getCount();F++){const V=U.getDataCodewords(),K=s.getECCodewordsPerBlock()+V;u[x++]=new ks(V,new Uint8Array(K))}const y=u[0].codewords.length;let E=u.length-1;for(;E>=0&&u[E].codewords.length!==y;)E--;E++;const N=y-s.getECCodewordsPerBlock();let _=0;for(let U=0;U<N;U++)for(let F=0;F<x;F++)u[F].codewords[U]=t[_++];for(let U=E;U<x;U++)u[U].codewords[N]=t[_++];const D=u[0].codewords.length;for(let U=N;U<D;U++)for(let F=0;F<x;F++){const V=F<E?U:U+1;u[F].codewords[V]=t[_++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Hn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(Hn||(Hn={}));class Fe{constructor(t,i,r,s){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=s,Fe.FOR_BITS.set(s,this),Fe.FOR_VALUE.set(t,this)}static forBits(t){const i=Fe.FOR_BITS.get(t);if(i===void 0)throw new L;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Fe))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.TERMINATOR=new Fe(Hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Fe.NUMERIC=new Fe(Hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Fe.ALPHANUMERIC=new Fe(Hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Fe.STRUCTURED_APPEND=new Fe(Hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Fe.BYTE=new Fe(Hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Fe.ECI=new Fe(Hn.ECI,"ECI",Int32Array.from([0,0,0]),7),Fe.KANJI=new Fe(Hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Fe.FNC1_FIRST_POSITION=new Fe(Hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Fe.FNC1_SECOND_POSITION=new Fe(Hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Fe.HANZI=new Fe(Hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(t,i,r,s){const l=new ai(t);let c=new Ge;const u=new Array;let x=-1,y=-1;try{let E=null,N=!1,_;do{if(l.available()<4)_=Fe.TERMINATOR;else{const D=l.readBits(4);_=Fe.forBits(D)}switch(_){case Fe.TERMINATOR:break;case Fe.FNC1_FIRST_POSITION:case Fe.FNC1_SECOND_POSITION:N=!0;break;case Fe.STRUCTURED_APPEND:if(l.available()<16)throw new ee;x=l.readBits(8),y=l.readBits(8);break;case Fe.ECI:const D=Ut.parseECIValue(l);if(E=ie.getCharacterSetECIByValue(D),E===null)throw new ee;break;case Fe.HANZI:const U=l.readBits(4),F=l.readBits(_.getCharacterCountBits(i));U===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(l,c,F);break;default:const V=l.readBits(_.getCharacterCountBits(i));switch(_){case Fe.NUMERIC:Ut.decodeNumericSegment(l,c,V);break;case Fe.ALPHANUMERIC:Ut.decodeAlphanumericSegment(l,c,V,N);break;case Fe.BYTE:Ut.decodeByteSegment(l,c,V,E,u,s);break;case Fe.KANJI:Ut.decodeKanjiSegment(l,c,V);break;default:throw new ee}break}}while(_!==Fe.TERMINATOR)}catch{throw new ee}return new Ye(t,c.toString(),u.length===0?null:u,r===null?null:r.toString(),x,y)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new ee;const s=new Uint8Array(2*r);let l=0;for(;r>0;){const c=t.readBits(13);let u=c/96<<8&4294967295|c%96;u<959?u+=41377:u+=42657,s[l]=u>>8&255,s[l+1]=u&255,l+=2,r--}try{i.append($e.decode(s,Ee.GB2312))}catch(c){throw new ee(c)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new ee;const s=new Uint8Array(2*r);let l=0;for(;r>0;){const c=t.readBits(13);let u=c/192<<8&4294967295|c%192;u<7936?u+=33088:u+=49472,s[l]=u>>8,s[l+1]=u,l+=2,r--}try{i.append($e.decode(s,Ee.SHIFT_JIS))}catch(c){throw new ee(c)}}static decodeByteSegment(t,i,r,s,l,c){if(8*r>t.available())throw new ee;const u=new Uint8Array(r);for(let y=0;y<r;y++)u[y]=t.readBits(8);let x;s===null?x=Ee.guessEncoding(u,c):x=s.getName();try{i.append($e.decode(u,x))}catch(y){throw new ee(y)}l.push(u)}static toAlphaNumericChar(t){if(t>=Ut.ALPHANUMERIC_CHARS.length)throw new ee;return Ut.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,s){const l=i.length();for(;r>1;){if(t.available()<11)throw new ee;const c=t.readBits(11);i.append(Ut.toAlphaNumericChar(Math.floor(c/45))),i.append(Ut.toAlphaNumericChar(c%45)),r-=2}if(r===1){if(t.available()<6)throw new ee;i.append(Ut.toAlphaNumericChar(t.readBits(6)))}if(s)for(let c=l;c<i.length();c++)i.charAt(c)==="%"&&(c<i.length()-1&&i.charAt(c+1)==="%"?i.deleteCharAt(c+1):i.setCharAt(c,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new ee;const s=t.readBits(10);if(s>=1e3)throw new ee;i.append(Ut.toAlphaNumericChar(Math.floor(s/100))),i.append(Ut.toAlphaNumericChar(Math.floor(s/10)%10)),i.append(Ut.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(t.available()<7)throw new ee;const s=t.readBits(7);if(s>=100)throw new ee;i.append(Ut.toAlphaNumericChar(Math.floor(s/10))),i.append(Ut.toAlphaNumericChar(s%10))}else if(r===1){if(t.available()<4)throw new ee;const s=t.readBits(4);if(s>=10)throw new ee;i.append(Ut.toAlphaNumericChar(s))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new ee}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class Hl{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Sc{constructor(){this.rsDecoder=new tr(lt.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Ve.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new Mr(t);let s=null;try{return this.decodeBitMatrixParser(r,i)}catch(l){s=l}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const l=this.decodeBitMatrixParser(r,i);return l.setOther(new Hl(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(t,i){const r=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=ks.getDataBlocks(l,r,s);let u=0;for(const E of c)u+=E.getNumDataCodewords();const x=new Uint8Array(u);let y=0;for(const E of c){const N=E.getCodewords(),_=E.getNumDataCodewords();this.correctErrors(N,_);for(let D=0;D<_;D++)x[y++]=N[D]}return Ut.decode(x,r,s,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new ue}for(let s=0;s<i;s++)t[s]=r[s]}}class Br extends De{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=(this.getX()+i)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+r)/2;return new Br(s,l,c)}}class Yn{constructor(t,i,r,s,l,c,u){this.image=t,this.startX=i,this.startY=r,this.width=s,this.height=l,this.moduleSize=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,s=t+r,l=this.startY+i/2,c=new Int32Array(3),u=this.image;for(let x=0;x<i;x++){const y=l+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let E=t;for(;E<s&&!u.get(E,y);)E++;let N=0;for(;E<s;){if(u.get(E,y))if(N===1)c[1]++;else if(N===2){if(this.foundPatternCross(c)){const _=this.handlePossibleCenter(c,y,E);if(_!==null)return _}c[0]=c[2],c[1]=1,c[2]=0,N=1}else c[++N]++;else N===1&&N++,c[N]++;E++}if(this.foundPatternCross(c)){const _=this.handlePossibleCenter(c,y,s);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let s=0;s<3;s++)if(Math.abs(i-t[s])>=r)return!1;return!0}crossCheckVertical(t,i,r,s){const l=this.image,c=l.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x>=0&&l.get(i,x)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&!l.get(i,x)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&l.get(i,x)&&u[1]<=r;)u[1]++,x++;if(x===c||u[1]>r)return NaN;for(;x<c&&!l.get(i,x)&&u[2]<=r;)u[2]++,x++;if(u[2]>r)return NaN;const y=u[0]+u[1]+u[2];return 5*Math.abs(y-s)>=2*s?NaN:this.foundPatternCross(u)?Yn.centerFromEnd(u,x):NaN}handlePossibleCenter(t,i,r){const s=t[0]+t[1]+t[2],l=Yn.centerFromEnd(t,r),c=this.crossCheckVertical(i,l,2*t[1],s);if(!isNaN(c)){const u=(t[0]+t[1]+t[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(u,c,l))return y.combineEstimate(c,l,u);const x=new Br(l,c,u);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class ma extends De{constructor(t,i,r,s){super(t,i),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=this.count+1,l=(this.count*this.getX()+i)/s,c=(this.count*this.getY()+t)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new ma(l,c,u,s)}}class Fs{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Ae.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ae.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),c=s.getWidth();let u=Math.floor(3*l/(4*Vt.MAX_MODULES));(u<Vt.MIN_SKIP||i)&&(u=Vt.MIN_SKIP);let x=!1;const y=new Int32Array(5);for(let N=u-1;N<l&&!x;N+=u){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let _=0;for(let D=0;D<c;D++)if(s.get(D,N))(_&1)===1&&_++,y[_]++;else if((_&1)===0)if(_===4)if(Vt.foundPatternCross(y)){if(this.handlePossibleCenter(y,N,D,r)===!0)if(u=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>y[2]&&(N+=F-y[2]-u,D=c-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,_=3;continue}_=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,_=3;else y[++_]++;else y[_]++;Vt.foundPatternCross(y)&&this.handlePossibleCenter(y,N,c,r)===!0&&(u=y[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return De.orderBestPatterns(E),new Fs(E)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let l=0;l<5;l++){const c=t[l];if(c===0)return!1;i+=c}if(i<7)return!1;const r=i/7,s=r/2;return Math.abs(r-t[0])<s&&Math.abs(r-t[1])<s&&Math.abs(3*r-t[2])<3*s&&Math.abs(r-t[3])<s&&Math.abs(r-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,s){const l=this.getCrossCheckStateCount();let c=0;const u=this.image;for(;t>=c&&i>=c&&u.get(i-c,t-c);)l[2]++,c++;if(t<c||i<c)return!1;for(;t>=c&&i>=c&&!u.get(i-c,t-c)&&l[1]<=r;)l[1]++,c++;if(t<c||i<c||l[1]>r)return!1;for(;t>=c&&i>=c&&u.get(i-c,t-c)&&l[0]<=r;)l[0]++,c++;if(l[0]>r)return!1;const x=u.getHeight(),y=u.getWidth();for(c=1;t+c<x&&i+c<y&&u.get(i+c,t+c);)l[2]++,c++;if(t+c>=x||i+c>=y)return!1;for(;t+c<x&&i+c<y&&!u.get(i+c,t+c)&&l[3]<r;)l[3]++,c++;if(t+c>=x||i+c>=y||l[3]>=r)return!1;for(;t+c<x&&i+c<y&&u.get(i+c,t+c)&&l[4]<r;)l[4]++,c++;if(l[4]>=r)return!1;const E=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(E-s)<2*s&&Vt.foundPatternCross(l)}crossCheckVertical(t,i,r,s){const l=this.image,c=l.getHeight(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&l.get(i,x);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!l.get(i,x)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&l.get(i,x)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&l.get(i,x);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!l.get(i,x)&&u[3]<r;)u[3]++,x++;if(x===c||u[3]>=r)return NaN;for(;x<c&&l.get(i,x)&&u[4]<r;)u[4]++,x++;if(u[4]>=r)return NaN;const y=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(y-s)>=2*s?NaN:Vt.foundPatternCross(u)?Vt.centerFromEnd(u,x):NaN}crossCheckHorizontal(t,i,r,s){const l=this.image,c=l.getWidth(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&l.get(x,i);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!l.get(x,i)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&l.get(x,i)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&l.get(x,i);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!l.get(x,i)&&u[3]<r;)u[3]++,x++;if(x===c||u[3]>=r)return NaN;for(;x<c&&l.get(x,i)&&u[4]<r;)u[4]++,x++;if(u[4]>=r)return NaN;const y=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(y-s)>=s?NaN:Vt.foundPatternCross(u)?Vt.centerFromEnd(u,x):NaN}handlePossibleCenter(t,i,r,s){const l=t[0]+t[1]+t[2]+t[3]+t[4];let c=Vt.centerFromEnd(t,r),u=this.crossCheckVertical(i,Math.floor(c),t[2],l);if(!isNaN(u)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(u),t[2],l),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(c),t[2],l)))){const x=l/7;let y=!1;const E=this.possibleCenters;for(let N=0,_=E.length;N<_;N++){const D=E[N];if(D.aboutEquals(x,u,c)){E[N]=D.combineEstimate(u,c,x),y=!0;break}}if(!y){const N=new ma(c,u,x);E.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=Vt.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Vt.CENTER_QUORUM&&(t++,i+=c.getEstimatedModuleSize());if(t<3)return!1;const s=i/r;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-s);return l<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new J;const i=this.possibleCenters;let r;if(t>3){let s=0,l=0;for(const x of this.possibleCenters){const y=x.getEstimatedModuleSize();s+=y,l+=y*y}r=s/t;let c=Math.sqrt(l/t-r*r);i.sort((x,y)=>{const E=Math.abs(y.getEstimatedModuleSize()-r),N=Math.abs(x.getEstimatedModuleSize()-r);return E<N?-1:E>N?1:0});const u=Math.max(.2*r,c);for(let x=0;x<i.length&&i.length>3;x++){const y=i[x];Math.abs(y.getEstimatedModuleSize()-r)>u&&(i.splice(x,1),x--)}}if(i.length>3){let s=0;for(const l of i)s+=l.getEstimatedModuleSize();r=s/i.length,i.sort((l,c)=>{if(c.getCount()===l.getCount()){const u=Math.abs(c.getEstimatedModuleSize()-r),x=Math.abs(l.getEstimatedModuleSize()-r);return u<x?1:u>x?-1:0}else return c.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Vt.CENTER_QUORUM=2,Vt.MIN_SKIP=3,Vt.MAX_MODULES=57;class bi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ae.NEED_RESULT_POINT_CALLBACK);const r=new Vt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),s=t.getBottomLeft(),l=this.calculateModuleSize(i,r,s);if(l<1)throw new J("No pattern found in proccess finder.");const c=bi.computeDimension(i,r,s,l),u=Be.getProvisionalVersionForDimension(c),x=u.getDimensionForVersion()-7;let y=null;if(u.getAlignmentPatternCenters().length>0){const D=r.getX()-i.getX()+s.getX(),U=r.getY()-i.getY()+s.getY(),F=1-3/x,V=Math.floor(i.getX()+F*(D-i.getX())),K=Math.floor(i.getY()+F*(U-i.getY()));for(let ye=4;ye<=16;ye<<=1)try{y=this.findAlignmentInRegion(l,V,K,ye);break}catch(pe){if(!(pe instanceof J))throw pe}}const E=bi.createTransform(i,r,s,y,c),N=bi.sampleGrid(this.image,E,c);let _;return y===null?_=[s,i,r]:_=[s,i,r,y],new Pa(N,_)}static createTransform(t,i,r,s,l){const c=l-3.5;let u,x,y,E;return s!==null?(u=s.getX(),x=s.getY(),y=c-3,E=y):(u=i.getX()-t.getX()+r.getX(),x=i.getY()-t.getY()+r.getY(),y=c,E=c),Gn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,y,E,3.5,c,t.getX(),t.getY(),i.getX(),i.getY(),u,x,r.getX(),r.getY())}static sampleGrid(t,i,r){return ni.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,s){const l=ot.round(De.distance(t,i)/s),c=ot.round(De.distance(t,r)/s);let u=Math.floor((l+c)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new J("Dimensions could be not found.")}return u}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,s){let l=this.sizeOfBlackWhiteBlackRun(t,i,r,s),c=1,u=t-(r-t);u<0?(c=t/(t-u),u=0):u>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let x=Math.floor(i-(s-i)*c);return c=1,x<0?(c=i/(i-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),u=Math.floor(t+(u-t)*c),l+=this.sizeOfBlackWhiteBlackRun(t,i,u,x),l-1}sizeOfBlackWhiteBlackRun(t,i,r,s){const l=Math.abs(s-i)>Math.abs(r-t);if(l){let D=t;t=i,i=D,D=r,r=s,s=D}const c=Math.abs(r-t),u=Math.abs(s-i);let x=-c/2;const y=t<r?1:-1,E=i<s?1:-1;let N=0;const _=r+y;for(let D=t,U=i;D!==_;D+=y){const F=l?U:D,V=l?D:U;if(N===1===this.image.get(F,V)){if(N===2)return ot.distance(D,U,t,i);N++}if(x+=u,x>0){if(U===s)break;U+=E,x-=c}}return N===2?ot.distance(r+y,s,t,i):NaN}findAlignmentInRegion(t,i,r,s){const l=Math.floor(s*t),c=Math.max(0,i-l),u=Math.min(this.image.getWidth()-1,i+l);if(u-c<t*3)throw new J("Alignment top exceeds estimated module size.");const x=Math.max(0,r-l),y=Math.min(this.image.getHeight()-1,r+l);if(y-x<t*3)throw new J("Alignment bottom exceeds estimated module size.");return new Yn(this.image,c,x,u-c,y-x,t,this.resultPointCallback).find()}}class Mi{constructor(){this.decoder=new Sc}getDecoder(){return this.decoder}decode(t,i){let r,s;if(i!=null&&i.get(Ae.PURE_BARCODE)!==void 0){const x=Mi.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,i),s=Mi.NO_POINTS}else{const x=new bi(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(x.getBits(),i),s=x.getPoints()}r.getOther()instanceof Hl&&r.getOther().applyMirroredCorrection(s);const l=new Ce(r.getText(),r.getRawBytes(),void 0,s,le.QR_CODE,void 0),c=r.getByteSegments();c!==null&&l.putMetadata(qe.BYTE_SEGMENTS,c);const u=r.getECLevel();return u!==null&&l.putMetadata(qe.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(l.putMetadata(qe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),l.putMetadata(qe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new J;const s=this.moduleSize(i,t);let l=i[1],c=r[1],u=i[0],x=r[0];if(u>=x||l>=c)throw new J;if(c-l!==x-u&&(x=u+(c-l),x>=t.getWidth()))throw new J;const y=Math.round((x-u+1)/s),E=Math.round((c-l+1)/s);if(y<=0||E<=0)throw new J;if(E!==y)throw new J;const N=Math.floor(s/2);l+=N,u+=N;const _=u+Math.floor((y-1)*s)-x;if(_>0){if(_>N)throw new J;u-=_}const D=l+Math.floor((E-1)*s)-c;if(D>0){if(D>N)throw new J;l-=D}const U=new Ve(y,E);for(let F=0;F<E;F++){const V=l+Math.floor(F*s);for(let K=0;K<y;K++)t.get(u+Math.floor(K*s),V)&&U.set(K,F)}return U}static moduleSize(t,i){const r=i.getHeight(),s=i.getWidth();let l=t[0],c=t[1],u=!0,x=0;for(;l<s&&c<r;){if(u!==i.get(l,c)){if(++x===5)break;u=!u}l++,c++}if(l===s||c===r)throw new J;return(l-t[0])/7}}Mi.NO_POINTS=new Array;class He{PDF417Common(){}static getBitCountSum(t){return ot.sum(t)}static toIntArray(t){if(t==null||!t.length)return He.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const s of t)i[r++]=s;return i}static getCodeword(t){const i=_e.binarySearch(He.SYMBOL_TABLE,t&262143);return i<0?-1:(He.CODEWORD_TABLE[i]-1)%He.NUMBER_OF_CODEWORDS}}He.NUMBER_OF_CODEWORDS=929,He.MAX_CODEWORDS_IN_BARCODE=He.NUMBER_OF_CODEWORDS-1,He.MIN_ROWS_IN_BARCODE=3,He.MAX_ROWS_IN_BARCODE=90,He.MODULES_IN_CODEWORD=17,He.MODULES_IN_STOP_PATTERN=18,He.BARS_IN_MODULE=8,He.EMPTY_INT_ARRAY=new Int32Array([]),He.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),He.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Pl{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(t,i,r){let s=t.getBlackMatrix(),l=Ze.detect(r,s);return l.length||(s=s.clone(),s.rotate180(),l=Ze.detect(r,s)),new Pl(s,l)}static detect(t,i){const r=new Array;let s=0,l=0,c=!1;for(;s<i.getHeight();){const u=Ze.findVertices(i,s,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;for(const x of r)x[1]!=null&&(s=Math.trunc(Math.max(s,x[1].getY()))),x[3]!=null&&(s=Math.max(s,Math.trunc(x[3].getY())));s+=Ze.ROW_STEP;continue}if(c=!0,r.push(u),!t)break;u[2]!=null?(l=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(t,i,r){const s=t.getHeight(),l=t.getWidth(),c=new Array(8);return Ze.copyToResult(c,Ze.findRowsWithPattern(t,s,l,i,r,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),c[4]!=null&&(r=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY())),Ze.copyToResult(c,Ze.findRowsWithPattern(t,s,l,i,r,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),c}static copyToResult(t,i,r){for(let s=0;s<r.length;s++)t[r[s]]=i[s]}static findRowsWithPattern(t,i,r,s,l,c){const u=new Array(4);let x=!1;const y=new Int32Array(c.length);for(;s<i;s+=Ze.ROW_STEP){let N=Ze.findGuardPattern(t,l,s,r,!1,c,y);if(N!=null){for(;s>0;){const _=Ze.findGuardPattern(t,l,--s,r,!1,c,y);if(_!=null)N=_;else{s++;break}}u[0]=new De(N[0],s),u[1]=new De(N[1],s),x=!0;break}}let E=s+1;if(x){let N=0,_=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;E<i;E++){const D=Ze.findGuardPattern(t,_[0],E,r,!1,c,y);if(D!=null&&Math.abs(_[0]-D[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(_[1]-D[1])<Ze.MAX_PATTERN_DRIFT)_=D,N=0;else{if(N>Ze.SKIPPED_ROW_COUNT_MAX)break;N++}}E-=N+1,u[2]=new De(_[0],E),u[3]=new De(_[1],E)}return E-s<Ze.BARCODE_MIN_HEIGHT&&_e.fill(u,null),u}static findGuardPattern(t,i,r,s,l,c,u){_e.fillWithin(u,0,u.length,0);let x=i,y=0;for(;t.get(x,r)&&x>0&&y++<Ze.MAX_PIXEL_DRIFT;)x--;let E=x,N=0,_=c.length;for(let D=l;E<s;E++)if(t.get(E,r)!==D)u[N]++;else{if(N===_-1){if(Ze.patternMatchVariance(u,c,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([x,E]);x+=u[0]+u[1],Z.arraycopy(u,2,u,0,N-1),u[N-1]=0,u[N]=0,N--}else N++;u[N]=1,D=!D}return N===_-1&&Ze.patternMatchVariance(u,c,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([x,E-1]):null}static patternMatchVariance(t,i,r){let s=t.length,l=0,c=0;for(let y=0;y<s;y++)l+=t[y],c+=i[y];if(l<c)return 1/0;let u=l/c;r*=u;let x=0;for(let y=0;y<s;y++){let E=t[y],N=i[y]*u,_=E>N?E-N:N-E;if(_>r)return 1/0;x+=_}return x/l}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class kt{constructor(t,i){if(i.length===0)throw new L;this.field=t;let r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),Z.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let i=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)i=this.field.add(this.field.multiply(t,i),this.coefficients[s]);return i}add(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let c=i;i=r,r=c}let s=new Int32Array(r.length),l=r.length-i.length;Z.arraycopy(r,0,s,0,l);for(let c=l;c<r.length;c++)s[c]=this.field.add(i[c-l],r[c]);return new kt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof kt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new kt(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,s=t.coefficients,l=s.length,c=new Int32Array(r+l-1);for(let u=0;u<r;u++){let x=i[u];for(let y=0;y<l;y++)c[u+y]=this.field.add(c[u+y],this.field.multiply(x,s[y]))}return new kt(this.field,c)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new kt(this.field,i)}multiplyScalar(t){if(t===0)return new kt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let s=0;s<i;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new kt(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new L;if(i===0)return new kt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+t);for(let l=0;l<r;l++)s[l]=this.field.multiply(this.coefficients[l],i);return new kt(this.field,s)}toString(){let t=new Ge;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class zs{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new L;return this.logTable[t]}inverse(t){if(t===0)throw new er;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class nr extends zs{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let s=0;s<t;s++)this.expTable[s]=r,r=r*i%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new kt(this,new Int32Array([0])),this.one=new kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new L;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new kt(this,r)}}nr.PDF417_GF=new nr(He.NUMBER_OF_CODEWORDS,3);class Bi{constructor(){this.field=nr.PDF417_GF}decode(t,i,r){let s=new kt(this.field,t),l=new Int32Array(i),c=!1;for(let U=i;U>0;U--){let F=s.evaluateAt(this.field.exp(U));l[i-U]=F,F!==0&&(c=!0)}if(!c)return 0;let u=this.field.getOne();if(r!=null)for(const U of r){let F=this.field.exp(t.length-1-U),V=new kt(this.field,new Int32Array([this.field.subtract(0,F),1]));u=u.multiply(V)}let x=new kt(this.field,l),y=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),E=y[0],N=y[1],_=this.findErrorLocations(E),D=this.findErrorMagnitudes(N,E,_);for(let U=0;U<_.length;U++){let F=t.length-1-this.field.log(_[U]);if(F<0)throw ue.getChecksumInstance();t[F]=this.field.subtract(t[F],D[U])}return _.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let _=t;t=i,i=_}let s=t,l=i,c=this.field.getZero(),u=this.field.getOne();for(;l.getDegree()>=Math.round(r/2);){let _=s,D=c;if(s=l,c=u,s.isZero())throw ue.getChecksumInstance();l=_;let U=this.field.getZero(),F=s.getCoefficient(s.getDegree()),V=this.field.inverse(F);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let K=l.getDegree()-s.getDegree(),ye=this.field.multiply(l.getCoefficient(l.getDegree()),V);U=U.add(this.field.buildMonomial(K,ye)),l=l.subtract(s.multiplyByMonomial(K,ye))}u=U.multiply(c).subtract(D).negative()}let x=u.getCoefficient(0);if(x===0)throw ue.getChecksumInstance();let y=this.field.inverse(x),E=u.multiply(y),N=l.multiply(y);return[E,N]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),s=0;for(let l=1;l<this.field.getSize()&&s<i;l++)t.evaluateAt(l)===0&&(r[s]=this.field.inverse(l),s++);if(s!==i)throw ue.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let s=i.getDegree(),l=new Int32Array(s);for(let y=1;y<=s;y++)l[s-y]=this.field.multiply(y,i.getCoefficient(y));let c=new kt(this.field,l),u=r.length,x=new Int32Array(u);for(let y=0;y<u;y++){let E=this.field.inverse(r[y]),N=this.field.subtract(0,t.evaluateAt(E)),_=this.field.inverse(c.evaluateAt(E));x[y]=this.field.multiply(N,_)}return x}}class Li{constructor(t,i,r,s,l){t instanceof Li?this.constructor_2(t):this.constructor_1(t,i,r,s,l)}constructor_1(t,i,r,s,l){const c=i==null||r==null,u=s==null||l==null;if(c&&u)throw new J;c?(i=new De(0,s.getY()),r=new De(0,l.getY())):u&&(s=new De(t.getWidth()-1,i.getY()),l=new De(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Li(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let s=this.topLeft,l=this.bottomLeft,c=this.topRight,u=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,y=Math.trunc(x.getY()-t);y<0&&(y=0);let E=new De(x.getX(),y);r?s=E:c=E}if(i>0){let x=r?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+i);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let E=new De(x.getX(),y);r?l=E:u=E}return new Li(this.image,s,l,c,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qa{constructor(t,i,r,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Lr{constructor(){this.buffer=""}static form(t,i){let r=-1;function s(c,u,x,y,E,N){if(c==="%%")return"%";if(i[++r]===void 0)return;c=y?parseInt(y.substr(1)):void 0;let _=E?parseInt(E.substr(1)):void 0,D;switch(N){case"s":D=i[r];break;case"c":D=i[r][0];break;case"f":D=parseFloat(i[r]).toFixed(c);break;case"p":D=parseFloat(i[r]).toPrecision(c);break;case"e":D=parseFloat(i[r]).toExponential(c);break;case"x":D=parseInt(i[r]).toString(_||16);break;case"d":D=parseFloat(parseInt(i[r],_||10).toPrecision(c)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(_);let U=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;D.length<U;)D=u!==void 0?D+F:F+D;return D}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}format(t,...i){this.buffer+=Lr.form(t,i)}toString(){return this.buffer}}class Gi{constructor(t){this.boundingBox=new Li(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<Gi.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(t)-r;if(s>=0&&(i=this.codewords[s],i!=null)||(s=this.imageRowToCodewordIndex(t)+r,s<this.codewords.length&&(i=this.codewords[s],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Lr;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}Gi.MAX_NEARBY_DISTANCE=5;class Xi{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,s]of this.values.entries()){const l={getKey:()=>r,getValue:()=>s};l.getValue()>t?(t=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===t&&i.push(l.getKey())}return He.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Hs extends Gi{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),x=-1,y=1,E=0;for(let N=c;N<u;N++){if(i[N]==null)continue;let _=i[N],D=_.getRowNumber()-x;if(D===0)E++;else if(D===1)y=Math.max(y,E),E=1,x=_.getRowNumber();else if(D<0||_.getRowNumber()>=t.getRowCount()||D>N)i[N]=null;else{let U;y>2?U=(y-2)*D:U=D;let F=U>=N;for(let V=1;V<=U&&!F;V++)F=i[N-V]!=null;F?i[N]=null:(x=_.getRowNumber(),E=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=i.length)continue;i[s]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),x=-1;for(let y=l;y<c;y++){if(u[y]==null)continue;let E=u[y];E.setRowNumberAsRowIndicatorColumn();let N=E.getRowNumber()-x;N===0||(N===1?x=E.getRowNumber():E.getRowNumber()>=t.getRowCount()?u[y]=null:x=E.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new Xi,r=new Xi,s=new Xi,l=new Xi;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let x=u.getValue()%30,y=u.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:r.setValue(x*3+1);break;case 1:l.setValue(x/3),s.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||r.getValue().length===0||s.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<He.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>He.MAX_ROWS_IN_BARCODE)return null;let c=new qa(i.getValue()[0],r.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let s=t[r];if(t[r]==null)continue;let l=s.getValue()%30,c=s.getRowNumber();if(c>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:l+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class gn{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=He.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(i,s,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[r];l!=null&&(l.setRowNumber(t[r].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(l=gn.adjustRowNumberIfValid(s,l,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(l=gn.adjustRowNumberIfValid(s,l,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let s=r[i],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=l[i],u[3]=c[i],i>0&&(u[0]=r[i-1],u[4]=l[i-1],u[5]=c[i-1]),i>1&&(u[8]=r[i-2],u[10]=l[i-2],u[11]=c[i-2]),i<r.length-1&&(u[1]=r[i+1],u[6]=l[i+1],u[7]=c[i+1]),i<r.length-2&&(u[9]=r[i+2],u[12]=l[i+2],u[13]=c[i+2]);for(let x of u)if(gn.adjustRowNumber(s,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Lr;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[r];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class si{constructor(t,i,r,s){this.rowNumber=si.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==si.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}si.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let t=0;t<He.SYMBOL_TABLE.length;t++){let i=He.SYMBOL_TABLE[t],r=i&1;for(let s=0;s<He.BARS_IN_MODULE;s++){let l=0;for(;(i&1)===r;)l+=1,i>>=1;r=i&1,An.RATIOS_TABLE[t]||(An.RATIOS_TABLE[t]=new Array(He.BARS_IN_MODULE)),An.RATIOS_TABLE[t][He.BARS_IN_MODULE-s-1]=Math.fround(l/He.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=An.getDecodedCodewordValue(An.sampleBitCounts(t));return i!==-1?i:An.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=ot.sum(t),r=new Int32Array(He.BARS_IN_MODULE),s=0,l=0;for(let c=0;c<He.MODULES_IN_CODEWORD;c++){let u=i/(2*He.MODULES_IN_CODEWORD)+c*i/He.MODULES_IN_CODEWORD;l+t[s]<=u&&(l+=t[s],s++),r[s]++}return r}static getDecodedCodewordValue(t){let i=An.getBitValue(t);return He.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let s=0;s<t[r];s++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=ot.sum(t),r=new Array(He.BARS_IN_MODULE);if(i>1)for(let c=0;c<r.length;c++)r[c]=Math.fround(t[c]/i);let s=Tr.MAX_VALUE,l=-1;this.bSymbolTableReady||An.initialize();for(let c=0;c<An.RATIOS_TABLE.length;c++){let u=0,x=An.RATIOS_TABLE[c];for(let y=0;y<He.BARS_IN_MODULE;y++){let E=Math.fround(x[y]-r[y]);if(u+=Math.fround(E*E),u>=s)break}u<s&&(s=u,l=He.SYMBOL_TABLE[c])}return l}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(He.SYMBOL_TABLE.length).map(v=>new Array(He.BARS_IN_MODULE));class jr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Vl{static parseLong(t,i=void 0){return parseInt(t,i)}}class Za extends S{}Za.kind="NullPointerException";class Ps{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new Za;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new fe;if(r===0)return;for(let s=0;s<r;s++)this.write(t[i+s])}flush(){}close(){}}class pa extends S{}class Qa extends Ps{constructor(t=32){if(super(),this.count=0,t<0)throw new L("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new pa;r=ce.MAX_VALUE}this.buf=_e.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new fe;this.ensureCapacity(this.count+r),Z.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _e.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ct;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Gl(){if(typeof window<"u")return window.BigInt||null;if(typeof nc<"u")return nc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ka;function Yi(v){if(typeof Ka>"u"&&(Ka=Gl()),Ka===null)throw new Error("BigInt is not supported!");return Ka(v)}function Vs(){let v=[];v[0]=Yi(1);let t=Yi(900);v[1]=t;for(let i=2;i<16;i++)v[i]=v[i-1]*t;return v}class W{static decode(t,i){let r=new Ge(""),s=ie.ISO8859_1;r.enableDecoding(s);let l=1,c=t[l++],u=new jr;for(;l<t[0];){switch(c){case W.TEXT_COMPACTION_MODE_LATCH:l=W.textCompaction(t,l,r);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:l=W.byteCompaction(c,t,s,l,r);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[l++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:l=W.numericCompaction(t,l,r);break;case W.ECI_CHARSET:ie.getCharacterSetECIByValue(t[l++]);break;case W.ECI_GENERAL_PURPOSE:l+=2;break;case W.ECI_USER_DEFINED:l++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=W.decodeMacroBlock(t,l,u);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new ee;default:l--,l=W.textCompaction(t,l,r);break}if(l<t.length)c=t[l++];else throw ee.getFormatInstance()}if(r.length()===0)throw ee.getFormatInstance();let x=new Ye(null,r.toString(),null,i);return x.setOther(u),x}static decodeMacroBlock(t,i,r){if(i+W.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ee.getFormatInstance();let s=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<W.NUMBER_OF_SEQUENCE_CODEWORDS;u++,i++)s[u]=t[i];r.setSegmentIndex(ce.parseInt(W.decodeBase900toBase10(s,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ge;i=W.textCompaction(t,i,l),r.setFileId(l.toString());let c=-1;for(t[i]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=i+1);i<t[0];)switch(t[i]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ge;i=W.textCompaction(t,i+1,u),r.setFileName(u.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Ge;i=W.textCompaction(t,i+1,x),r.setSender(x.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Ge;i=W.textCompaction(t,i+1,y),r.setAddressee(y.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Ge;i=W.numericCompaction(t,i+1,E),r.setSegmentCount(ce.parseInt(E.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Ge;i=W.numericCompaction(t,i+1,N),r.setTimestamp(Vl.parseLong(N.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _=new Ge;i=W.numericCompaction(t,i+1,_),r.setChecksum(ce.parseInt(_.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new Ge;i=W.numericCompaction(t,i+1,D),r.setFileSize(Vl.parseLong(D.toString()));break;default:throw ee.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw ee.getFormatInstance()}if(c!==-1){let u=i-c;r.isLastSegment()&&u--,r.setOptionalData(_e.copyOfRange(t,c,c+u))}return i}static textCompaction(t,i,r){let s=new Int32Array((t[0]-i)*2),l=new Int32Array((t[0]-i)*2),c=0,u=!1;for(;i<t[0]&&!u;){let x=t[i++];if(x<W.TEXT_COMPACTION_MODE_LATCH)s[c]=x/30,s[c+1]=x%30,c+=2;else switch(x){case W.TEXT_COMPACTION_MODE_LATCH:s[c++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:i--,u=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],l[c]=x,c++;break}}return W.decodeTextCompaction(s,l,c,r),i}static decodeTextCompaction(t,i,r,s){let l=Ct.ALPHA,c=Ct.ALPHA,u=0;for(;u<r;){let x=t[u],y="";switch(l){case Ct.ALPHA:if(x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case W.LL:l=Ct.LOWER;break;case W.ML:l=Ct.MIXED;break;case W.PS:c=l,l=Ct.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ct.ALPHA;break}break;case Ct.LOWER:if(x<26)y=String.fromCharCode(97+x);else switch(x){case 26:y=" ";break;case W.AS:c=l,l=Ct.ALPHA_SHIFT;break;case W.ML:l=Ct.MIXED;break;case W.PS:c=l,l=Ct.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ct.ALPHA;break}break;case Ct.MIXED:if(x<W.PL)y=W.MIXED_CHARS[x];else switch(x){case W.PL:l=Ct.PUNCT;break;case 26:y=" ";break;case W.LL:l=Ct.LOWER;break;case W.AL:l=Ct.ALPHA;break;case W.PS:c=l,l=Ct.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ct.ALPHA;break}break;case Ct.PUNCT:if(x<W.PAL)y=W.PUNCT_CHARS[x];else switch(x){case W.PAL:l=Ct.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(l=c,x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(l=c,x<W.PAL)y=W.PUNCT_CHARS[x];else switch(x){case W.PAL:l=Ct.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[u]);break;case W.TEXT_COMPACTION_MODE_LATCH:l=Ct.ALPHA;break}break}y!==""&&s.append(y),u++}}static byteCompaction(t,i,r,s,l){let c=new Qa,u=0,x=0,y=!1;switch(t){case W.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),N=i[s++];for(;s<i[0]&&!y;)switch(E[u++]=N,x=900*x+N,N=i[s++],N){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:s--,y=!0;break;default:if(u%5===0&&u>0){for(let _=0;_<6;++_)c.write(Number(Yi(x)>>Yi(8*(5-_))));x=0,u=0}break}s===i[0]&&N<W.TEXT_COMPACTION_MODE_LATCH&&(E[u++]=N);for(let _=0;_<u;_++)c.write(E[_]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;s<i[0]&&!y;){let _=i[s++];if(_<W.TEXT_COMPACTION_MODE_LATCH)u++,x=900*x+_;else switch(_){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:s--,y=!0;break}if(u%5===0&&u>0){for(let D=0;D<6;++D)c.write(Number(Yi(x)>>Yi(8*(5-D))));x=0,u=0}}break}return l.append($e.decode(c.toByteArray(),r)),s}static numericCompaction(t,i,r){let s=0,l=!1,c=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!l;){let u=t[i++];if(i===t[0]&&(l=!0),u<W.TEXT_COMPACTION_MODE_LATCH)c[s]=u,s++;else switch(u){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(s%W.MAX_NUMERIC_CODEWORDS===0||u===W.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(r.append(W.decodeBase900toBase10(c,s)),s=0)}return i}static decodeBase900toBase10(t,i){let r=Yi(0);for(let l=0;l<i;l++)r+=W.EXP900[i-l-1]*Yi(t[l]);let s=r.toString();if(s.charAt(0)!=="1")throw new ee;return s.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=Gl()?Vs():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class tt{constructor(){}static decode(t,i,r,s,l,c,u){let x=new Li(t,i,r,s,l),y=null,E=null,N;for(let U=!0;;U=!1){if(i!=null&&(y=tt.getRowIndicatorColumn(t,x,i,!0,c,u)),s!=null&&(E=tt.getRowIndicatorColumn(t,x,s,!1,c,u)),N=tt.merge(y,E),N==null)throw J.getNotFoundInstance();let F=N.getBoundingBox();if(U&&F!=null&&(F.getMinY()<x.getMinY()||F.getMaxY()>x.getMaxY()))x=F;else break}N.setBoundingBox(x);let _=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,y),N.setDetectionResultColumn(_,E);let D=y!=null;for(let U=1;U<=_;U++){let F=D?U:_-U;if(N.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===_?V=new Hs(x,F===0):V=new Gi(x),N.setDetectionResultColumn(F,V);let K=-1,ye=K;for(let pe=x.getMinY();pe<=x.getMaxY();pe++){if(K=tt.getStartColumn(N,F,pe,D),K<0||K>x.getMaxX()){if(ye===-1)continue;K=ye}let me=tt.detectCodeword(t,x.getMinX(),x.getMaxX(),D,K,pe,c,u);me!=null&&(V.setCodeword(pe,me),ye=K,c=Math.min(c,me.getWidth()),u=Math.max(u,me.getWidth()))}}return tt.createDecoderResult(N)}static merge(t,i){if(t==null&&i==null)return null;let r=tt.getBarcodeMetadata(t,i);if(r==null)return null;let s=Li.merge(tt.adjustBoundingBox(t),tt.adjustBoundingBox(i));return new gn(r,s)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=tt.getMax(i),s=0;for(let u of i)if(s+=r-u,u>0)break;let l=t.getCodewords();for(let u=0;s>0&&l[u]==null;u++)s--;let c=0;for(let u=i.length-1;u>=0&&(c+=r-i[u],!(i[u]>0));u--);for(let u=l.length-1;c>0&&l[u]==null;u--)c--;return t.getBoundingBox().addMissingRows(s,c,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let s;return i==null||(s=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,s,l,c){let u=new Hs(i,s);for(let x=0;x<2;x++){let y=x===0?1:-1,E=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=y){let _=tt.detectCodeword(t,0,t.getWidth(),s,E,N,l,c);_!=null&&(u.setCodeword(N,_),s?E=_.getStartX():E=_.getEndX())}}return u}static adjustCodewordCount(t,i){let r=i[0][1],s=r.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-tt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(l<1||l>He.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();r.setValue(l)}else s[0]!==l&&r.setValue(l)}static createDecoderResult(t){let i=tt.createBarcodeMatrix(t);tt.adjustCodewordCount(t,i);let r=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let y=0;y<t.getBarcodeColumnCount();y++){let E=i[x][y+1].getValue(),N=x*t.getBarcodeColumnCount()+y;E.length===0?r.push(N):E.length===1?s[N]=E[0]:(c.push(N),l.push(E))}let u=new Array(l.length);for(let x=0;x<u.length;x++)u[x]=l[x];return tt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,He.toIntArray(r),He.toIntArray(c),u)}static createDecoderResultFromAmbiguousValues(t,i,r,s,l){let c=new Int32Array(s.length),u=100;for(;u-- >0;){for(let x=0;x<c.length;x++)i[s[x]]=l[x][c[x]];try{return tt.decodeCodewords(i,t,r)}catch(x){if(!(x instanceof ue))throw x}if(c.length===0)throw ue.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<l[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw ue.getChecksumInstance()}throw ue.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<i.length;s++)for(let l=0;l<i[s].length;l++)i[s][l]=new Xi;let r=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=i.length)continue;i[c][r].setValue(l.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,s){let l=s?1:-1,c=null;if(tt.isValidBarcodeColumn(t,i-l)&&(c=t.getDetectionResultColumn(i-l).getCodeword(r)),c!=null)return s?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(i).getCodewordNearby(r),c!=null)return s?c.getStartX():c.getEndX();if(tt.isValidBarcodeColumn(t,i-l)&&(c=t.getDetectionResultColumn(i-l).getCodewordNearby(r)),c!=null)return s?c.getEndX():c.getStartX();let u=0;for(;tt.isValidBarcodeColumn(t,i-l);){i-=l;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(s?x.getEndX():x.getStartX())+l*u*(x.getEndX()-x.getStartX());u++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,s,l,c,u,x){l=tt.adjustCodewordStartColumn(t,i,r,s,l,c);let y=tt.getModuleBitCount(t,i,r,s,l,c);if(y==null)return null;let E,N=ot.sum(y);if(s)E=l+N;else{for(let U=0;U<y.length/2;U++){let F=y[U];y[U]=y[y.length-1-U],y[y.length-1-U]=F}E=l,l=E-N}if(!tt.checkCodewordSkew(N,u,x))return null;let _=An.getDecodedValue(y),D=He.getCodeword(_);return D===-1?null:new si(l,E,tt.getCodewordBucketNumber(_),D)}static getModuleBitCount(t,i,r,s,l,c){let u=l,x=new Int32Array(8),y=0,E=s?1:-1,N=s;for(;(s?u<r:u>=i)&&y<x.length;)t.get(u,c)===N?(x[y]++,u+=E):(y++,N=!N);return y===x.length||u===(s?r:i)&&y===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,s,l,c){let u=l,x=s?-1:1;for(let y=0;y<2;y++){for(;(s?u>=i:u<r)&&s===t.get(u,c);){if(Math.abs(l-u)>tt.CODEWORD_SKEW_SIZE)return l;u+=x}x=-x,s=!s}return u}static checkCodewordSkew(t,i,r){return i-tt.CODEWORD_SKEW_SIZE<=t&&t<=r+tt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw ee.getFormatInstance();let s=1<<i+1,l=tt.correctErrors(t,r,s);tt.verifyCodewordCount(t,s);let c=W.decode(t,""+i);return c.setErrorsCorrected(l),c.setErasures(r.length),c}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+tt.MAX_ERRORS||r<0||r>tt.MAX_EC_CODEWORDS)throw ue.getChecksumInstance();return tt.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw ee.getFormatInstance();let r=t[0];if(r>t.length)throw ee.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw ee.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,s=i.length-1;for(;!((t&1)!==r&&(r=t&1,s--,s<0));)i[s]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return tt.getCodewordBucketNumber(tt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Lr;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let s=0;s<t[r].length;s++){let l=t[r][s];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}tt.CODEWORD_SKEW_SIZE=2,tt.MAX_ERRORS=3,tt.MAX_EC_CODEWORDS=512,tt.errorCorrection=new Bi;class En{decode(t,i=null){let r=En.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw J.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return En.decode(t,i,!0)}catch(r){throw r instanceof ee||r instanceof ue?J.getNotFoundInstance():r}}static decode(t,i,r){const s=new Array,l=Ze.detectMultiple(t,i,r);for(const c of l.getPoints()){const u=tt.decode(l.getBits(),c[4],c[5],c[6],c[7],En.getMinCodewordWidth(c),En.getMaxCodewordWidth(c)),x=new Ce(u.getText(),u.getRawBytes(),void 0,c,le.PDF_417);x.putMetadata(qe.ERROR_CORRECTION_LEVEL,u.getECLevel());const y=u.getOther();y!=null&&x.putMetadata(qe.PDF417_EXTRA_METADATA,y),s.push(x)}return s.map(c=>c)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?ce.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(En.getMaxWidth(t[0],t[4]),En.getMaxWidth(t[6],t[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.max(En.getMaxWidth(t[1],t[5]),En.getMaxWidth(t[7],t[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(En.getMinWidth(t[0],t[4]),En.getMinWidth(t[6],t[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.min(En.getMinWidth(t[1],t[5]),En.getMinWidth(t[7],t[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}reset(){}}class Wa extends S{}Wa.kind="ReaderException";class Xl{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!p(t)&&t.get(Ae.TRY_HARDER)===!0,r=p(t)?null:t.get(Ae.POSSIBLE_FORMATS),s=new Array;if(!p(r)){const l=r.some(c=>c===le.UPC_A||c===le.UPC_E||c===le.EAN_13||c===le.EAN_8||c===le.CODABAR||c===le.CODE_39||c===le.CODE_93||c===le.CODE_128||c===le.ITF||c===le.RSS_14||c===le.RSS_EXPANDED);l&&!i&&s.push(new ri(t,this.verbose)),r.includes(le.QR_CODE)&&s.push(new Mi),r.includes(le.DATA_MATRIX)&&s.push(new Ii),r.includes(le.AZTEC)&&s.push(new Va),r.includes(le.PDF_417)&&s.push(new En),l&&i&&s.push(new ri(t,this.verbose))}s.length===0&&(i||s.push(new ri(t,this.verbose)),s.push(new Mi),s.push(new Ii),s.push(new Va),s.push(new En),i&&s.push(new ri(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Wa("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof Wa)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class Yl extends be{constructor(t=null,i=500){const r=new Xl;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class vc extends be{constructor(t=500){super(new En,t)}}class Nc extends be{constructor(t=500){super(new Mi,t)}}var Gs;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(Gs||(Gs={}));var on=Gs;class ya{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new st(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const s=this.field;for(let l=i.length;l<=t;l++){const c=r.multiply(new st(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));i.push(c),r=c}}return i[t]}encode(t,i){if(i===0)throw new L("No error correction bytes");const r=t.length-i;if(r<=0)throw new L("No data bytes provided");const s=this.buildGenerator(i),l=new Int32Array(r);Z.arraycopy(t,0,l,0,r);let c=new st(this.field,l);c=c.multiplyByMonomial(i,1);const x=c.divide(s)[1].getCoefficients(),y=i-x.length;for(let E=0;E<y;E++)t[r+E]=0;Z.arraycopy(x,0,t,r+y,x.length)}}class Qt{constructor(){}static applyMaskPenaltyRule1(t){return Qt.applyMaskPenaltyRule1Internal(t,!0)+Qt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l-1;c++){const u=r[c];for(let x=0;x<s-1;x++){const y=u[x];y===u[x+1]&&y===r[c+1][x]&&y===r[c+1][x+1]&&i++}}return Qt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let c=0;c<l;c++)for(let u=0;u<s;u++){const x=r[c];u+6<s&&x[u]===1&&x[u+1]===0&&x[u+2]===1&&x[u+3]===1&&x[u+4]===1&&x[u+5]===0&&x[u+6]===1&&(Qt.isWhiteHorizontal(x,u-4,u)||Qt.isWhiteHorizontal(x,u+7,u+11))&&i++,c+6<l&&r[c][u]===1&&r[c+1][u]===0&&r[c+2][u]===1&&r[c+3][u]===1&&r[c+4][u]===1&&r[c+5][u]===0&&r[c+6][u]===1&&(Qt.isWhiteVertical(r,u,c-4,c)||Qt.isWhiteVertical(r,u,c+7,c+11))&&i++}return i*Qt.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let s=i;s<r;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,i,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let l=r;l<s;l++)if(t[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let x=0;x<l;x++){const y=r[x];for(let E=0;E<s;E++)y[E]===1&&i++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-c)*10/c)*Qt.N4}static getDataMaskBit(t,i,r){let s,l;switch(t){case 0:s=r+i&1;break;case 1:s=r&1;break;case 2:s=i%3;break;case 3:s=(r+i)%3;break;case 4:s=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:l=r*i,s=(l&1)+l%3;break;case 6:l=r*i,s=(l&1)+l%3&1;break;case 7:l=r*i,s=l%3+(r+i&1)&1;break;default:throw new L("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const s=i?t.getHeight():t.getWidth(),l=i?t.getWidth():t.getHeight(),c=t.getArray();for(let u=0;u<s;u++){let x=0,y=-1;for(let E=0;E<l;E++){const N=i?c[u][E]:c[E][u];N===y?x++:(x>=5&&(r+=Qt.N1+(x-5)),x=1,y=N)}x>=5&&(r+=Qt.N1+(x-5))}return r}}Qt.N1=3,Qt.N2=3,Qt.N3=40,Qt.N4=10;class Ja{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let s=0;s!==i;s++)r[s]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)_e.fill(i,t)}equals(t){if(!(t instanceof Ja))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,s=this.height;r<s;++r){const l=this.bytes[r],c=i.bytes[r];for(let u=0,x=this.width;u<x;++u)if(l[u]!==c[u])return!1}return!0}toString(){const t=new Ge;for(let i=0,r=this.height;i<r;++i){const s=this.bytes[i];for(let l=0,c=this.width;l<c;++l)switch(s[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ir{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ge;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ir.NUM_MASK_PATTERNS}}ir.NUM_MASK_PATTERNS=8;class Nt extends S{}Nt.kind="WriterException";class Pe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,s,l){Pe.clearMatrix(l),Pe.embedBasicPatterns(r,l),Pe.embedTypeInfo(i,s,l),Pe.maybeEmbedVersionInfo(r,l),Pe.embedDataBits(t,s,l)}static embedBasicPatterns(t,i){Pe.embedPositionDetectionPatternsAndSeparators(i),Pe.embedDarkDotAtLeftBottomCorner(i),Pe.maybeEmbedPositionAdjustmentPatterns(t,i),Pe.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const s=new Se;Pe.makeTypeInfoBits(t,i,s);for(let l=0,c=s.getSize();l<c;++l){const u=s.get(s.getSize()-1-l),x=Pe.TYPE_INFO_COORDINATES[l],y=x[0],E=x[1];if(r.setBoolean(y,E,u),l<8){const N=r.getWidth()-l-1;r.setBoolean(N,8,u)}else{const _=r.getHeight()-7+(l-8);r.setBoolean(8,_,u)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new Se;Pe.makeVersionInfoBits(t,r);let s=17;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const u=r.get(s);s--,i.setBoolean(l,i.getHeight()-11+c,u),i.setBoolean(i.getHeight()-11+c,l,u)}}static embedDataBits(t,i,r){let s=0,l=-1,c=r.getWidth()-1,u=r.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);u>=0&&u<r.getHeight();){for(let x=0;x<2;++x){const y=c-x;if(!Pe.isEmpty(r.get(y,u)))continue;let E;s<t.getSize()?(E=t.get(s),++s):E=!1,i!==255&&Qt.getDataMaskBit(i,y,u)&&(E=!E),r.setBoolean(y,u,E)}u+=l}l=-l,u+=l,c-=2}if(s!==t.getSize())throw new Nt("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-ce.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new L("0 polynomial");const r=Pe.findMSBSet(i);for(t<<=r-1;Pe.findMSBSet(t)>=r;)t^=i<<Pe.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!ir.isValidMaskPattern(i))throw new Nt("Invalid mask pattern");const s=t.getBits()<<3|i;r.appendBits(s,5);const l=Pe.calculateBCHCode(s,Pe.TYPE_INFO_POLY);r.appendBits(l,10);const c=new Se;if(c.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),r.xor(c),r.getSize()!==15)throw new Nt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Pe.calculateBCHCode(t.getVersionNumber(),Pe.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new Nt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Pe.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Pe.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Nt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let s=0;s<8;++s){if(!Pe.isEmpty(r.get(t+s,i)))throw new Nt;r.setNumber(t+s,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let s=0;s<7;++s){if(!Pe.isEmpty(r.get(t,i+s)))throw new Nt;r.setNumber(t,i+s,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let s=0;s<5;++s){const l=Pe.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)r.setNumber(t+c,i+s,l[c])}}static embedPositionDetectionPattern(t,i,r){for(let s=0;s<7;++s){const l=Pe.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)r.setNumber(t+c,i+s,l[c])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,t),Pe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Pe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Pe.embedHorizontalSeparationPattern(0,r-1,t),Pe.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Pe.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const s=7;Pe.embedVerticalSeparationPattern(s,0,t),Pe.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Pe.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,s=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let l=0,c=s.length;l!==c;l++){const u=s[l];if(u>=0)for(let x=0;x!==c;x++){const y=s[x];y>=0&&Pe.isEmpty(i.get(y,u))&&Pe.embedPositionAdjustmentPattern(y-2,u-2,i)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class Tc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ft{constructor(){}static calculateMaskPenalty(t){return Qt.applyMaskPenaltyRule1(t)+Qt.applyMaskPenaltyRule2(t)+Qt.applyMaskPenaltyRule3(t)+Qt.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let s=Ft.DEFAULT_BYTE_MODE_ENCODING;const l=r!==null&&r.get(on.CHARACTER_SET)!==void 0;l&&(s=r.get(on.CHARACTER_SET).toString());const c=this.chooseMode(t,s),u=new Se;if(c===Fe.BYTE&&(l||Ft.DEFAULT_BYTE_MODE_ENCODING!==s)){const pe=ie.getCharacterSetECIByName(s);pe!==void 0&&this.appendECI(pe,u)}this.appendModeInfo(c,u);const x=new Se;this.appendBytes(t,c,x,s);let y;if(r!==null&&r.get(on.QR_VERSION)!==void 0){const pe=Number.parseInt(r.get(on.QR_VERSION).toString(),10);y=Be.getVersionForNumber(pe);const me=this.calculateBitsNeeded(c,u,x,y);if(!this.willFit(me,y,i))throw new Nt("Data too big for requested version")}else y=this.recommendVersion(i,c,u,x);const E=new Se;E.appendBitArray(u);const N=c===Fe.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,y,c,E),E.appendBitArray(x);const _=y.getECBlocksForLevel(i),D=y.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(D,E);const U=this.interleaveWithECBytes(E,y.getTotalCodewords(),D,_.getNumBlocks()),F=new ir;F.setECLevel(i),F.setMode(c),F.setVersion(y);const V=y.getDimensionForVersion(),K=new Ja(V,V),ye=this.chooseMaskPattern(U,i,y,K);return F.setMaskPattern(ye),Pe.buildMatrix(U,i,y,ye,K),F.setMatrix(K),F}static recommendVersion(t,i,r,s){const l=this.calculateBitsNeeded(i,r,s,Be.getVersionForNumber(1)),c=this.chooseVersion(l,t),u=this.calculateBitsNeeded(i,r,s,c);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,i,r,s){return i.getSize()+t.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(t){return t<Ft.ALPHANUMERIC_TABLE.length?Ft.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ie.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Fe.KANJI;let r=!1,s=!1;for(let l=0,c=t.length;l<c;++l){const u=t.charAt(l);if(Ft.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Fe.BYTE}return s?Fe.ALPHANUMERIC:r?Fe.NUMERIC:Fe.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=$e.encode(t,ie.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const l=i[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,i,r,s){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let u=0;u<ir.NUM_MASK_PATTERNS;u++){Pe.buildMatrix(t,i,r,u,s);let x=this.calculateMaskPenalty(s);x<l&&(l=x,c=u)}return c}static chooseVersion(t,i){for(let r=1;r<=40;r++){const s=Be.getVersionForNumber(r);if(Ft.willFit(t,s,i))return s}throw new Nt("Data too big")}static willFit(t,i,r){const s=i.getTotalCodewords(),c=i.getECBlocksForLevel(r).getTotalECCodewords(),u=s-c,x=(t+7)/8;return u>=x}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new Nt("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let c=0;c<4&&i.getSize()<r;++c)i.appendBit(!1);const s=i.getSize()&7;if(s>0)for(let c=s;c<8;c++)i.appendBit(!1);const l=t-i.getSizeInBytes();for(let c=0;c<l;++c)i.appendBits((c&1)===0?236:17,8);if(i.getSize()!==r)throw new Nt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,s,l,c){if(s>=r)throw new Nt("Block ID too large");const u=t%r,x=r-u,y=Math.floor(t/r),E=y+1,N=Math.floor(i/r),_=N+1,D=y-N,U=E-_;if(D!==U)throw new Nt("EC bytes mismatch");if(r!==x+u)throw new Nt("RS blocks mismatch");if(t!==(N+D)*x+(_+U)*u)throw new Nt("Total bytes mismatch");s<x?(l[0]=N,c[0]=D):(l[0]=_,c[0]=U)}static interleaveWithECBytes(t,i,r,s){if(t.getSizeInBytes()!==r)throw new Nt("Number of bits and data bytes does not match");let l=0,c=0,u=0;const x=new Array;for(let E=0;E<s;++E){const N=new Int32Array(1),_=new Int32Array(1);Ft.getNumDataBytesAndNumECBytesForBlockID(i,r,s,E,N,_);const D=N[0],U=new Uint8Array(D);t.toBytes(8*l,U,0,D);const F=Ft.generateECBytes(U,_[0]);x.push(new Tc(U,F)),c=Math.max(c,D),u=Math.max(u,F.length),l+=N[0]}if(r!==l)throw new Nt("Data bytes does not match offset");const y=new Se;for(let E=0;E<c;++E)for(const N of x){const _=N.getDataBytes();E<_.length&&y.appendBits(_[E],8)}for(let E=0;E<u;++E)for(const N of x){const _=N.getErrorCorrectionBytes();E<_.length&&y.appendBits(_[E],8)}if(i!==y.getSizeInBytes())throw new Nt("Interleaving error: "+i+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(t,i){const r=t.length,s=new Int32Array(r+i);for(let c=0;c<r;c++)s[c]=t[c]&255;new ya(lt.QR_CODE_FIELD_256).encode(s,i);const l=new Uint8Array(i);for(let c=0;c<i;c++)l[c]=s[r+c];return l}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,s){const l=r.getCharacterCountBits(i);if(t>=1<<l)throw new Nt(t+" is bigger than "+((1<<l)-1));s.appendBits(t,l)}static appendBytes(t,i,r,s){switch(i){case Fe.NUMERIC:Ft.appendNumericBytes(t,r);break;case Fe.ALPHANUMERIC:Ft.appendAlphanumericBytes(t,r);break;case Fe.BYTE:Ft.append8BitBytes(t,r,s);break;case Fe.KANJI:Ft.appendKanjiBytes(t,r);break;default:throw new Nt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Ft.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const l=Ft.getDigit(t.charAt(s));if(s+2<r){const c=Ft.getDigit(t.charAt(s+1)),u=Ft.getDigit(t.charAt(s+2));i.appendBits(l*100+c*10+u,10),s+=3}else if(s+1<r){const c=Ft.getDigit(t.charAt(s+1));i.appendBits(l*10+c,7),s+=2}else i.appendBits(l,4),s++}}static appendAlphanumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const l=Ft.getAlphanumericCode(t.charCodeAt(s));if(l===-1)throw new Nt;if(s+1<r){const c=Ft.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new Nt;i.appendBits(l*45+c,11),s+=2}else i.appendBits(l,6),s++}}static append8BitBytes(t,i,r){let s;try{s=$e.encode(t,r)}catch(l){throw new Nt(l)}for(let l=0,c=s.length;l!==c;l++){const u=s[l];i.appendBits(u,8)}}static appendKanjiBytes(t,i){let r;try{r=$e.encode(t,ie.SJIS)}catch(l){throw new Nt(l)}const s=r.length;for(let l=0;l<s;l+=2){const c=r[l]&255,u=r[l+1]&255,x=c<<8&4294967295|u;let y=-1;if(x>=33088&&x<=40956?y=x-33088:x>=57408&&x<=60351&&(y=x-49472),y===-1)throw new Nt("Invalid byte sequence");const E=(y>>8)*192+(y&255);i.appendBits(E,13)}}static appendECI(t,i){i.appendBits(Fe.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Ft.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ft.DEFAULT_BYTE_MODE_ENCODING=ie.UTF8.getName();class rr{write(t,i,r,s=null){if(t.length===0)throw new L("Found empty contents");if(i<0||r<0)throw new L("Requested dimensions are too small: "+i+"x"+r);let l=at.L,c=rr.QUIET_ZONE_SIZE;s!==null&&(s.get(on.ERROR_CORRECTION)!==void 0&&(l=at.fromString(s.get(on.ERROR_CORRECTION).toString())),s.get(on.MARGIN)!==void 0&&(c=Number.parseInt(s.get(on.MARGIN).toString(),10)));const u=Ft.encode(t,l,s);return this.renderResult(u,i,r,c)}writeToDom(t,i,r,s,l=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(i,r,s,l);t&&t.appendChild(c)}renderResult(t,i,r,s){const l=t.getMatrix();if(l===null)throw new Tn;const c=l.getWidth(),u=l.getHeight(),x=c+s*2,y=u+s*2,E=Math.max(i,x),N=Math.max(r,y),_=Math.min(Math.floor(E/x),Math.floor(N/y)),D=Math.floor((E-c*_)/2),U=Math.floor((N-u*_)/2),F=this.createSVGElement(E,N);for(let V=0,K=U;V<u;V++,K+=_)for(let ye=0,pe=D;ye<c;ye++,pe+=_)if(l.get(ye,V)===1){const me=this.createSvgRectElement(pe,K,_,_);F.appendChild(me)}return F}createSVGElement(t,i){const r=document.createElementNS(rr.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,s){const l=document.createElementNS(rr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}rr.QUIET_ZONE_SIZE=4,rr.SVG_NS="http://www.w3.org/2000/svg";class Ur{encode(t,i,r,s,l){if(t.length===0)throw new L("Found empty contents");if(i!==le.QR_CODE)throw new L("Can only encode QR_CODE, but got "+i);if(r<0||s<0)throw new L(`Requested dimensions are too small: ${r}x${s}`);let c=at.L,u=Ur.QUIET_ZONE_SIZE;l!==null&&(l.get(on.ERROR_CORRECTION)!==void 0&&(c=at.fromString(l.get(on.ERROR_CORRECTION).toString())),l.get(on.MARGIN)!==void 0&&(u=Number.parseInt(l.get(on.MARGIN).toString(),10)));const x=Ft.encode(t,c,l);return Ur.renderResult(x,r,s,u)}static renderResult(t,i,r,s){const l=t.getMatrix();if(l===null)throw new Tn;const c=l.getWidth(),u=l.getHeight(),x=c+s*2,y=u+s*2,E=Math.max(i,x),N=Math.max(r,y),_=Math.min(Math.floor(E/x),Math.floor(N/y)),D=Math.floor((E-c*_)/2),U=Math.floor((N-u*_)/2),F=new Ve(E,N);for(let V=0,K=U;V<u;V++,K+=_)for(let ye=0,pe=D;ye<c;ye++,pe+=_)l.get(ye,V)===1&&F.setRegion(pe,K,_,_);return F}}Ur.QUIET_ZONE_SIZE=4;class _c{encode(t,i,r,s,l){let c;switch(i){case le.QR_CODE:c=new Ur;break;default:throw new L("No encoder available for format "+i)}return c.encode(t,i,r,s,l)}}class wi extends Oe{constructor(t,i,r,s,l,c,u,x){if(super(c,u),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=s,this.top=l,s+c>i||l+u>r)throw new L("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,u)}getRow(t,i){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return Z.arraycopy(this.yuvData,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,s=new Uint8ClampedArray(r);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Z.arraycopy(this.yuvData,l,s,0,r),s;for(let c=0;c<i;c++){const u=c*t;Z.arraycopy(this.yuvData,l,s,u,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new wi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,s,!1)}renderThumbnail(){const t=this.getWidth()/wi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/wi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<i;c++){const u=c*t;for(let x=0;x<t;x++){const y=s[l+x*wi.THUMBNAIL_SCALE_FACTOR]&255;r[u+x]=4278190080|y*65793}l+=this.dataWidth*wi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/wi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/wi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<i;s++,l+=this.dataWidth){const c=l+t/2;for(let u=l,x=l+t-1;u<c;u++,x--){const y=r[u];r[u]=r[x],r[x]=y}}}invert(){return new ve(this)}}wi.THUMBNAIL_SCALE_FACTOR=2;class Xs extends Oe{constructor(t,i,r,s,l,c,u){if(super(i,r),this.dataWidth=s,this.dataHeight=l,this.left=c,this.top=u,t.BYTES_PER_ELEMENT===4){const x=i*r,y=new Uint8ClampedArray(x);for(let E=0;E<x;E++){const N=t[E],_=N>>16&255,D=N>>7&510,U=N&255;y[E]=(_+D+U)/4&255}this.luminances=y}else this.luminances=t;if(s===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=r),c===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new L("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return Z.arraycopy(this.luminances,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,s=new Uint8ClampedArray(r);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Z.arraycopy(this.luminances,l,s,0,r),s;for(let c=0;c<i;c++){const u=c*t;Z.arraycopy(this.luminances,l,s,u,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new Xs(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new ve(this)}}class ql extends ie{static forName(t){return this.getCharacterSetECIByName(t)}}class ba{}ba.ISO_8859_1=ie.ISO8859_1;class kr{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Zl{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Ql{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ar extends Ql{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new ar(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ar(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ce.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class $a extends ar{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new $a(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Kl(v,t,i){return new $a(v,t,i)}function Fr(v,t,i){return new ar(v,t,i)}const zr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,es=1,qn=2,Ys=3,li=4,wa=new ar(null,0,0),sr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Oc(v){for(let t of v)_e.fill(t,-1);return v[qi][li]=0,v[es][li]=0,v[es][qi]=28,v[Ys][li]=0,v[qn][li]=0,v[qn][qi]=15,v}const Aa=Oc(_e.createInt32Array(6,6));class oi{constructor(t,i,r,s){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,s=this.token;if(t!==this.mode){let c=sr[this.mode][t];s=Fr(s,c&65535,c>>16),r+=c>>16}let l=t===qn?4:5;return s=Fr(s,i,l),new oi(s,t,0,r+l)}shiftAndAppend(t,i){let r=this.token,s=this.mode===qn?4:5;return r=Fr(r,Aa[this.mode][t],s),r=Fr(r,i,5),new oi(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,s=this.bitCount;if(this.mode===li||this.mode===qn){let u=sr[r][qi];i=Fr(i,u&65535,u>>16),s+=u>>16,r=qi}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new oi(i,r,this.binaryShiftByteCount+1,s+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Kl(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new oi(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(sr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=oi.calculateBinaryShiftCost(t)-oi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())i.unshift(s);let r=new Se;for(const s of i)s.appendTo(r,t);return r}toString(){return Ee.format("%s bits=%d bytes=%d",zr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}oi.INITIAL_STATE=new oi(wa,qi,0,0);function Wl(v){const t=Ee.getCharCode(" "),i=Ee.getCharCode("."),r=Ee.getCharCode(",");v[qi][t]=1;const s=Ee.getCharCode("Z"),l=Ee.getCharCode("A");for(let _=l;_<=s;_++)v[qi][_]=_-l+2;v[es][t]=1;const c=Ee.getCharCode("z"),u=Ee.getCharCode("a");for(let _=u;_<=c;_++)v[es][_]=_-u+2;v[qn][t]=1;const x=Ee.getCharCode("9"),y=Ee.getCharCode("0");for(let _=y;_<=x;_++)v[qn][_]=_-y+2;v[qn][r]=12,v[qn][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let _=0;_<E.length;_++)v[Ys][Ee.getCharCode(E[_])]=_;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _=0;_<N.length;_++)Ee.getCharCode(N[_])>0&&(v[li][Ee.getCharCode(N[_])]=_);return v}const Ea=Wl(_e.createInt32Array(5,256));class lr{constructor(t){this.text=t}encode(){const t=Ee.getCharCode(" "),i=Ee.getCharCode(`
`);let r=Zl.singletonList(oi.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,u=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case Ee.getCharCode("\r"):c=u===i?2:0;break;case Ee.getCharCode("."):c=u===t?3:0;break;case Ee.getCharCode(","):c=u===t?4:0;break;case Ee.getCharCode(":"):c=u===t?5:0;break;default:c=0}c>0?(r=lr.updateStateListForPair(r,l,c),l++):r=this.updateStateListForChar(r,l)}return Zl.min(r,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let s of t)this.updateStateForChar(s,i,r);return lr.simplifyStates(r)}updateStateForChar(t,i,r){let s=this.text[i]&255,l=Ea[t.getMode()][s]>0,c=null;for(let u=0;u<=li;u++){let x=Ea[u][s];if(x>0){if(c==null&&(c=t.endBinaryShift(i)),!l||u===t.getMode()||u===qn){const y=c.latchAndAppend(u,x);r.push(y)}if(!l&&Aa[t.getMode()][u]>=0){const y=c.shiftAndAppend(u,x);r.push(y)}}}if(t.getBinaryShiftByteCount()>0||Ea[t.getMode()][s]===0){let u=t.addBinaryShiftChar(i);r.push(u)}}static updateStateListForPair(t,i,r){const s=[];for(let l of t)this.updateStateForPair(l,i,r,s);return this.simplifyStates(s)}static updateStateForPair(t,i,r,s){let l=t.endBinaryShift(i);if(s.push(l.latchAndAppend(li,r)),t.getMode()!==li&&s.push(l.shiftAndAppend(li,r)),r===3||r===4){let c=l.latchAndAppend(qn,16-r).latchAndAppend(qn,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);s.push(c)}}static simplifyStates(t){let i=[];for(const r of t){let s=!0;for(const l of i){if(l.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(l)&&(i=i.filter(c=>c!==l))}s&&i.push(r)}return i}}class ht{constructor(){}static encodeBytes(t){return ht.encode(t,ht.DEFAULT_EC_PERCENT,ht.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let s=new lr(t).encode(),l=ce.truncDivision(s.getSize()*i,100)+11,c=s.getSize()+l,u,x,y,E,N;if(r!==ht.DEFAULT_AZTEC_LAYERS){if(u=r<0,x=Math.abs(r),x>(u?ht.MAX_NB_BITS_COMPACT:ht.MAX_NB_BITS))throw new L(Ee.format("Illegal value %s for layers",r));y=ht.totalBitsInLayer(x,u),E=ht.WORD_SIZE[x];let me=y-y%E;if(N=ht.stuffBits(s,E),N.getSize()+l>me)throw new L("Data to large for user specified layer");if(u&&N.getSize()>E*64)throw new L("Data to large for user specified layer")}else{E=0,N=null;for(let me=0;;me++){if(me>ht.MAX_NB_BITS)throw new L("Data too large for an Aztec code");if(u=me<=3,x=u?me+1:me,y=ht.totalBitsInLayer(x,u),c>y)continue;(N==null||E!==ht.WORD_SIZE[x])&&(E=ht.WORD_SIZE[x],N=ht.stuffBits(s,E));let it=y-y%E;if(!(u&&N.getSize()>E*64)&&N.getSize()+l<=it)break}}let _=ht.generateCheckWords(N,y,E),D=N.getSize()/E,U=ht.generateModeMessage(u,x,D),F=(u?11:14)+x*4,V=new Int32Array(F),K;if(u){K=F;for(let me=0;me<V.length;me++)V[me]=me}else{K=F+1+2*ce.truncDivision(ce.truncDivision(F,2)-1,15);let me=ce.truncDivision(F,2),it=ce.truncDivision(K,2);for(let Qe=0;Qe<me;Qe++){let tn=Qe+ce.truncDivision(Qe,15);V[me-Qe-1]=it-tn-1,V[me+Qe]=it+tn+1}}let ye=new Ve(K);for(let me=0,it=0;me<x;me++){let Qe=(x-me)*4+(u?9:12);for(let tn=0;tn<Qe;tn++){let Zn=tn*2;for(let Rn=0;Rn<2;Rn++)_.get(it+Zn+Rn)&&ye.set(V[me*2+Rn],V[me*2+tn]),_.get(it+Qe*2+Zn+Rn)&&ye.set(V[me*2+tn],V[F-1-me*2-Rn]),_.get(it+Qe*4+Zn+Rn)&&ye.set(V[F-1-me*2-Rn],V[F-1-me*2-tn]),_.get(it+Qe*6+Zn+Rn)&&ye.set(V[F-1-me*2-tn],V[me*2+Rn])}it+=Qe*8}if(ht.drawModeMessage(ye,u,K,U),u)ht.drawBullsEye(ye,ce.truncDivision(K,2),5);else{ht.drawBullsEye(ye,ce.truncDivision(K,2),7);for(let me=0,it=0;me<ce.truncDivision(F,2)-1;me+=15,it+=16)for(let Qe=ce.truncDivision(K,2)&1;Qe<K;Qe+=2)ye.set(ce.truncDivision(K,2)-it,Qe),ye.set(ce.truncDivision(K,2)+it,Qe),ye.set(Qe,ce.truncDivision(K,2)-it),ye.set(Qe,ce.truncDivision(K,2)+it)}let pe=new kr;return pe.setCompact(u),pe.setSize(K),pe.setLayers(x),pe.setCodeWords(D),pe.setMatrix(ye),pe}static drawBullsEye(t,i,r){for(let s=0;s<r;s+=2)for(let l=i-s;l<=i+s;l++)t.set(l,i-s),t.set(l,i+s),t.set(i-s,l),t.set(i+s,l);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let s=new Se;return t?(s.appendBits(i-1,2),s.appendBits(r-1,6),s=ht.generateCheckWords(s,28,4)):(s.appendBits(i-1,5),s.appendBits(r-1,11),s=ht.generateCheckWords(s,40,4)),s}static drawModeMessage(t,i,r,s){let l=ce.truncDivision(r,2);if(i)for(let c=0;c<7;c++){let u=l-3+c;s.get(c)&&t.set(u,l-5),s.get(c+7)&&t.set(l+5,u),s.get(20-c)&&t.set(u,l+5),s.get(27-c)&&t.set(l-5,u)}else for(let c=0;c<10;c++){let u=l-5+c+ce.truncDivision(c,5);s.get(c)&&t.set(u,l-7),s.get(c+10)&&t.set(l+7,u),s.get(29-c)&&t.set(u,l+7),s.get(39-c)&&t.set(l-7,u)}}static generateCheckWords(t,i,r){let s=t.getSize()/r,l=new ya(ht.getGF(r)),c=ce.truncDivision(i,r),u=ht.bitsToWords(t,r,c);l.encode(u,c-s);let x=i%r,y=new Se;y.appendBits(0,x);for(const E of Array.from(u))y.appendBits(E,r);return y}static bitsToWords(t,i,r){let s=new Int32Array(r),l,c;for(l=0,c=t.getSize()/i;l<c;l++){let u=0;for(let x=0;x<i;x++)u|=t.get(l*i+x)?1<<i-x-1:0;s[l]=u}return s}static getGF(t){switch(t){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new L("Unsupported word size "+t)}}static stuffBits(t,i){let r=new Se,s=t.getSize(),l=(1<<i)-2;for(let c=0;c<s;c+=i){let u=0;for(let x=0;x<i;x++)(c+x>=s||t.get(c+x))&&(u|=1<<i-1-x);(u&l)===l?(r.appendBits(u&l,i),c--):(u&l)===0?(r.appendBits(u|1,i),c--):r.appendBits(u,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}ht.DEFAULT_EC_PERCENT=33,ht.DEFAULT_AZTEC_LAYERS=0,ht.MAX_NB_BITS=32,ht.MAX_NB_BITS_COMPACT=4,ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ca{encode(t,i,r,s){return this.encodeWithHints(t,i,r,s,null)}encodeWithHints(t,i,r,s,l){let c=ba.ISO_8859_1,u=ht.DEFAULT_EC_PERCENT,x=ht.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(on.CHARACTER_SET)&&(c=ql.forName(l.get(on.CHARACTER_SET).toString())),l.has(on.ERROR_CORRECTION)&&(u=ce.parseInt(l.get(on.ERROR_CORRECTION).toString())),l.has(on.AZTEC_LAYERS)&&(x=ce.parseInt(l.get(on.AZTEC_LAYERS).toString()))),Ca.encodeLayers(t,i,r,s,c,u,x)}static encodeLayers(t,i,r,s,l,c,u){if(i!==le.AZTEC)throw new L("Can only encode AZTEC, but got "+i);let x=ht.encode(Ee.getBytes(t,l),c,u);return Ca.renderResult(x,r,s)}static renderResult(t,i,r){let s=t.getMatrix();if(s==null)throw new Tn;let l=s.getWidth(),c=s.getHeight(),u=Math.max(i,l),x=Math.max(r,c),y=Math.min(u/l,x/c),E=(u-l*y)/2,N=(x-c*y)/2,_=new Ve(u,x);for(let D=0,U=N;D<c;D++,U+=y)for(let F=0,V=E;F<l;F++,V+=y)s.get(F,D)&&_.setRegion(V,U,y,y);return _}}g.AbstractExpandedDecoder=sn,g.ArgumentException=I,g.ArithmeticException=er,g.AztecCode=kr,g.AztecCodeReader=Va,g.AztecCodeWriter=Ca,g.AztecDecoder=_t,g.AztecDetector=Ls,g.AztecDetectorResult=Ul,g.AztecEncoder=ht,g.AztecHighLevelEncoder=lr,g.AztecPoint=_n,g.BarcodeFormat=le,g.Binarizer=H,g.BinaryBitmap=re,g.BitArray=Se,g.BitMatrix=Ve,g.BitSource=ai,g.BrowserAztecCodeReader=Ac,g.BrowserBarcodeReader=Ec,g.BrowserCodeReader=be,g.BrowserDatamatrixCodeReader=Ya,g.BrowserMultiFormatReader=Yl,g.BrowserPDF417Reader=vc,g.BrowserQRCodeReader=Nc,g.BrowserQRCodeSvgWriter=rr,g.CharacterSetECI=ie,g.ChecksumException=ue,g.Code128Reader=we,g.Code39Reader=It,g.DataMatrixDecodedBitStreamParser=Di,g.DataMatrixReader=Ii,g.DecodeHintType=Ae,g.DecoderResult=Ye,g.DefaultGridSampler=Bs,g.DetectorResult=Pa,g.EAN13Reader=mi,g.EncodeHintType=on,g.Exception=S,g.FormatException=ee,g.GenericGF=lt,g.GenericGFPoly=st,g.GlobalHistogramBinarizer=Y,g.GridSampler=Ms,g.GridSamplerInstance=ni,g.HTMLCanvasElementLuminanceSource=Le,g.HybridBinarizer=se,g.ITFReader=et,g.IllegalArgumentException=L,g.IllegalStateException=Tn,g.InvertedLuminanceSource=ve,g.LuminanceSource=Oe,g.MathUtils=ot,g.MultiFormatOneDReader=ri,g.MultiFormatReader=Xl,g.MultiFormatWriter=_c,g.NotFoundException=J,g.OneDReader=Ht,g.PDF417DecodedBitStreamParser=W,g.PDF417DecoderErrorCorrection=Bi,g.PDF417Reader=En,g.PDF417ResultMetadata=jr,g.PerspectiveTransform=Gn,g.PlanarYUVLuminanceSource=wi,g.QRCodeByteMatrix=Ja,g.QRCodeDataMask=zn,g.QRCodeDecodedBitStreamParser=Ut,g.QRCodeDecoderErrorCorrectionLevel=at,g.QRCodeDecoderFormatInformation=hn,g.QRCodeEncoder=Ft,g.QRCodeEncoderQRCode=ir,g.QRCodeMaskUtil=Qt,g.QRCodeMatrixUtil=Pe,g.QRCodeMode=Fe,g.QRCodeReader=Mi,g.QRCodeVersion=Be,g.QRCodeWriter=Ur,g.RGBLuminanceSource=Xs,g.RSS14Reader=vt,g.RSSExpandedReader=ge,g.ReaderException=Wa,g.ReedSolomonDecoder=tr,g.ReedSolomonEncoder=ya,g.ReedSolomonException=dn,g.Result=Ce,g.ResultMetadataType=qe,g.ResultPoint=De,g.StringUtils=Ee,g.UnsupportedOperationException=rt,g.VideoInputDevice=k,g.WhiteRectangleDetector=Wt,g.WriterException=Nt,g.ZXingArrays=_e,g.ZXingCharset=ql,g.ZXingInteger=ce,g.ZXingStandardCharsets=ba,g.ZXingStringBuilder=Ge,g.ZXingStringEncoding=$e,g.ZXingSystem=Z,g.createAbstractExpandedDecoder=Or,Object.defineProperty(g,"__esModule",{value:!0})}))})(Rl,Rl.exports)),Rl.exports}var Yt=w3();const A3=kh(Yt),E3=Ug({__proto__:null,default:A3},[Yt]);var Sh=(function(){function f(d,g,p){if(this.formatMap=new Map([[Re.QR_CODE,Yt.BarcodeFormat.QR_CODE],[Re.AZTEC,Yt.BarcodeFormat.AZTEC],[Re.CODABAR,Yt.BarcodeFormat.CODABAR],[Re.CODE_39,Yt.BarcodeFormat.CODE_39],[Re.CODE_93,Yt.BarcodeFormat.CODE_93],[Re.CODE_128,Yt.BarcodeFormat.CODE_128],[Re.DATA_MATRIX,Yt.BarcodeFormat.DATA_MATRIX],[Re.MAXICODE,Yt.BarcodeFormat.MAXICODE],[Re.ITF,Yt.BarcodeFormat.ITF],[Re.EAN_13,Yt.BarcodeFormat.EAN_13],[Re.EAN_8,Yt.BarcodeFormat.EAN_8],[Re.PDF_417,Yt.BarcodeFormat.PDF_417],[Re.RSS_14,Yt.BarcodeFormat.RSS_14],[Re.RSS_EXPANDED,Yt.BarcodeFormat.RSS_EXPANDED],[Re.UPC_A,Yt.BarcodeFormat.UPC_A],[Re.UPC_E,Yt.BarcodeFormat.UPC_E],[Re.UPC_EAN_EXTENSION,Yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!E3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=p;var A=this.createZXingFormats(d),b=new Map;b.set(Yt.DecodeHintType.POSSIBLE_FORMATS,A),b.set(Yt.DecodeHintType.TRY_HARDER,!1),this.hints=b}return f.prototype.decodeAsync=function(d){var g=this;return new Promise(function(p,A){try{p(g.decode(d))}catch(b){A(b)}})},f.prototype.decode=function(d){var g=new Yt.MultiFormatReader(this.verbose,this.hints),p=new Yt.HTMLCanvasElementLuminanceSource(d),A=new Yt.BinaryBitmap(new Yt.HybridBinarizer(p)),b=g.decode(A);return{text:b.text,format:x2.create(this.toHtml5QrcodeSupportedFormats(b.format)),debugData:this.createDebugData()}},f.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(g,p,A){d.set(g,p)}),d},f.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},f.prototype.createZXingFormats=function(d){for(var g=[],p=0,A=d;p<A.length;p++){var b=A[p];this.formatMap.has(b)?g.push(this.formatMap.get(b)):this.logger.logError("".concat(b," is not supported by")+"ZXingHtml5QrcodeShim")}return g},f.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},f})(),C3=function(f,d,g,p){function A(b){return b instanceof g?b:new g(function(T){T(b)})}return new(g||(g=Promise))(function(b,T){function M(I){try{S(p.next(I))}catch(L){T(L)}}function B(I){try{S(p.throw(I))}catch(L){T(L)}}function S(I){I.done?b(I.value):A(I.value).then(M,B)}S((p=p.apply(f,d||[])).next())})},S3=function(f,d){var g={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},p,A,b,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(S){return function(I){return B([S,I])}}function B(S){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(g=0)),g;)try{if(p=1,A&&(b=S[0]&2?A.return:S[0]?A.throw||((b=A.return)&&b.call(A),0):A.next)&&!(b=b.call(A,S[1])).done)return b;switch(A=0,b&&(S=[S[0]&2,b.value]),S[0]){case 0:case 1:b=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,A=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(b=g.trys,!(b=b.length>0&&b[b.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){g.label=S[1];break}if(S[0]===6&&g.label<b[1]){g.label=b[1],b=S;break}if(b&&g.label<b[2]){g.label=b[2],g.ops.push(S);break}b[2]&&g.ops.pop(),g.trys.pop();continue}S=d.call(f,g)}catch(I){S=[6,I],A=0}finally{p=b=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},vh=(function(){function f(d,g,p){if(this.formatMap=new Map([[Re.QR_CODE,"qr_code"],[Re.AZTEC,"aztec"],[Re.CODABAR,"codabar"],[Re.CODE_39,"code_39"],[Re.CODE_93,"code_93"],[Re.CODE_128,"code_128"],[Re.DATA_MATRIX,"data_matrix"],[Re.ITF,"itf"],[Re.EAN_13,"ean_13"],[Re.EAN_8,"ean_8"],[Re.PDF_417,"pdf417"],[Re.UPC_A,"upc_a"],[Re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!f.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=p;var A=this.createBarcodeDetectorFormats(d);if(this.detector=new BarcodeDetector(A),!this.detector)throw"BarcodeDetector detector not supported"}return f.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var d=new BarcodeDetector({formats:["qr_code"]});return typeof d<"u"},f.prototype.decodeAsync=function(d){return C3(this,void 0,void 0,function(){var g,p;return S3(this,function(A){switch(A.label){case 0:return[4,this.detector.detect(d)];case 1:if(g=A.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return p=this.selectLargestBarcode(g),[2,{text:p.rawValue,format:x2.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}]}})})},f.prototype.selectLargestBarcode=function(d){for(var g=null,p=0,A=0,b=d;A<b.length;A++){var T=b[A],M=T.boundingBox.width*T.boundingBox.height;M>p&&(p=M,g=T)}if(!g)throw"No largest barcode found";return g},f.prototype.createBarcodeDetectorFormats=function(d){for(var g=[],p=0,A=d;p<A.length;p++){var b=A[p];this.formatMap.has(b)?g.push(this.formatMap.get(b)):this.logger.warn("".concat(b," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},f.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},f.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(g,p,A){d.set(g,p)}),d},f.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},f})(),Nh=function(f,d,g,p){function A(b){return b instanceof g?b:new g(function(T){T(b)})}return new(g||(g=Promise))(function(b,T){function M(I){try{S(p.next(I))}catch(L){T(L)}}function B(I){try{S(p.throw(I))}catch(L){T(L)}}function S(I){I.done?b(I.value):A(I.value).then(M,B)}S((p=p.apply(f,d||[])).next())})},Th=function(f,d){var g={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},p,A,b,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(S){return function(I){return B([S,I])}}function B(S){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(g=0)),g;)try{if(p=1,A&&(b=S[0]&2?A.return:S[0]?A.throw||((b=A.return)&&b.call(A),0):A.next)&&!(b=b.call(A,S[1])).done)return b;switch(A=0,b&&(S=[S[0]&2,b.value]),S[0]){case 0:case 1:b=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,A=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(b=g.trys,!(b=b.length>0&&b[b.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){g.label=S[1];break}if(S[0]===6&&g.label<b[1]){g.label=b[1],b=S;break}if(b&&g.label<b[2]){g.label=b[2],g.ops.push(S);break}b[2]&&g.ops.pop(),g.trys.pop();continue}S=d.call(f,g)}catch(I){S=[6,I],A=0}finally{p=b=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},v3=(function(){function f(d,g,p,A){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=p,g&&vh.isSupported()?(this.primaryDecoder=new vh(d,p,A),this.secondaryDecoder=new Sh(d,p,A)):this.primaryDecoder=new Sh(d,p,A)}return f.prototype.decodeAsync=function(d){return Nh(this,void 0,void 0,function(){var g;return Th(this,function(p){switch(p.label){case 0:g=performance.now(),p.label=1;case 1:return p.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(d)];case 2:return[2,p.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},f.prototype.decodeRobustlyAsync=function(d){return Nh(this,void 0,void 0,function(){var g,p;return Th(this,function(A){switch(A.label){case 0:g=performance.now(),A.label=1;case 1:return A.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(d)];case 2:return[2,A.sent()];case 3:if(p=A.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(d)];throw p;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},f.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},f.prototype.possiblyLogPerformance=function(d){if(this.verbose){var g=performance.now()-d;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},f.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var d=0,g=0,p=this.executionResults;g<p.length;g++){var A=p[g];d+=A}var b=d/this.executionResults.length;console.log("".concat(b," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},f})(),H0=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var b in A)Object.prototype.hasOwnProperty.call(A,b)&&(p[b]=A[b])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function p(){this.constructor=d}d.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}})(),dc=function(f,d,g,p){function A(b){return b instanceof g?b:new g(function(T){T(b)})}return new(g||(g=Promise))(function(b,T){function M(I){try{S(p.next(I))}catch(L){T(L)}}function B(I){try{S(p.throw(I))}catch(L){T(L)}}function S(I){I.done?b(I.value):A(I.value).then(M,B)}S((p=p.apply(f,d||[])).next())})},hc=function(f,d){var g={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},p,A,b,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(S){return function(I){return B([S,I])}}function B(S){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(g=0)),g;)try{if(p=1,A&&(b=S[0]&2?A.return:S[0]?A.throw||((b=A.return)&&b.call(A),0):A.next)&&!(b=b.call(A,S[1])).done)return b;switch(A=0,b&&(S=[S[0]&2,b.value]),S[0]){case 0:case 1:b=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,A=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(b=g.trys,!(b=b.length>0&&b[b.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){g.label=S[1];break}if(S[0]===6&&g.label<b[1]){g.label=b[1],b=S;break}if(b&&g.label<b[2]){g.label=b[2],g.ops.push(S);break}b[2]&&g.ops.pop(),g.trys.pop();continue}S=d.call(f,g)}catch(I){S=[6,I],A=0}finally{p=b=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},p2=(function(){function f(d,g){this.name=d,this.track=g}return f.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},f.prototype.apply=function(d){var g={};g[this.name]=d;var p={advanced:[g]};return this.track.applyConstraints(p)},f.prototype.value=function(){var d=this.track.getSettings();if(this.name in d){var g=d[this.name];return g}return null},f})(),N3=(function(f){H0(d,f);function d(g,p){return f.call(this,g,p)||this}return d.prototype.min=function(){return this.getCapabilities().min},d.prototype.max=function(){return this.getCapabilities().max},d.prototype.step=function(){return this.getCapabilities().step},d.prototype.apply=function(g){var p={};p[this.name]=g;var A={advanced:[p]};return this.track.applyConstraints(A)},d.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),p=g[this.name];return{min:p.min,max:p.max,step:p.step}},d.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},d})(p2),T3=(function(f){H0(d,f);function d(g){return f.call(this,"zoom",g)||this}return d})(N3),_3=(function(f){H0(d,f);function d(g){return f.call(this,"torch",g)||this}return d})(p2),O3=(function(){function f(d){this.track=d}return f.prototype.zoomFeature=function(){return new T3(this.track)},f.prototype.torchFeature=function(){return new _3(this.track)},f})(),R3=(function(){function f(d,g,p){this.isClosed=!1,this.parentElement=d,this.mediaStream=g,this.callbacks=p,this.surface=this.createVideoElement(this.parentElement.clientWidth),d.append(this.surface)}return f.prototype.createVideoElement=function(d){var g=document.createElement("video");return g.style.width="".concat(d,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},f.prototype.setupSurface=function(){var d=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var p=d.surface.clientWidth,A=d.surface.clientHeight;d.callbacks.onRenderSurfaceReady(p,A),d.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},f.create=function(d,g,p,A){return dc(this,void 0,void 0,function(){var b,T;return hc(this,function(M){switch(M.label){case 0:return b=new f(d,g,A),p.aspectRatio?(T={aspectRatio:p.aspectRatio},[4,b.getFirstTrackOrFail().applyConstraints(T)]):[3,2];case 1:M.sent(),M.label=2;case 2:return b.setupSurface(),[2,b]}})})},f.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},f.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},f.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},f.prototype.resume=function(d){this.failIfClosed();var g=this,p=function(){setTimeout(d,200),g.surface.removeEventListener("playing",p)};this.surface.addEventListener("playing",p),this.surface.play()},f.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},f.prototype.getSurface=function(){return this.failIfClosed(),this.surface},f.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},f.prototype.applyVideoConstraints=function(d){return dc(this,void 0,void 0,function(){return hc(this,function(g){if("aspectRatio"in d)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(d)]})})},f.prototype.close=function(){if(this.isClosed)return Promise.resolve();var d=this;return new Promise(function(g,p){var A=d.mediaStream.getVideoTracks(),b=A.length,T=0;d.mediaStream.getVideoTracks().forEach(function(M){d.mediaStream.removeTrack(M),M.stop(),++T,T>=b&&(d.isClosed=!0,d.parentElement.removeChild(d.surface),g())})})},f.prototype.getCapabilities=function(){return new O3(this.getFirstTrackOrFail())},f})(),D3=(function(){function f(d){this.mediaStream=d}return f.prototype.render=function(d,g,p){return dc(this,void 0,void 0,function(){return hc(this,function(A){return[2,R3.create(d,this.mediaStream,g,p)]})})},f.create=function(d){return dc(this,void 0,void 0,function(){var g,p;return hc(this,function(A){switch(A.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:d},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return p=A.sent(),[2,new f(p)]}})})},f})(),_h=function(f,d,g,p){function A(b){return b instanceof g?b:new g(function(T){T(b)})}return new(g||(g=Promise))(function(b,T){function M(I){try{S(p.next(I))}catch(L){T(L)}}function B(I){try{S(p.throw(I))}catch(L){T(L)}}function S(I){I.done?b(I.value):A(I.value).then(M,B)}S((p=p.apply(f,d||[])).next())})},Oh=function(f,d){var g={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},p,A,b,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(S){return function(I){return B([S,I])}}function B(S){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(g=0)),g;)try{if(p=1,A&&(b=S[0]&2?A.return:S[0]?A.throw||((b=A.return)&&b.call(A),0):A.next)&&!(b=b.call(A,S[1])).done)return b;switch(A=0,b&&(S=[S[0]&2,b.value]),S[0]){case 0:case 1:b=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,A=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(b=g.trys,!(b=b.length>0&&b[b.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){g.label=S[1];break}if(S[0]===6&&g.label<b[1]){g.label=b[1],b=S;break}if(b&&g.label<b[2]){g.label=b[2],g.ops.push(S);break}b[2]&&g.ops.pop(),g.trys.pop();continue}S=d.call(f,g)}catch(I){S=[6,I],A=0}finally{p=b=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},I3=(function(){function f(){}return f.failIfNotSupported=function(){return _h(this,void 0,void 0,function(){return Oh(this,function(d){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new f]})})},f.prototype.create=function(d){return _h(this,void 0,void 0,function(){return Oh(this,function(g){return[2,D3.create(d)]})})},f})(),M3=function(f,d,g,p){function A(b){return b instanceof g?b:new g(function(T){T(b)})}return new(g||(g=Promise))(function(b,T){function M(I){try{S(p.next(I))}catch(L){T(L)}}function B(I){try{S(p.throw(I))}catch(L){T(L)}}function S(I){I.done?b(I.value):A(I.value).then(M,B)}S((p=p.apply(f,d||[])).next())})},B3=function(f,d){var g={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},p,A,b,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(S){return function(I){return B([S,I])}}function B(S){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,S[0]&&(g=0)),g;)try{if(p=1,A&&(b=S[0]&2?A.return:S[0]?A.throw||((b=A.return)&&b.call(A),0):A.next)&&!(b=b.call(A,S[1])).done)return b;switch(A=0,b&&(S=[S[0]&2,b.value]),S[0]){case 0:case 1:b=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,A=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(b=g.trys,!(b=b.length>0&&b[b.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){g.label=S[1];break}if(S[0]===6&&g.label<b[1]){g.label=b[1],b=S;break}if(b&&g.label<b[2]){g.label=b[2],g.ops.push(S);break}b[2]&&g.ops.pop(),g.trys.pop();continue}S=d.call(f,g)}catch(I){S=[6,I],A=0}finally{p=b=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},L3=(function(){function f(){}return f.retrieve=function(){if(navigator.mediaDevices)return f.getCamerasFromMediaDevices();var d=MediaStreamTrack;return MediaStreamTrack&&d.getSources?f.getCamerasFromMediaStreamTrack():f.rejectWithError()},f.rejectWithError=function(){var d=_s.unableToQuerySupportedDevices();return f.isHttpsOrLocalhost()||(d=_s.insecureContextCameraQueryError()),Promise.reject(d)},f.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var d=location.host.split(":")[0];return d==="127.0.0.1"||d==="localhost"},f.getCamerasFromMediaDevices=function(){return M3(this,void 0,void 0,function(){var d,g,p,A,b,T,M;return B3(this,function(B){switch(B.label){case 0:return d=function(S){for(var I=S.getVideoTracks(),L=0,re=I;L<re.length;L++){var ue=re[L];ue.enabled=!1,ue.stop(),S.removeTrack(ue)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=B.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(p=B.sent(),A=[],b=0,T=p;b<T.length;b++)M=T[b],M.kind==="videoinput"&&A.push({id:M.deviceId,label:M.label});return d(g),[2,A]}})})},f.getCamerasFromMediaStreamTrack=function(){return new Promise(function(d,g){var p=function(b){for(var T=[],M=0,B=b;M<B.length;M++){var S=B[M];S.kind==="video"&&T.push({id:S.id,label:S.label})}d(T)},A=MediaStreamTrack;A.getSources(p)})},f})(),an;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.NOT_STARTED=1]="NOT_STARTED",f[f.SCANNING=2]="SCANNING",f[f.PAUSED=3]="PAUSED"})(an||(an={}));var j3=(function(){function f(){this.state=an.NOT_STARTED,this.onGoingTransactionNewState=an.UNKNOWN}return f.prototype.directTransition=function(d){this.failIfTransitionOngoing(),this.validateTransition(d),this.state=d},f.prototype.startTransition=function(d){return this.failIfTransitionOngoing(),this.validateTransition(d),this.onGoingTransactionNewState=d,this},f.prototype.execute=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var d=this.onGoingTransactionNewState;this.onGoingTransactionNewState=an.UNKNOWN,this.directTransition(d)},f.prototype.cancel=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=an.UNKNOWN},f.prototype.getState=function(){return this.state},f.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==an.UNKNOWN)throw"Cannot transition to a new state, already under transition"},f.prototype.validateTransition=function(d){switch(this.state){case an.UNKNOWN:throw"Transition from unknown is not allowed";case an.NOT_STARTED:this.failIfNewStateIs(d,[an.PAUSED]);break;case an.SCANNING:break;case an.PAUSED:break}},f.prototype.failIfNewStateIs=function(d,g){for(var p=0,A=g;p<A.length;p++){var b=A[p];if(d===b)throw"Cannot transition from ".concat(this.state," to ").concat(d)}},f})(),U3=(function(){function f(d){this.stateManager=d}return f.prototype.startTransition=function(d){return this.stateManager.startTransition(d)},f.prototype.directTransition=function(d){this.stateManager.directTransition(d)},f.prototype.getState=function(){return this.stateManager.getState()},f.prototype.canScanFile=function(){return this.stateManager.getState()===an.NOT_STARTED},f.prototype.isScanning=function(){return this.stateManager.getState()!==an.NOT_STARTED},f.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===an.SCANNING},f.prototype.isPaused=function(){return this.stateManager.getState()===an.PAUSED},f})(),k3=(function(){function f(){}return f.create=function(){return new U3(new j3)},f})(),F3=(function(){var f=function(d,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var b in A)Object.prototype.hasOwnProperty.call(A,b)&&(p[b]=A[b])},f(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(d,g);function p(){this.constructor=d}d.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}})(),xi=(function(f){F3(d,f);function d(){return f!==null&&f.apply(this,arguments)||this}return d.DEFAULT_WIDTH=300,d.DEFAULT_WIDTH_OFFSET=2,d.FILE_SCAN_MIN_HEIGHT=300,d.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,d.MIN_QR_BOX_SIZE=50,d.SHADED_LEFT=1,d.SHADED_RIGHT=2,d.SHADED_TOP=3,d.SHADED_BOTTOM=4,d.SHADED_REGION_ELEMENT_ID="qr-shaded-region",d.VERBOSE=!1,d.BORDER_SHADER_DEFAULT_COLOR="#ffffff",d.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",d})(m3),z3=(function(){function f(d,g){this.logger=g,this.fps=xi.SCAN_DEFAULT_FPS,d?(d.fps&&(this.fps=d.fps),this.disableFlip=d.disableFlip===!0,this.qrbox=d.qrbox,this.aspectRatio=d.aspectRatio,this.videoConstraints=d.videoConstraints):this.disableFlip=xi.DEFAULT_DISABLE_FLIP}return f.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?m2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},f.prototype.isShadedBoxEnabled=function(){return!Sr(this.qrbox)},f.create=function(d,g){return new f(d,g)},f})(),Rh=(function(){function f(d,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(d))throw"HTML Element with id=".concat(d," not found");this.elementId=d,this.verbose=!1;var p;typeof g=="boolean"?this.verbose=g===!0:g&&(p=g,this.verbose=p.verbose===!0,p.experimentalFeatures),this.logger=new y3(this.verbose),this.qrcode=new v3(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(p),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=k3.create()}return f.prototype.start=function(d,g,p,A){var b=this;if(!d)throw"cameraIdOrConfig is required";if(!p||typeof p!="function")throw"qrCodeSuccessCallback is required and should be a function.";var T;A?T=A:T=this.verbose?this.logger.log:function(){};var M=z3.create(g,this.logger);this.clearElement();var B=!1;M.videoConstraints&&(M.isMediaStreamConstraintsValid()?B=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var S=B,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:xi.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var L=this,re=this.stateManagerProxy.startTransition(an.SCANNING);return new Promise(function(ue,H){var Z=S?M.videoConstraints:L.createVideoConstraints(d);if(!Z){re.cancel(),H("videoConstraints should be defined");return}var fe={};(!S||M.aspectRatio)&&(fe.aspectRatio=M.aspectRatio);var Me={onRenderSurfaceReady:function(_e,ce){L.setupUi(_e,ce,M),L.isScanning=!0,L.foreverScan(M,p,T)}};I3.failIfNotSupported().then(function(_e){_e.create(Z).then(function(ce){return ce.render(b.element,fe,Me).then(function(Se){L.renderedCamera=Se,re.execute(),ue(null)}).catch(function(Se){re.cancel(),H(Se)})}).catch(function(ce){re.cancel(),H(_s.errorGettingUserMedia(ce))})}).catch(function(_e){re.cancel(),H(_s.cameraStreamingNotSupported())})})},f.prototype.pause=function(d){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(an.PAUSED),this.showPausedState(),(Sr(d)||d!==!0)&&(d=!1),d&&this.renderedCamera&&this.renderedCamera.pause()},f.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var d=this,g=function(){d.stateManagerProxy.directTransition(an.SCANNING),d.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},f.prototype.getState=function(){return this.stateManagerProxy.getState()},f.prototype.stop=function(){var d=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(an.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var p=function(){if(d.element){var b=document.getElementById(xi.SHADED_REGION_ELEMENT_ID);b&&d.element.removeChild(b)}},A=this;return this.renderedCamera.close().then(function(){return A.renderedCamera=null,A.element&&(A.element.removeChild(A.canvasElement),A.canvasElement=null),p(),A.qrRegion&&(A.qrRegion=null),A.context&&(A.context=null),g.execute(),A.hidePausedState(),A.isScanning=!1,Promise.resolve()})},f.prototype.scanFile=function(d,g){return this.scanFileV2(d,g).then(function(p){return p.decodedText})},f.prototype.scanFileV2=function(d,g){var p=this;if(!d||!(d instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Sr(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(A,b){p.possiblyCloseLastScanImageFile(),p.clearElement(),p.lastScanImageFile=URL.createObjectURL(d);var T=new Image;T.onload=function(){var M=T.width,B=T.height,S=document.getElementById(p.elementId),I=S.clientWidth?S.clientWidth:xi.DEFAULT_WIDTH,L=Math.max(S.clientHeight?S.clientHeight:B,xi.FILE_SCAN_MIN_HEIGHT),re=p.computeCanvasDrawConfig(M,B,I,L);if(g){var ue=p.createCanvasElement(I,L,"qr-canvas-visible");ue.style.display="inline-block",S.appendChild(ue);var H=ue.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=I,H.canvas.height=L,H.drawImage(T,0,0,M,B,re.x,re.y,re.width,re.height)}var Z=xi.FILE_SCAN_HIDDEN_CANVAS_PADDING,fe=Math.max(T.width,re.width),Me=Math.max(T.height,re.height),_e=fe+2*Z,ce=Me+2*Z,Se=p.createCanvasElement(_e,ce);S.appendChild(Se);var Ne=Se.getContext("2d");if(!Ne)throw"Unable to get 2d context from canvas";Ne.canvas.width=_e,Ne.canvas.height=ce,Ne.drawImage(T,0,0,M,B,Z,Z,fe,Me);try{p.qrcode.decodeRobustlyAsync(Se).then(function(Ae){A(Eh.createFromQrcodeResult(Ae))}).catch(b)}catch(Ae){b("QR code parse error, error = ".concat(Ae))}},T.onerror=b,T.onabort=b,T.onstalled=b,T.onsuspend=b,T.src=URL.createObjectURL(d)})},f.prototype.clear=function(){this.clearElement()},f.getCameras=function(){return L3.retrieve()},f.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},f.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},f.prototype.applyVideoConstraints=function(d){if(d){if(!m2.isMediaStreamConstraintsValid(d,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(d)},f.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},f.prototype.getSupportedFormats=function(d){var g=[Re.QR_CODE,Re.AZTEC,Re.CODABAR,Re.CODE_39,Re.CODE_93,Re.CODE_128,Re.DATA_MATRIX,Re.MAXICODE,Re.ITF,Re.EAN_13,Re.EAN_8,Re.PDF_417,Re.RSS_14,Re.RSS_EXPANDED,Re.UPC_A,Re.UPC_E,Re.UPC_EAN_EXTENSION];if(!d||typeof d=="boolean"||!d.formatsToSupport)return g;if(!Array.isArray(d.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(d.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var p=[],A=0,b=d.formatsToSupport;A<b.length;A++){var T=b[A];x3(T)?p.push(T):this.logger.warn("Invalid format: ".concat(T," passed in config, ignoring."))}if(p.length===0)throw"None of formatsToSupport match supported values.";return p},f.prototype.getUseBarCodeDetectorIfSupported=function(d){if(Sr(d))return!0;if(!Sr(d.useBarCodeDetectorIfSupported))return d.useBarCodeDetectorIfSupported!==!1;if(Sr(d.experimentalFeatures))return!0;var g=d.experimentalFeatures;return Sr(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},f.prototype.validateQrboxSize=function(d,g,p){var A=this,b=p.qrbox;this.validateQrboxConfig(b);var T=this.toQrdimensions(d,g,b),M=function(S){if(S<xi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xi.MIN_QR_BOX_SIZE,"px.")},B=function(S){return S>d&&(A.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=d),S};M(T.width),M(T.height),T.width=B(T.width)},f.prototype.validateQrboxConfig=function(d){if(typeof d!="number"&&typeof d!="function"&&(d.width===void 0||d.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},f.prototype.toQrdimensions=function(d,g,p){if(typeof p=="number")return{width:p,height:p};if(typeof p=="function")try{return p(d,g)}catch(A){throw new Error("qrbox config was passed as a function but it failed with unknown error"+A)}return p},f.prototype.setupUi=function(d,g,p){p.isShadedBoxEnabled()&&this.validateQrboxSize(d,g,p);var A=Sr(p.qrbox)?{width:d,height:g}:p.qrbox;this.validateQrboxConfig(A);var b=this.toQrdimensions(d,g,A);b.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var T=p.isShadedBoxEnabled()&&b.height<=g,M={x:0,y:0,width:d,height:g},B=T?this.getShadedRegionBounds(d,g,b):M,S=this.createCanvasElement(B.width,B.height),I={willReadFrequently:!0},L=S.getContext("2d",I);L.canvas.width=B.width,L.canvas.height=B.height,this.element.append(S),T&&this.possiblyInsertShadingElement(this.element,d,g,b),this.createScannerPausedUiElement(this.element),this.qrRegion=B,this.context=L,this.canvasElement=S},f.prototype.createScannerPausedUiElement=function(d){var g=document.createElement("div");g.innerText=_s.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",d.appendChild(g),this.scannerPausedUiElement=g},f.prototype.scanContext=function(d,g){var p=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(A){return d(A.text,Eh.createFromQrcodeResult(A)),p.possiblyUpdateShaders(!0),!0}).catch(function(A){p.possiblyUpdateShaders(!1);var b=_s.codeParseError(A);return g(b,p3.createFrom(b)),!1})},f.prototype.foreverScan=function(d,g,p){var A=this;if(this.shouldScan&&this.renderedCamera){var b=this.renderedCamera.getSurface(),T=b.videoWidth/b.clientWidth,M=b.videoHeight/b.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var B=this.qrRegion.width*T,S=this.qrRegion.height*M,I=this.qrRegion.x*T,L=this.qrRegion.y*M;this.context.drawImage(b,I,L,B,S,0,0,this.qrRegion.width,this.qrRegion.height);var re=function(){A.foreverScanTimeout=setTimeout(function(){A.foreverScan(d,g,p)},A.getTimeoutFps(d.fps))};this.scanContext(g,p).then(function(ue){!ue&&d.disableFlip!==!0?(A.context.translate(A.context.canvas.width,0),A.context.scale(-1,1),A.scanContext(g,p).finally(function(){re()})):re()}).catch(function(ue){A.logger.logError("Error happend while scanning context",ue),re()})}},f.prototype.createVideoConstraints=function(d){if(typeof d=="string")return{deviceId:{exact:d}};if(typeof d=="object"){var g="facingMode",p="deviceId",A={user:!0,environment:!0},b="exact",T=function(H){if(H in A)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},M=Object.keys(d);if(M.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(M.length," keys");var B=Object.keys(d)[0];if(B!==g&&B!==p)throw"Only '".concat(g,"' and '").concat(p,"' ")+" are supported for 'cameraIdOrConfig'";if(B===g){var S=d.facingMode;if(typeof S=="string"){if(T(S))return{facingMode:S}}else if(typeof S=="object")if(b in S){if(T(S["".concat(b)]))return{facingMode:{exact:S["".concat(b)]}}}else throw"'facingMode' should be string or object with"+" ".concat(b," as key.");else{var I=typeof S;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var L=d.deviceId;if(typeof L=="string")return{deviceId:L};if(typeof L=="object"){if(b in L)return{deviceId:{exact:L["".concat(b)]}};throw"'deviceId' should be string or object with"+" ".concat(b," as key.")}else{var re=typeof L;throw"Invalid type of 'deviceId' = ".concat(re)}}}var ue=typeof d;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ue)},f.prototype.computeCanvasDrawConfig=function(d,g,p,A){if(d<=p&&g<=A){var b=(p-d)/2,T=(A-g)/2;return{x:b,y:T,width:d,height:g}}else{var M=d,B=g;return d>p&&(g=p/d*g,d=p),g>A&&(d=A/g*d,g=A),this.logger.log("Image downsampled from "+"".concat(M,"X").concat(B)+" to ".concat(d,"X").concat(g,".")),this.computeCanvasDrawConfig(d,g,p,A)}},f.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var d=document.getElementById(this.elementId);d&&(d.innerHTML="")},f.prototype.possiblyUpdateShaders=function(d){this.qrMatch!==d&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=d?xi.BORDER_SHADER_MATCH_COLOR:xi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=d)},f.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},f.prototype.createCanvasElement=function(d,g,p){var A=d,b=g,T=document.createElement("canvas");return T.style.width="".concat(A,"px"),T.style.height="".concat(b,"px"),T.style.display="none",T.id=Sr(p)?"qr-canvas":p,T},f.prototype.getShadedRegionBounds=function(d,g,p){if(p.width>d||p.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(d-p.width)/2,y:(g-p.height)/2,width:p.width,height:p.height}},f.prototype.possiblyInsertShadingElement=function(d,g,p,A){if(!(g-A.width<1||p-A.height<1)){var b=document.createElement("div");b.style.position="absolute";var T=(g-A.width)/2,M=(p-A.height)/2;if(b.style.borderLeft="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),b.style.borderRight="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),b.style.borderTop="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),b.style.borderBottom="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),b.style.boxSizing="border-box",b.style.top="0px",b.style.bottom="0px",b.style.left="0px",b.style.right="0px",b.id="".concat(xi.SHADED_REGION_ELEMENT_ID),g-A.width<11||p-A.height<11)this.hasBorderShaders=!1;else{var B=5,S=40;this.insertShaderBorders(b,S,B,-B,null,0,!0),this.insertShaderBorders(b,S,B,-B,null,0,!1),this.insertShaderBorders(b,S,B,null,-B,0,!0),this.insertShaderBorders(b,S,B,null,-B,0,!1),this.insertShaderBorders(b,B,S+B,-B,null,-B,!0),this.insertShaderBorders(b,B,S+B,null,-B,-B,!0),this.insertShaderBorders(b,B,S+B,-B,null,-B,!1),this.insertShaderBorders(b,B,S+B,null,-B,-B,!1),this.hasBorderShaders=!0}d.append(b)}},f.prototype.insertShaderBorders=function(d,g,p,A,b,T,M){var B=document.createElement("div");B.style.position="absolute",B.style.backgroundColor=xi.BORDER_SHADER_DEFAULT_COLOR,B.style.width="".concat(g,"px"),B.style.height="".concat(p,"px"),A!==null&&(B.style.top="".concat(A,"px")),b!==null&&(B.style.bottom="".concat(b,"px")),M?B.style.left="".concat(T,"px"):B.style.right="".concat(T,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(B),d.appendChild(B)},f.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},f.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},f.prototype.getTimeoutFps=function(d){return 1e3/d},f})(),Dh;(function(f){f[f.STATUS_DEFAULT=0]="STATUS_DEFAULT",f[f.STATUS_SUCCESS=1]="STATUS_SUCCESS",f[f.STATUS_WARNING=2]="STATUS_WARNING",f[f.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Dh||(Dh={}));function y2({onScanSuccess:f,onClose:d}){const[g,p]=xe.useState(!1),[A,b]=xe.useState(""),[T,M]=xe.useState([]),[B,S]=xe.useState(null),[I,L]=xe.useState(""),re=xe.useRef(null),ue=xe.useRef(0);xe.useEffect(()=>(Rh.getCameras().then(ce=>{if(ce&&ce.length){M(ce);const Se=ce.find(Ne=>Ne.label.toLowerCase().includes("back")||Ne.label.toLowerCase().includes("arrire")||Ne.label.toLowerCase().includes("environment"));S(Se?Se.id:ce[0].id)}else b("Aucune camra dtecte sur cet appareil")}).catch(ce=>{console.error("Erreur rcupration camras:",ce),b("Impossible d'accder  la camra. Vrifiez les permissions.")}),()=>{Me()}),[]);const H=async()=>{if(!B){b("Aucune camra slectionne");return}try{b(""),re.current=new Rh("barcode-reader"),await re.current.start(B,{fps:10,qrbox:{width:250,height:150},aspectRatio:1.777778},Z,fe),p(!0)}catch(ce){console.error("Erreur dmarrage scanner:",ce),b("Erreur de dmarrage du scanner")}},Z=ce=>{const Se=Date.now();if(ce!==I||Se-ue.current>2e3){L(ce),ue.current=Se,navigator.vibrate&&navigator.vibrate(200);const Ne=document.getElementById("barcode-reader");Ne&&(Ne.style.border="4px solid #10b981",setTimeout(()=>{Ne.style.border="2px solid #10b981"},300)),f(ce)}},fe=()=>{},Me=async()=>{if(re.current&&g)try{await re.current.stop(),re.current.clear(),re.current=null,p(!1)}catch(ce){console.error("Erreur arrt scanner:",ce)}},_e=async()=>{if(await Me(),T.length>1){const Se=(T.findIndex(Ne=>Ne.id===B)+1)%T.length;S(T[Se].id)}};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl",children:[w.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-t-xl flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(yh,{className:"w-6 h-6"}),w.jsx("h2",{className:"text-xl font-bold",children:"Scanner Code-Barres"})]}),w.jsx("button",{onClick:d,className:"p-1 hover:bg-green-700 rounded-lg transition",children:w.jsx(wc,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"p-6",children:[A&&w.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-2",children:[w.jsx(Nr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{className:"text-sm",children:A})]}),w.jsx("div",{id:"barcode-reader",className:"rounded-lg overflow-hidden mb-4 bg-black",style:{minHeight:"300px",border:"2px solid #10b981",transition:"border 0.3s"}}),I&&w.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:[w.jsx("p",{className:"text-sm font-medium",children:"Dernier code scann :"}),w.jsx("p",{className:"text-lg font-mono font-bold",children:I})]}),w.jsx("div",{className:"flex gap-3",children:g?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:Me,className:"flex-1 bg-orange-600 text-white py-3 rounded-lg font-medium hover:bg-orange-700 transition",children:"Arrter"}),T.length>1&&w.jsx("button",{onClick:_e,className:"px-4 bg-gray-600 text-white py-3 rounded-lg font-medium hover:bg-gray-700 transition",children:w.jsx(yh,{className:"w-5 h-5"})})]}):w.jsx("button",{onClick:H,disabled:!B,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:"Dmarrer le scan"})}),w.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Positionnez le code-barres dans le cadre vert"})]})]})})}function H3({client:f,onBack:d}){return w.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 shadow-lg sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-green-700 px-3 py-2 rounded-lg hover:bg-green-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsx("h1",{className:"text-xl font-bold",children:"Nouvelle Commande"})]}),w.jsxs("div",{className:"bg-green-700 rounded-lg p-3 text-sm",children:[w.jsx("p",{className:"font-medium",children:f.name||f.nom}),w.jsx("p",{className:"text-green-200 text-xs",children:f.town||""})]})]})}function Ih({type:f,message:d}){if(!d)return null;const g={error:"bg-red-50 border-red-200 text-red-700",success:"bg-green-50 border-green-200 text-green-700"};return w.jsxs("div",{className:`${g[f]} border px-4 py-3 rounded-xl text-sm flex items-start gap-2`,children:[w.jsx(Nr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{children:d})]})}function P3({product:f,index:d,onRemove:g}){const p=f.discountPercent&&f.discountPercent>0,A=f.originalPrice||f.price,b=p?Ol.calculateDiscountedPrice(A,f.discountPercent):f.price,T=(f.quantity*b).toFixed(2);return w.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"font-medium text-sm text-gray-900",children:f.label||f.ref}),p&&w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:[w.jsx(l3,{className:"w-3 h-3"}),"-",f.discountPercent,"%"]})]}),w.jsx("div",{className:"text-xs text-gray-600",children:p?w.jsxs(w.Fragment,{children:[w.jsxs("span",{className:"line-through text-gray-400 mr-1",children:[A.toFixed(2),""]}),w.jsxs("span",{className:"text-green-600 font-medium",children:[b.toFixed(2),""]}),w.jsxs("span",{children:[" x ",f.quantity," = ",T,""]})]}):w.jsxs("span",{children:[f.quantity," x ",f.price.toFixed(2)," = ",T,""]})})]}),w.jsx("button",{onClick:()=>g(d),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:w.jsx(wc,{className:"w-5 h-5"})})]})}function ac({icon:f,title:d,children:g}){const p=f;return w.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p&&w.jsx(p,{className:"w-5 h-5 text-green-600"}),w.jsx("h2",{className:"font-semibold text-gray-900",children:d})]}),g]})}function V3({user:f,client:d,onBack:g}){const[p,A]=xe.useState([]),[b,T]=xe.useState([]),[M,B]=xe.useState([]),[S,I]=xe.useState([]),[L,re]=xe.useState([]),[ue,H]=xe.useState(""),[Z,fe]=xe.useState(""),[Me,_e]=xe.useState(1),[ce,Se]=xe.useState(""),[Ne,Ae]=xe.useState(""),[ee,Ue]=xe.useState(!1),[ie,rt]=xe.useState(!0),[$e,Ee]=xe.useState(!1),[Ge,Ve]=xe.useState(""),[J,Y]=xe.useState(""),[se,Oe]=xe.useState({});xe.useEffect(()=>{ve()},[d.id]),xe.useEffect(()=>{(async()=>{try{if(!Z)T(M);else{const le=await Ua.getProducts({page:0,category:Z});T(Array.isArray(le)?le:[])}}catch{T([])}})()},[Z,M]);const ve=async()=>{try{rt(!0);const[he,le,ke,qe]=await Promise.all([Ua.getProducts({page:0}),M0.getPaymentMethods(),Ua.getCategories(),F0.getClientById(d.id)]),Ye=Array.isArray(he)?he:[];B(Ye),T(Ye),re(Array.isArray(le)?le:[]),I(Array.isArray(ke)?ke:[]),qe&&qe.mode_reglement_id&&Se(String(qe.mode_reglement_id))}catch(he){console.error("Erreur chargement:",he),Ve("Erreur lors du chargement des donnes"),T([]),re([]),I([])}finally{rt(!1)}},Le=async()=>{if(ue===""||Me<1)return;const he=b.find(Ye=>String(Ye.id)===ue);if(!he)return;const le=Number(he.price??he.price_ttc??0);let ke=0,qe=le;try{const Ye=await Ol.getDiscount(he.id,d.id);Ye&&Ye.has_discount&&(ke=Ye.discount_percent,qe=Ol.calculateDiscountedPrice(le,ke))}catch(Ye){console.error("Erreur rcupration rduction:",Ye)}try{const Jt=(await Ua.getProductStock(he.id))?.stock_reel||0,st=p.find(dn=>dn.id===he.id),lt=(st?st.quantity:0)+Me;lt>Jt?(Oe(dn=>({...dn,[he.id]:`Stock insuffisant ! Disponible: ${Jt}, Command: ${lt}`})),Ve(` Attention : stock insuffisant pour ${he.label||he.ref} (disponible: ${Jt})`),setTimeout(()=>Ve(""),5e3)):Oe(dn=>{const Tn={...dn};return delete Tn[he.id],Tn})}catch(Ye){console.error("Erreur vrification stock:",Ye)}A(Ye=>{const Jt=Ye.findIndex(st=>st.id===he.id);if(Jt!==-1){const st=[...Ye];return st[Jt]={...st[Jt],quantity:st[Jt].quantity+Me},st}return[...Ye,{...he,quantity:Me,price:qe,originalPrice:le,discountPercent:ke}]}),H(""),_e(1)},k=he=>{A(p.filter((le,ke)=>ke!==he))},te=async he=>{try{Ve("");const le=await Ua.getProductByBarcode(he);if(le){const ke=Number(le.price||le.price_ttc||0);let qe=0,Ye=ke;try{const st=await Ol.getDiscount(le.id,d.id);st&&st.has_discount&&(qe=st.discount_percent,Ye=Ol.calculateDiscountedPrice(ke,qe))}catch(st){console.error("Erreur rcupration rduction:",st)}A(st=>[...st,{...le,quantity:1,price:Ye,originalPrice:ke,discountPercent:qe}]);const Jt=qe>0?` (-${qe}%)`:"";Y(` Produit ajout : ${le.label||le.ref}${Jt}`),setTimeout(()=>Y(""),2e3)}}catch{Ve(` Code ${he} : Produit non trouv`),setTimeout(()=>Ve(""),3e3)}},be=()=>p.reduce((le,ke)=>le+ke.price*ke.quantity,0).toFixed(2),Ce=async()=>{if(p.length===0){Ve("Veuillez ajouter au moins un produit");return}if(!ce){Ve("Veuillez slectionner un mode de paiement");return}Ee(!0),Ve("");try{const he={socid:d.id,client_name:d.name||d.nom,note_private:Ne||"",mode_reglement_id:parseInt(ce),lines:p.map(ke=>({product_type:0,product_id:ke.id,label:ke.label||ke.ref,qty:ke.quantity,subprice:ke.originalPrice||ke.price,tva_tx:ke.tva_tx||20}))},le=await M0.createProposal(he);if(le.status==="ok"||le.succes==="ok")Y(`Devis ${le.ref} cr avec succs !`),setTimeout(()=>g(),2e3);else throw new Error("Erreur lors de la cration du devis")}catch(he){Ve(he.message||"Erreur lors de la cration du devis")}finally{Ee(!1)}};return ie?w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(Oi,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):w.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[w.jsx(H3,{client:d,onBack:g}),w.jsxs("div",{className:"px-6 py-4 space-y-6",children:[w.jsx(Ih,{type:"error",message:Ge}),w.jsx(Ih,{type:"success",message:J}),w.jsx(ac,{icon:bc,title:"Conseillre",children:w.jsx("input",{type:"text",value:f.login||f.email,disabled:!0,className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-lg text-gray-700"})}),w.jsxs(ac,{icon:Ha,title:"Produits",children:[w.jsx("div",{className:"flex items-center justify-end mb-3",children:w.jsx("button",{onClick:()=>Ue(!ee),className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100",title:"Scanner code-barres EAN-13",children:w.jsx(z0,{className:"w-5 h-5"})})}),ee&&w.jsx(y2,{onScanSuccess:te,onClose:()=>Ue(!1),successMessage:J,errorMessage:Ge}),w.jsxs("div",{className:"space-y-3 mb-4",children:[S.length>0&&w.jsxs("select",{value:Z,onChange:he=>fe(he.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[w.jsx("option",{value:"",children:"Toutes les familles"}),S.map(he=>w.jsx("option",{value:he.id,children:he.label||he.libelle},he.id))]}),w.jsxs("select",{value:ue,onChange:he=>H(he.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",disabled:b.length===0,children:[w.jsx("option",{value:"",children:b.length===0?"Aucun produit":"Slectionner un produit"}),b.map(he=>w.jsxs("option",{value:he.id,children:[he.label||he.ref," - ",Number(he.price??he.price_ttc??0).toFixed(2),""]},he.id))]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{type:"number",min:"1",value:Me,onChange:he=>_e(parseInt(he.target.value)||1),className:"w-24 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Qt"}),w.jsx("button",{onClick:Le,disabled:!ue||Me<1,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300",children:"Ajouter"})]})]}),p.length>0&&w.jsx("div",{className:"space-y-2",children:p.map((he,le)=>w.jsxs("div",{children:[w.jsx(P3,{product:he,index:le,onRemove:k}),se[he.id]&&w.jsxs("div",{className:"mt-1 text-xs text-orange-600 bg-orange-50 px-3 py-1 rounded",children:[" ",se[he.id]]})]},le))})]}),w.jsx(ac,{icon:Vm,title:"Mode de Paiement",children:w.jsxs("select",{value:ce,onChange:he=>Se(he.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[w.jsx("option",{value:"",children:"Slectionner un mode"}),Array.isArray(L)&&L.map(he=>w.jsx("option",{value:he.id,children:he.label||he.libelle||he.code},he.id))]})}),w.jsx(ac,{icon:d2,title:"Commentaire",children:w.jsx("textarea",{value:Ne,onChange:he=>Ae(he.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 h-24 resize-none",placeholder:"Informations complmentaires..."})}),p.length>0&&w.jsx("div",{className:"bg-green-600 text-white rounded-xl p-4 shadow-lg",children:w.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[w.jsx("span",{children:"Total"}),w.jsxs("span",{children:[be()," "]})]})})]}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg",children:w.jsx("button",{onClick:Ce,disabled:p.length===0||!ce||$e,className:"w-full bg-green-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-green-700 disabled:bg-gray-300 flex items-center justify-center gap-2",children:$e?w.jsxs(w.Fragment,{children:[w.jsx(Oi,{className:"w-5 h-5 animate-spin"}),"Gnration en cours..."]}):"Gnrer le Devis"})})]})}function b2(f){const d=Number(f?.status??f?.statut),g=Number(f?.shipment_status);return d===0?"draft":d===1?"open":d===2?g===2?"delivered":g===1?"shipping":"open":"unknown"}const Mh={draft:{label:"Envoy",color:"bg-gray-100 text-gray-700",icon:Is},open:{label:"Valid",color:"bg-blue-100 text-blue-700",icon:Dl},shipping:{label:"En cours de livraison",color:"bg-orange-100 text-orange-700",icon:vr},delivered:{label:"Livr",color:"bg-green-100 text-green-700",icon:ua},unknown:{label:"Inconnu",color:"bg-zinc-100 text-zinc-700",icon:Nr}};function G3(f){const d=Number(f);return Number.isFinite(d)?d.toFixed(2):"N/A"}function X3({proposal:f,onView:d,onAcknowledgeModification:g}){const p=b2(f),A=Mh[p]??Mh.unknown,b=A.icon,M=!!JSON.parse(localStorage.getItem("a2s_acknowledged_proposals")||"{}")[f.id],B=f.modified_by_other===!0&&!M;return w.jsxs("div",{className:"w-full",children:[B&&w.jsxs("div",{className:"bg-orange-50 border border-orange-300 rounded-t-xl p-3 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(jm,{className:"w-5 h-5 text-orange-600"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Devis modifi"}),w.jsx("p",{className:"text-xs text-orange-700",children:"Ce devis a t modifi dans Dolibarr"})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:S=>{S.stopPropagation(),g(f.id,"refuse")},className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Refuser"}),w.jsx("button",{onClick:S=>{S.stopPropagation(),g(f.id,"accept")},className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"Accepter"})]})]}),w.jsx("button",{onClick:()=>d(f),className:`w-full bg-white p-4 shadow-sm border border-gray-200 hover:shadow-md hover:border-green-300 transition-all text-left ${B?"rounded-b-xl border-t-0":"rounded-xl"}`,children:w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{className:"text-xs font-mono bg-gray-100 text-gray-700 px-2 py-1 rounded",children:f.ref}),w.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded ${A.color} flex items-center gap-1`,children:[w.jsx(b,{className:"w-3 h-3"}),A.label]})]}),w.jsx("h3",{className:"font-semibold text-gray-900",children:f.client_name||`Client #${f.socid}`}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(f.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-lg font-bold text-green-600",children:[G3(f.total_ttc)," "]}),w.jsxs("p",{className:"text-xs text-gray-500",children:[f.lines?.length||0," produit(s)"]})]})]})})]})}function Y3({user:f,onBack:d,onProposalSelect:g}){const[p,A]=xe.useState([]),[b,T]=xe.useState("all"),[M,B]=xe.useState(!0),[S,I]=xe.useState(!1),[L,re]=xe.useState("");xe.useEffect(()=>{ue()},[]);const ue=async(ie=!1)=>{try{ie?I(!0):B(!0);const rt=await M0.getProposals();A(Array.isArray(rt)?rt:[]),re("")}catch{re("Impossible de charger les devis")}finally{B(!1),I(!1)}},H=()=>{ue(!0)},Z=ie=>{const rt=JSON.parse(localStorage.getItem("a2s_acknowledged_proposals")||"{}");return ie.modified_by_other===!0&&!rt[ie.id]},fe=ie=>b2(ie),Me=p.filter(ie=>{const rt=fe(ie);return b==="all"?!0:b==="modified"?Z(ie):b==="draft"?rt==="draft":b==="open"?rt==="open":b==="shipping"?rt==="shipping":b==="delivered"?rt==="delivered":!0}),_e=p.filter(ie=>Z(ie)).length,ce=p.filter(ie=>fe(ie)==="draft").length,Se=p.filter(ie=>fe(ie)==="open").length,Ne=p.filter(ie=>fe(ie)==="shipping").length,Ae=p.filter(ie=>fe(ie)==="delivered").length,ee=ie=>{g&&ie.id&&g(ie.id)},Ue=async(ie,rt)=>{try{const $e=JSON.parse(localStorage.getItem("a2s_acknowledged_proposals")||"{}");$e[ie]={action:rt,timestamp:Date.now()},localStorage.setItem("a2s_acknowledged_proposals",JSON.stringify($e)),await ue()}catch($e){console.error("Error acknowledging modification:",$e)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 shadow-lg sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-green-700 px-3 py-2 rounded-lg hover:bg-green-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Dl,{className:"w-6 h-6"}),w.jsx("h1",{className:"text-xl font-bold",children:"Mes Devis"})]})]}),w.jsx("button",{onClick:H,disabled:S,className:"p-2 hover:bg-green-700 rounded-lg transition disabled:opacity-50",title:"Actualiser les devis",children:w.jsx(h2,{className:`w-5 h-5 ${S?"animate-spin":""}`})})]}),w.jsxs("p",{className:"text-green-100 text-sm",children:["Connect : ",f.login||f.email]})]}),w.jsxs("div",{className:"px-6 py-4",children:[w.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[w.jsxs("button",{onClick:()=>T("all"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition ${b==="all"?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:["Tous (",p.length,")"]}),_e>0&&w.jsxs("button",{onClick:()=>T("modified"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="modified"?"bg-orange-600 text-white":"bg-orange-50 text-orange-700 border border-orange-300"}`,children:[w.jsx($m,{className:"w-4 h-4"}),"Modifis (",_e,")"]}),w.jsxs("button",{onClick:()=>T("draft"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="draft"?"bg-gray-700 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(Is,{className:"w-4 h-4"}),"Envoys (",ce,")"]}),w.jsxs("button",{onClick:()=>T("open"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="open"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(Dl,{className:"w-4 h-4"}),"Valids (",Se,")"]}),w.jsxs("button",{onClick:()=>T("shipping"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="shipping"?"bg-orange-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(vr,{className:"w-4 h-4"}),"En cours de livraison (",Ne,")"]}),w.jsxs("button",{onClick:()=>T("delivered"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="delivered"?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(ua,{className:"w-4 h-4"}),"Livrs (",Ae,")"]})]}),L&&w.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm flex items-start gap-2",children:[w.jsx(Nr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{children:L})]}),M?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx(Oi,{className:"w-12 h-12 text-green-600 animate-spin mb-4"}),w.jsx("p",{className:"text-gray-500",children:"Chargement des devis..."})]}):w.jsx("div",{className:"space-y-3",children:Me.length>0?Me.map(ie=>w.jsx(X3,{proposal:ie,onView:ee,onAcknowledgeModification:Ue},ie.id)):w.jsxs("div",{className:"text-center py-12",children:[w.jsx(Dl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun devis trouv"}),w.jsx("p",{className:"text-sm text-gray-400",children:b==="all"?"Crez votre premier devis":b==="modified"?"Aucun devis modifi en attente":b==="draft"?"Aucun devis envoy":b==="open"?"Aucun devis valid":b==="shipping"?"Aucun devis en cours de livraison":"Aucun devis livr"})]})})]})]})}function q3({proposal:f,onBack:d}){const g=b=>b?new Date(parseInt(b)*1e3).toLocaleDateString("fr-FR"):"",p=b=>{const T=Number(b.statut),M=Number(b.shipment?.statut);return T===0?"Brouillon":T===1?"Valide":T===2?M===2?"Livr":M===1?"En cours de livraison":"Valide":"Inconnu"},A=b=>{const T=Number(b.statut),M=Number(b.shipment?.statut);return T===0?"bg-gray-100 text-gray-800":T===1?"bg-blue-100 text-blue-800":T===2?M===2?"bg-green-100 text-green-800":M===1?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"};return w.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 shadow-lg sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-green-700 px-3 py-2 rounded-lg hover:bg-green-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsxs("h1",{className:"text-xl font-bold",children:["Devis ",f.ref]})]}),w.jsx("div",{className:"bg-green-700 rounded-lg p-3 space-y-2",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:f.socname||"Client"}),w.jsxs("p",{className:"text-sm text-green-200",children:[g(f.date)," ",f.date_livraison&&` Livraison: ${g(f.date_livraison)}`]})]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A(f)}`,children:p(f)})]})})]})}function Z3({line:f}){const d=(parseFloat(f.qty||0)*parseFloat(f.subprice||0)).toFixed(2),g=parseFloat(f.remise_percent||0),p=g>0?(d*(1-g/100)).toFixed(2):d;return w.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[w.jsx("div",{className:"flex justify-between items-start mb-2",children:w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-medium text-gray-900",children:f.product_label||f.desc||"Produit"}),f.product_ref&&w.jsxs("p",{className:"text-xs text-gray-500",children:["Rf: ",f.product_ref]})]})}),w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsxs("div",{className:"text-gray-600",children:[w.jsxs("span",{children:[f.qty," x ",parseFloat(f.subprice).toFixed(2),""]}),g>0&&w.jsxs("span",{className:"ml-2 text-green-600",children:["(-",g,"%)"]})]}),w.jsxs("div",{className:"font-medium text-gray-900",children:[g>0&&w.jsxs("span",{className:"line-through text-gray-400 mr-2",children:[d,""]}),w.jsxs("span",{children:[p,""]})]})]}),f.desc&&f.desc!==f.product_label&&w.jsx("p",{className:"text-xs text-gray-500 mt-2",children:f.desc})]})}function Q3({proposalId:f,onBack:d}){const[g,p]=xe.useState(null),[A,b]=xe.useState(!0),[T,M]=xe.useState("");xe.useEffect(()=>{B()},[f]);const B=async()=>{try{b(!0);const ue=await vm.getProposalById(f);p(ue)}catch(ue){console.error("Erreur chargement devis:",ue),M("Impossible de charger le devis")}finally{b(!1)}};if(A)return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(Oi,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Chargement du devis..."})]})});if(T||!g)return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md",children:[w.jsx(Nr,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),w.jsx("p",{className:"text-red-800 text-center",children:T||"Devis introuvable"}),w.jsx("button",{onClick:d,className:"mt-4 w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700",children:"Retour"})]})});const S=g.lines||[],I=parseFloat(g.total_ht||0),L=parseFloat(g.total_ttc||0),re=L-I;return w.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[w.jsx(q3,{proposal:g,onBack:d}),w.jsxs("div",{className:"px-6 py-4 space-y-4",children:[g.shipment&&w.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx(vr,{className:"w-5 h-5 text-orange-600"}),w.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Informations de livraison"})]}),w.jsxs("div",{className:"space-y-2 text-sm",children:[g.shipment.ref&&w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-orange-700",children:"Rfrence expdition:"}),w.jsx("span",{className:"font-medium text-orange-900",children:g.shipment.ref})]}),g.shipment.date_delivery&&parseInt(g.shipment.date_delivery)>0&&w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-orange-700",children:"Date de livraison:"}),w.jsx("span",{className:"font-medium text-orange-900",children:new Date(parseInt(g.shipment.date_delivery)*1e3).toLocaleDateString("fr-FR")})]}),g.shipment.shipping_method&&w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-orange-700",children:"Mthode de livraison:"}),w.jsx("span",{className:"font-medium text-orange-900",children:g.shipment.shipping_method})]}),g.shipment.tracking_number&&w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-orange-700",children:"Numro de suivi:"}),w.jsx("span",{className:"font-medium text-orange-900",children:g.shipment.tracking_number})]})]})]}),g.note_private&&w.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[w.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Note interne"}),w.jsx("p",{className:"text-sm text-blue-800",children:g.note_private})]}),g.note_public&&w.jsxs("div",{className:"bg-gray-100 border border-gray-200 rounded-lg p-4",children:[w.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Note"}),w.jsx("p",{className:"text-sm text-gray-700",children:g.note_public})]}),w.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx(Ha,{className:"w-5 h-5 text-green-600"}),w.jsxs("h2",{className:"font-semibold text-gray-900",children:["Produits (",S.length,")"]})]}),w.jsx("div",{className:"space-y-3",children:S.map((ue,H)=>w.jsx(Z3,{line:ue},H))}),S.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucun produit"})]}),w.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm space-y-2",children:[w.jsxs("div",{className:"flex justify-between text-gray-700",children:[w.jsx("span",{children:"Total HT"}),w.jsxs("span",{className:"font-medium",children:[I.toFixed(2)," "]})]}),w.jsxs("div",{className:"flex justify-between text-gray-700",children:[w.jsx("span",{children:"TVA"}),w.jsxs("span",{className:"font-medium",children:[re.toFixed(2)," "]})]}),w.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-bold text-gray-900",children:[w.jsx("span",{children:"Total TTC"}),w.jsxs("span",{children:[L.toFixed(2)," "]})]})]})]})]})}function K3({user:f,onClientSelect:d,onBack:g,onLogout:p}){const[A,b]=xe.useState(""),[T,M]=xe.useState([]),[B,S]=xe.useState([]),[I,L]=xe.useState(!0),[re,ue]=xe.useState("");return xe.useEffect(()=>{(async()=>{try{L(!0);const Z=await F0.getClients({page:0});M(Z),S(Z)}catch(Z){console.error("Erreur chargement clients:",Z),ue("Impossible de charger les clients")}finally{L(!1)}})()},[]),xe.useEffect(()=>{if(!A){S(T);return}const H=A.toLowerCase(),Z=T.filter(fe=>fe.name?.toLowerCase().includes(H)||fe.nom?.toLowerCase().includes(H)||fe.code_client?.toLowerCase().includes(H)||fe.email?.toLowerCase().includes(H)||fe.town?.toLowerCase().includes(H));S(Z)},[A,T]),w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-700 px-3 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsx("h1",{className:"text-xl font-bold",children:"Sellout - Client"})]}),w.jsx("button",{onClick:p,className:"text-sm bg-blue-700 px-4 py-2 rounded-lg hover:bg-blue-800",children:"Dconnexion"})]}),w.jsxs("div",{className:"flex items-center bg-white rounded-xl px-4 py-3",children:[w.jsx(Il,{className:"w-5 h-5 text-gray-400 mr-3"}),w.jsx("input",{type:"text",value:A,onChange:H=>b(H.target.value),placeholder:"Rechercher un client...",className:"flex-1 text-gray-900 focus:outline-none"}),A&&w.jsx("button",{onClick:()=>b(""),children:w.jsx(wc,{className:"w-5 h-5 text-gray-400"})})]})]}),w.jsxs("div",{className:"px-6 py-4",children:[w.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Connect en tant que: ",w.jsx("span",{className:"font-medium text-gray-900",children:f.login||f.email})]}),re&&w.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm mb-4",children:re}),I?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx(Oi,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),w.jsx("p",{className:"text-gray-500",children:"Chargement des clients..."})]}):w.jsx("div",{className:"space-y-3",children:B.length>0?B.map(H=>w.jsx("button",{onClick:()=>d(H),className:"w-full bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all text-left",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"flex items-center gap-2 mb-1",children:w.jsx("span",{className:"text-xs font-mono bg-blue-100 text-blue-700 px-2 py-1 rounded",children:H.code_client||H.id})}),w.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:H.name||H.nom||"Client sans nom"}),H.email&&w.jsx("p",{className:"text-sm text-gray-600",children:H.email}),H.town&&w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.town})]}),w.jsx(f2,{className:"w-5 h-5 text-gray-400 transform rotate-180"})]})},H.id)):w.jsxs("div",{className:"text-center py-12",children:[w.jsx(Il,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500",children:A?"Aucun client trouv":"Aucun client disponible"})]})})]})]})}function Bh({type:f,message:d}){if(!d)return null;const g={error:"bg-red-50 border-red-200 text-red-700",success:"bg-green-50 border-green-200 text-green-700"};return w.jsxs("div",{className:`${g[f]} border px-4 py-3 rounded-xl text-sm flex items-start gap-2`,children:[w.jsx(Nr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{children:d})]})}function N0({icon:f,title:d,children:g}){return w.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f&&w.jsx(f,{className:"w-5 h-5 text-blue-600"}),w.jsx("h2",{className:"font-semibold text-gray-900",children:d})]}),g]})}function W3({product:f,index:d,onRemove:g}){const p=(f.quantity*f.price).toFixed(2);return w.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-medium text-sm text-gray-900",children:f.label||f.ref}),w.jsxs("p",{className:"text-xs text-gray-600",children:[f.quantity," x ",f.price.toFixed(2)," = ",p,""]})]}),w.jsx("button",{onClick:()=>g(d),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:""})]})}function J3({user:f,client:d,onBack:g}){const[p,A]=xe.useState([]),[b,T]=xe.useState([]),[M,B]=xe.useState(""),[S,I]=xe.useState(1),[L,re]=xe.useState(""),[ue,H]=xe.useState(null),[Z,fe]=xe.useState(null),[Me,_e]=xe.useState("pending"),[ce,Se]=xe.useState(""),[Ne,Ae]=xe.useState(!1),[ee,Ue]=xe.useState(!0),[ie,rt]=xe.useState(!1),[$e,Ee]=xe.useState(""),[Ge,Ve]=xe.useState("");xe.useEffect(()=>{(async()=>{try{Ue(!0);const Le=await Ua.getProducts({page:0});A(Array.isArray(Le)?Le:[])}catch(Le){console.error("Erreur chargement produits:",Le),Ee("Impossible de charger les produits"),A([])}finally{Ue(!1)}})()},[d.id]),xe.useEffect(()=>{if(!navigator.geolocation){_e("unsupported"),Se("Golocalisation non supporte par ce navigateur");return}_e("pending"),navigator.geolocation.getCurrentPosition(ve=>{H(ve.coords.latitude),fe(ve.coords.longitude),_e("ok"),Se("Localisation obtenue automatiquement")},ve=>{console.error("Geolocation error",ve),_e("error"),Se("Localisation indisponible (permissions refuses ou erreur)")},{enableHighAccuracy:!0,timeout:8e3,maximumAge:6e4})},[d.id]);const J=()=>{if(M===""||S<1)return;const ve=p.find(k=>String(k.id)===M);if(!ve)return;const Le=Number(ve.price??ve.price_ttc??0);T(k=>{const te=k.findIndex(be=>be.id===ve.id);if(te!==-1){const be=[...k];return be[te]={...be[te],quantity:be[te].quantity+S},be}return[...k,{...ve,quantity:S,price:Le}]}),B(""),I(1)},Y=ve=>{T(b.filter((Le,k)=>k!==ve))},se=async ve=>{try{Ee("");const Le=await Ua.getProductByBarcode(ve);Le&&(T(k=>[...k,{...Le,quantity:1,price:Le.price||Le.price_ttc||0}]),Ve(` Produit ajout : ${Le.label||Le.ref}`),setTimeout(()=>Ve(""),2e3))}catch{Ee(` Code ${ve} : Produit non trouv`),setTimeout(()=>Ee(""),3e3)}},Oe=async()=>{if(b.length===0){Ee("Veuillez ajouter au moins un produit");return}rt(!0),Ee(""),Ve("");try{for(const ve of b){const Le=ue!==null?Number(ue):void 0,k=Z!==null?Number(Z):void 0;await Sm.createSale({thirdparty_id:d.id,product_id:ve.id,qty:ve.quantity,unit_price:ve.price,salesrep_id:f?.id||f?.rowid,note:L,source:"b2b-front",location_label:Me==="ok"?"geolocation":void 0,location_latitude:Le,location_longitude:k})}Ve("Vente sellout envoye avec succs"),T([]),re(""),Ae(!1),setTimeout(()=>g(),1500)}catch(ve){console.error("Sellout error",ve),Ee(ve.message||"Erreur lors de l'envoi du sellout")}finally{rt(!1)}};return ee?w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(Oi,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):w.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[w.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 shadow-lg sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-blue-700 px-3 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsx("h1",{className:"text-xl font-bold",children:"Sellout"})]}),w.jsxs("div",{className:"bg-blue-700 rounded-lg p-3 text-sm",children:[w.jsx("p",{className:"font-medium",children:d.name||d.nom}),w.jsxs("p",{className:"text-blue-200 text-xs",children:[d.email||""," - ",d.code_client||d.id]})]})]}),w.jsxs("div",{className:"px-6 py-4 space-y-6",children:[w.jsx(Bh,{type:"error",message:$e}),w.jsx(Bh,{type:"success",message:Ge}),w.jsx(N0,{icon:bc,title:"Conseiller",children:w.jsx("input",{type:"text",value:f.login||f.email,disabled:!0,className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-lg text-gray-700"})}),w.jsxs(N0,{icon:Ha,title:"Produits vendus",children:[w.jsx("div",{className:"flex items-center justify-end mb-3",children:w.jsx("button",{onClick:()=>Ae(!Ne),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",title:"Scanner code-barres",children:w.jsx(z0,{className:"w-5 h-5"})})}),Ne&&w.jsx(y2,{onScanSuccess:se,onClose:()=>Ae(!1),successMessage:Ge,errorMessage:$e}),w.jsxs("div",{className:"space-y-3 mb-4",children:[w.jsxs("select",{value:M,onChange:ve=>B(ve.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:p.length===0,children:[w.jsx("option",{value:"",children:p.length===0?"Aucun produit":"Slectionner un produit"}),p.map(ve=>w.jsxs("option",{value:ve.id,children:[ve.label||ve.ref," - ",Number(ve.price??ve.price_ttc??0).toFixed(2),""]},ve.id))]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{type:"number",min:"1",value:S,onChange:ve=>I(parseInt(ve.target.value)||1),className:"w-24 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Qt"}),w.jsx("button",{onClick:J,disabled:!M||S<1,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300",children:"Ajouter"})]})]}),b.length>0&&w.jsx("div",{className:"space-y-2",children:b.map((ve,Le)=>w.jsx(W3,{product:ve,index:Le,onRemove:Y},Le))})]}),w.jsx(N0,{icon:d2,title:"Commentaire",children:w.jsx("textarea",{value:L,onChange:ve=>re(ve.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 h-24 resize-none",placeholder:"Informations complmentaires..."})})]}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg",children:w.jsx("button",{onClick:Oe,disabled:b.length===0||ie,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-700 disabled:bg-gray-300 flex items-center justify-center gap-2",children:ie?w.jsxs(w.Fragment,{children:[w.jsx(Oi,{className:"w-5 h-5 animate-spin"}),"Envoi..."]}):"Envoyer le Sellout"})})]})}const Lh={0:{label:"Brouillon",color:"bg-gray-100 text-gray-700",icon:Is},1:{label:"Valid",color:"bg-blue-100 text-blue-700",icon:Ha},2:{label:"Livr",color:"bg-green-100 text-green-700",icon:ua}};function jh(f){return f?(typeof f=="number"?new Date(f*1e3):new Date(f)).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"N/A"}function $3(f){const d=Number(f);return Number.isFinite(d)?d.toFixed(2):"N/A"}function ep({shipment:f,onView:d}){const g=Number(f.statut||f.fk_statut||0),p=Lh[g]||Lh[0],A=p.icon;return w.jsx("button",{onClick:()=>d(f),className:"w-full bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md hover:border-purple-300 transition-all text-left",children:w.jsxs("div",{className:"flex items-start justify-between mb-3",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{className:"text-xs font-mono bg-gray-100 text-gray-700 px-2 py-1 rounded",children:f.ref}),w.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded ${p.color} flex items-center gap-1`,children:[w.jsx(A,{className:"w-3 h-3"}),p.label]})]}),w.jsx("h3",{className:"font-semibold text-gray-900",children:f.client_name||`Client #${f.socid}`}),w.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cr le ",jh(f.date_creation)]}),f.date_delivery&&w.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Livraison prvue : ",jh(f.date_delivery)]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[$3(f.total_ttc)," "]}),w.jsxs("p",{className:"text-xs text-gray-500",children:[f.lines?.length||0," produit(s)"]})]})]})})}function tp({user:f,onBack:d,onShipmentSelect:g}){const[p,A]=xe.useState([]),[b,T]=xe.useState("all"),[M,B]=xe.useState(!0),[S,I]=xe.useState(!1),[L,re]=xe.useState("");xe.useEffect(()=>{ue()},[]);const ue=async(Ne=!1)=>{try{Ne?I(!0):B(!0);const Ae=await cc.getShipments();A(Array.isArray(Ae)?Ae:[]),re("")}catch(Ae){console.error("Error loading shipments:",Ae),re("Impossible de charger les livraisons")}finally{B(!1),I(!1)}},H=()=>{ue(!0)},Z=Ne=>Number(Ne.statut||Ne.fk_statut||0),fe=p.filter(Ne=>{const Ae=Z(Ne);return b==="all"?!0:b==="draft"?Ae===0:b==="validated"?Ae===1:b==="delivered"?Ae===2:!0}),Me=p.filter(Ne=>Z(Ne)===0).length,_e=p.filter(Ne=>Z(Ne)===1).length,ce=p.filter(Ne=>Z(Ne)===2).length,Se=Ne=>{g&&Ne.id&&g(Ne.id)};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsxs("div",{className:"bg-purple-600 text-white px-6 py-4 shadow-lg sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-purple-700 px-3 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(vr,{className:"w-6 h-6"}),w.jsx("h1",{className:"text-xl font-bold",children:"Mes Livraisons"})]})]}),w.jsx("button",{onClick:H,disabled:S,className:"p-2 hover:bg-purple-700 rounded-lg transition disabled:opacity-50",title:"Actualiser les livraisons",children:w.jsx(h2,{className:`w-5 h-5 ${S?"animate-spin":""}`})})]}),w.jsxs("p",{className:"text-purple-100 text-sm",children:["Connect : ",f.login||f.email]})]}),w.jsxs("div",{className:"px-6 py-4",children:[w.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[w.jsxs("button",{onClick:()=>T("all"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition ${b==="all"?"bg-purple-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:["Tous (",p.length,")"]}),w.jsxs("button",{onClick:()=>T("draft"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="draft"?"bg-gray-700 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(Is,{className:"w-4 h-4"}),"Brouillons (",Me,")"]}),w.jsxs("button",{onClick:()=>T("validated"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="validated"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(Ha,{className:"w-4 h-4"}),"Valids (",_e,")"]}),w.jsxs("button",{onClick:()=>T("delivered"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition flex items-center gap-2 ${b==="delivered"?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[w.jsx(ua,{className:"w-4 h-4"}),"Livrs (",ce,")"]})]}),L&&w.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm flex items-start gap-2",children:[w.jsx(Nr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{children:L})]}),M?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx(Oi,{className:"w-12 h-12 text-purple-600 animate-spin mb-4"}),w.jsx("p",{className:"text-gray-500",children:"Chargement des livraisons..."})]}):w.jsx("div",{className:"space-y-3",children:fe.length>0?fe.map(Ne=>w.jsx(ep,{shipment:Ne,onView:Se},Ne.id)):w.jsxs("div",{className:"text-center py-12",children:[w.jsx(vr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune livraison trouve"}),w.jsx("p",{className:"text-sm text-gray-400",children:b==="all"?"Aucune livraison disponible":b==="draft"?"Aucune livraison en brouillon":b==="validated"?"Aucune livraison valide":"Aucune livraison effectue"})]})})]})]})}const Uh={0:{label:"Brouillon",color:"bg-gray-100 text-gray-700",icon:Is},1:{label:"Valid",color:"bg-blue-100 text-blue-700",icon:Ha},2:{label:"Livr",color:"bg-green-100 text-green-700",icon:ua}};function T0(f){return f?(typeof f=="number"?new Date(f*1e3):new Date(f)).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"N/A"}function Ts({icon:f,title:d,children:g}){return w.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f&&w.jsx(f,{className:"w-5 h-5 text-purple-600"}),w.jsx("h2",{className:"font-semibold text-gray-900",children:d})]}),g]})}function np({onSign:f,onClear:d}){const g=xe.useRef(null),[p,A]=xe.useState(!1),[b,T]=xe.useState(!1),M=re=>{const ue=g.current,H=ue.getBoundingClientRect(),Z=ue.width/H.width,fe=ue.height/H.height;return re.touches?{x:(re.touches[0].clientX-H.left)*Z,y:(re.touches[0].clientY-H.top)*fe}:{x:(re.clientX-H.left)*Z,y:(re.clientY-H.top)*fe}},B=re=>{re.preventDefault();const H=g.current.getContext("2d"),Z=M(re);H.beginPath(),H.moveTo(Z.x,Z.y),A(!0)},S=re=>{if(!p)return;re.preventDefault();const H=g.current.getContext("2d"),Z=M(re);H.lineTo(Z.x,Z.y),H.strokeStyle="#1e293b",H.lineWidth=2,H.lineCap="round",H.lineJoin="round",H.stroke(),T(!0)},I=()=>{A(!1),b&&f(g.current.toDataURL())},L=()=>{const re=g.current;re.getContext("2d").clearRect(0,0,re.width,re.height),T(!1),d()};return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 relative",children:[w.jsx("canvas",{ref:g,width:400,height:200,className:"w-full touch-none",onMouseDown:B,onMouseMove:S,onMouseUp:I,onMouseLeave:I,onTouchStart:B,onTouchMove:S,onTouchEnd:I}),!b&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:w.jsx("p",{className:"text-gray-400 text-sm",children:"Signez ici"})})]}),w.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition",children:[w.jsx(c3,{className:"w-4 h-4"}),"Effacer la signature"]})]})}function ip({shipmentId:f,onBack:d}){const[g,p]=xe.useState(null),[A,b]=xe.useState(!0),[T,M]=xe.useState(""),[B,S]=xe.useState(""),[I,L]=xe.useState(!1),[re,ue]=xe.useState(null),[H,Z]=xe.useState(!1);xe.useEffect(()=>{fe()},[f]);const fe=async()=>{try{b(!0),M("");const Ae=await cc.getShipmentById(f);p(Ae)}catch(Ae){console.error("Error loading shipment:",Ae),M("Impossible de charger la livraison")}finally{b(!1)}},Me=async()=>{if(!re){M("Veuillez signer avant de valider la livraison");return}try{L(!0),M(""),Number(g.statut||g.fk_statut||0)===0&&await cc.validateShipment(f),await cc.closeShipment(f),S("Livraison signe et valide avec succs !"),Z(!1),await fe(),setTimeout(()=>d(),2e3)}catch(Ae){console.error("Error validating shipment:",Ae),M(Ae.message||"Erreur lors de la validation de la livraison")}finally{L(!1)}};if(A)return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(Oi,{className:"w-12 h-12 text-purple-600 animate-spin mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Chargement de la livraison..."})]})});if(!g)return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(Nr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Livraison non trouve"}),w.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Retour"})]})});const _e=Number(g.statut||g.fk_statut||0),ce=Uh[_e]||Uh[0],Se=ce.icon,Ne=_e<2;return w.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[w.jsx("div",{className:"bg-purple-600 text-white px-6 py-4 shadow-lg sticky top-0 z-10",children:w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-purple-700 px-3 py-2 rounded-lg hover:bg-purple-800 transition-colors",children:[w.jsx(fa,{className:"w-5 h-5"}),w.jsx("span",{className:"text-sm font-medium",children:"Retour"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(vr,{className:"w-5 h-5"}),w.jsx("h1",{className:"text-lg font-bold",children:g.ref})]}),w.jsxs("span",{className:`inline-flex items-center gap-1 text-xs font-medium px-2 py-1 rounded mt-1 ${ce.color}`,children:[w.jsx(Se,{className:"w-3 h-3"}),ce.label]})]})]})}),w.jsxs("div",{className:"px-6 py-4 space-y-4",children:[T&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm flex items-start gap-2",children:[w.jsx(Nr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{children:T})]}),B&&w.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl text-sm flex items-start gap-2",children:[w.jsx(ua,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),w.jsx("span",{children:B})]}),w.jsx(Ts,{icon:bc,title:"Client",children:w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"font-medium text-gray-900",children:g.client_name||`Client #${g.socid}`}),g.client_address&&w.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[w.jsx(Qm,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),w.jsxs("span",{children:[g.client_address,g.client_zip&&`, ${g.client_zip}`,g.client_town&&` ${g.client_town}`]})]}),g.client_phone&&w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[w.jsx(n3,{className:"w-4 h-4"}),w.jsx("a",{href:`tel:${g.client_phone}`,className:"text-purple-600 hover:underline",children:g.client_phone})]}),g.client_email&&w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[w.jsx(qm,{className:"w-4 h-4"}),w.jsx("a",{href:`mailto:${g.client_email}`,className:"text-purple-600 hover:underline",children:g.client_email})]})]})}),w.jsx(Ts,{icon:Is,title:"Dates",children:w.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:"Cr le"}),w.jsx("p",{className:"font-medium",children:T0(g.date_creation)})]}),g.date_delivery&&w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:"Livraison prvue"}),w.jsx("p",{className:"font-medium",children:T0(g.date_delivery)})]}),g.date_valid&&w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:"Valid le"}),w.jsx("p",{className:"font-medium",children:T0(g.date_valid)})]})]})}),w.jsx(Ts,{icon:Ha,title:"Produits",children:g.lines&&g.lines.length>0?w.jsx("div",{className:"space-y-3",children:g.lines.map((Ae,ee)=>w.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-medium text-sm text-gray-900",children:Ae.label||Ae.product_label||Ae.desc||`Produit #${Ae.fk_product}`}),w.jsxs("p",{className:"text-xs text-gray-600",children:["Rf: ",Ae.product_ref||Ae.ref||"N/A"]})]}),w.jsx("div",{className:"text-right",children:w.jsxs("p",{className:"font-bold text-purple-600",children:["x ",Ae.qty||Ae.qty_shipped||1]})})]},ee))}):w.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun produit"})}),g.origin_ref&&w.jsx(Ts,{icon:vr,title:"Commande d'origine",children:w.jsx("p",{className:"font-mono text-sm bg-gray-100 px-3 py-2 rounded",children:g.origin_ref})}),Ne&&H&&w.jsx(Ts,{icon:bh,title:"Signature du client",children:w.jsx(np,{onSign:Ae=>ue(Ae),onClear:()=>ue(null)})}),g.tracking_number&&w.jsx(Ts,{icon:vr,title:"Suivi",children:w.jsx("p",{className:"font-mono text-sm bg-gray-100 px-3 py-2 rounded",children:g.tracking_number})})]}),Ne&&w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg",children:H?w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>{Z(!1),ue(null)},className:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-bold hover:bg-gray-300",children:"Annuler"}),w.jsx("button",{onClick:Me,disabled:!re||I,className:"flex-1 bg-green-600 text-white py-4 rounded-xl font-bold hover:bg-green-700 disabled:bg-gray-300 flex items-center justify-center gap-2",children:I?w.jsxs(w.Fragment,{children:[w.jsx(Oi,{className:"w-5 h-5 animate-spin"}),"Validation..."]}):w.jsxs(w.Fragment,{children:[w.jsx(ua,{className:"w-5 h-5"}),"Valider"]})})]}):w.jsxs("button",{onClick:()=>Z(!0),className:"w-full bg-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-purple-700 flex items-center justify-center gap-2",children:[w.jsx(bh,{className:"w-5 h-5"}),"Signer la livraison"]})}),_e===2&&w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-green-50 border-t border-green-200 p-4",children:w.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-700",children:[w.jsx(ua,{className:"w-5 h-5"}),w.jsx("span",{className:"font-medium",children:"Cette livraison a t valide"})]})})]})}function rp(){const{user:f,login:d,logout:g,loading:p}=_m(),[A,b]=xe.useState("loading"),[T,M]=xe.useState(null),[B,S]=xe.useState(null),[I,L]=xe.useState(null),[re,ue]=xe.useState(null),H=()=>{b(f?"menu":"login")},Z=async Ee=>{const Ge=await d(Ee);if(Ge.success)b("menu");else throw new Error(Ge.error)},fe=Ee=>{b(Ee)},Me=Ee=>{M(Ee),b("orderForm")},_e=Ee=>{L(Ee),b("selloutForm")},ce=()=>{M(null),b("menu")},Se=()=>{L(null),b("menu")},Ne=()=>{b("menu")},Ae=Ee=>{S(Ee),b("proposalDetail")},ee=()=>{S(null),b("proposalList")},Ue=Ee=>{ue(Ee),b("shipmentDetail")},ie=()=>{ue(null),b("shipmentList")},rt=()=>{g(),M(null),S(null),L(null),ue(null),b("login")};if(p)return w.jsx(v0,{onLoadComplete:()=>{}});const $e=()=>{switch(A){case"loading":return w.jsx(v0,{onLoadComplete:H});case"login":return w.jsx($i,{onLogin:Z});case"menu":return f?w.jsx(h3,{user:f,onNavigate:fe,onLogout:rt}):w.jsx($i,{onLogin:Z});case"clientSearch":return f?w.jsx(g3,{user:f,onClientSelect:Me,onBack:Ne,onLogout:rt}):w.jsx($i,{onLogin:Z});case"selloutClientSearch":return f?w.jsx(K3,{user:f,onClientSelect:_e,onBack:Ne,onLogout:rt}):w.jsx($i,{onLogin:Z});case"proposalList":return f?w.jsx(Y3,{user:f,onBack:Ne,onProposalSelect:Ae}):w.jsx($i,{onLogin:Z});case"proposalDetail":return f&&B?w.jsx(Q3,{proposalId:B,onBack:ee}):w.jsx($i,{onLogin:Z});case"selloutForm":return f&&I?w.jsx(J3,{user:f,client:I,onBack:Se}):w.jsx($i,{onLogin:Z});case"orderForm":return f&&T?w.jsx(V3,{user:f,client:T,onBack:ce}):w.jsx($i,{onLogin:Z});case"shipmentList":return f?w.jsx(tp,{user:f,onBack:Ne,onShipmentSelect:Ue}):w.jsx($i,{onLogin:Z});case"shipmentDetail":return f&&re?w.jsx(ip,{shipmentId:re,onBack:ie}):w.jsx($i,{onLogin:Z});default:return w.jsx(v0,{onLoadComplete:H})}};return w.jsx("div",{className:"font-sans",children:$e()})}function ap(){return w.jsx(Tm,{children:w.jsx(rp,{})})}Zg.createRoot(document.getElementById("root")).render(w.jsx(ap,{}));
