/*
  # Populate products table with complete catalog
  
  1. Updates
    - Update brand constraint to include D-CAP
    - Clear existing products to avoid conflicts
    - Insert all products with proper codes, names, brands, and HT prices
    
  2. Products Added
    - BUCCOTHERM products (18 items)
    - D-WHITE products (14 items) 
    - D-CAP products (20 items)
    - SENSILIS products (8 items)
    - CUMLAUDE products (5 items)
    - BABE products (6 items)
*/

-- First, update the brand constraint to include D-CAP
ALTER TABLE products 
DROP CONSTRAINT IF EXISTS products_brand_check,
ADD CONSTRAINT products_brand_check 
  CHECK (brand = ANY (ARRAY['D-WHITE'::text, 'D-CAP'::text, 'SENSILIS'::text, 'CUMLAUDE'::text, 'BABE'::text, 'BUCCOTHERM'::text]));

-- Clear any existing products to avoid conflicts
DELETE FROM products;

-- Insert all BUCCOTHERM products
INSERT INTO products (code, name, brand, price) VALUES
('3401526534913', 'BUCCOTHERM KIT PREMIÈRES DENTS 0-2 ANS CERTIFIÉ BIO 50ML', 'BUCCOTHERM', 56.25),
('3401526546398', 'BUCCOTHERM KIT DE VOYAGE ÉCOLOGIQUE SANS FLOUR 25ML', 'BUCCOTHERM', 40.00),
('3401543508140', 'BUCCOTHERM DENTIFRICE JUNIOR 7-12 ANS MENTHE DOUCE 50ML', 'BUCCOTHERM', 33.75),
('3401546415179', 'BUCCOTHERM BAUME PREMIÈRES DENTS 0-2 ANS CERTIFIÉ BIO 50ML', 'BUCCOTHERM', 36.75),
('3401560253740', 'BUCCOTHERM BAIN DE BOUCHE 300 ML', 'BUCCOTHERM', 60.75),
('3401576451482', 'BUCCOTHERM PREVENTION CARIES MENTHE', 'BUCCOTHERM', 47.25),
('3401576451543', 'BUCCOTHERM SPRAY DENTAIRE 100% NATUREL 200ML', 'BUCCOTHERM', 77.25),
('3401595815760', 'BUCCOTHERM GEL DENTIFRICE GENCIVES SENSIBLES SANS FLUOR 75ML', 'BUCCOTHERM', 45.75),
('3401599470729', 'BUCCOTHERM SPRAY BUCCAL LEAU THERMALE 15 ML', 'BUCCOTHERM', 43.75),
('3665313000009', 'BUCCOTHERM GEL DENTIFRICE GENCIVES SENSIBLES AVEC FLUOR 75ML', 'BUCCOTHERM', 45.75),
('3665313000016', 'BUCCOTHERM DENTIFRICE JUNIOR 7-12 ANS ICE TEA PÊCHE BIO 50ML', 'BUCCOTHERM', 37.50),
('3665313000184', 'BUCCOTHERM KIT FRAISE', 'BUCCOTHERM', 45.75),
('3665313000191', 'BUCCOTHERM KIT-ENFANT 7-12 ANS BIO GOÛT PÈCHE 50ML', 'BUCCOTHERM', 45.75),
('3665313000207', 'BUCCOTHERM DENTIFRICE BLANCHEUR & SOIN CERTIFIÉ BIO 75ML', 'BUCCOTHERM', 50.25),
('3665313000214', 'BUCCOTHERM CHARBON NOIR', 'BUCCOTHERM', 54.00),
('3665313000252', 'BUCCOTHERM KIT PREMIERES DENTS 0-2 ANS CERTFIER BIO', 'BUCCOTHERM', 60.00),
('3665313000306', 'BUCCOTHERM PREVENTION CARIES CITRON', 'BUCCOTHERM', 54.00),
('3665313000412', 'BUCCOTHERM KIT DE VOYAGE ÉCOLOGIQUE AU FLOUR 25ML', 'BUCCOTHERM', 38.25);

-- Insert all D-WHITE products
INSERT INTO products (code, name, brand, price) VALUES
('6111266710016', 'D-WHITE CRÈME DÉPIGMENTANTE 40ML', 'D-WHITE', 232.50),
('6111266710023', 'D-WHITE GEL SURGRAS 400 ML', 'D-WHITE', 148.50),
('6111266710030', 'D-WHITE PAIN EXFOLIANT CITRON PEAUX GRASSES 200G', 'D-WHITE', 73.50),
('6111266710047', 'D-WHITE PAIN EXFOLIANT ECLAIRCISSANT PEAUX SÈCHES 200G', 'D-WHITE', 73.50),
('6111266710054', 'D-WHITE CRÈME SOLAIRE SPF50+ INVISIBLE 50ML', 'D-WHITE', 157.50),
('6111266710061', 'D-WHITE CRÈME SOLAIRE SPF50+TEINTÉE CLAIR 50ML', 'D-WHITE', 161.25),
('6111266710062', 'D-WHITE CRÈME SOLAIRE SPF50+TEINTÉE 50ML', 'D-WHITE', 161.25),
('6111266710078', 'D-WHITE SOIN INTENSE PEAUX GRASSES 30ML', 'D-WHITE', 189.75),
('6111266710085', 'D-WHITE SÉRUM ANTI TACHES EXFOLIANT 30ML', 'D-WHITE', 270.00),
('6111266710092', 'D-WHITE CRÈME ÈCLAIRCISSANTE VISAGE & CORPS 400ML', 'D-WHITE', 250.83),
('6111266710443', 'D-WHITE CREME MAIN PROTECTRICE SPF15 50ML', 'D-WHITE', 97.50),
('6111266710450', 'D-WHITE LAIT SOLAIRE HYDRATANT SPF 50C+200ML', 'D-WHITE', 165.00),
('6111266710467', 'D-WHITE SPRAY SOLAIRE BIPHASIQUE SPF50 200ML', 'D-WHITE', 180.00),
('6111266710474', 'DW CRÈME SOLAIRE TEINTEE MEDIUM SPF50+ 50 ML', 'D-WHITE', 161.25);

-- Insert all D-CAP products
INSERT INTO products (code, name, brand, price) VALUES
('6111266710108', 'D-CAP CURLY APRES SHAMPOOING CHEVEUX BOUCLES 250 ML', 'D-CAP', 169.50),
('6111266710115', 'D-CAP REPARATION APRES SHAMPOOING TOTALE CHEVEUX ABIMES 250 ML', 'D-CAP', 173.25),
('6111266710122', 'D-CAP CURLY BOOSTER CHEVEUX BOUCLES 200 ML', 'D-CAP', 173.25),
('6111266710139', 'D-CAP CURLY GIRL METHODE MASQUE 200ML', 'D-CAP', 189.75),
('6111266710146', 'D-CAP REPARATION MASQUE TOTALE CHEVEUX ABIMES 250 ML', 'D-CAP', 181.50),
('6111266710153', 'D-CAP CURLY GIRL METHOD SÉRUM 30 ML', 'D-CAP', 206.25),
('6111266710160', 'D-CAP REPARATION SERUM TOTALE CHEVEUX ABIMES 100 ML', 'D-CAP', 189.75),
('6111266710177', 'D-CAP CURLY SHAMPOOING CHEVEUX BOUCLES 250 ML', 'D-CAP', 169.50),
('6111266710191', 'D-CAP REPARATION SHAMPOOING TOTALE CHEVEUX ABIMES 250 ML', 'D-CAP', 144.75),
('6111266710207', 'D-CAP ANTI-PELLICULAIRE SHAMPOOING CHEVEUX SECS 250ML', 'D-CAP', 123.75),
('6111266710214', 'D-CAP ANTI-PELLICULAIRE SHAMPOOING CHEVEUX GRAS 250ML', 'D-CAP', 123.75),
('6111266710221', 'D-CAP ANTI-PELLICULAIRE APRÈS-SHAMPOOING 250ML', 'D-CAP', 103.50),
('6111266710238', 'D-CAP ANTI-PELLICULAIRE SÉRUM HYDRATANT 50ML', 'D-CAP', 115.50),
('6111266710245', 'D-CAP SHAMPOOING TRAITEMENT INTENSIF ANTI-CHUTE 250 ML', 'D-CAP', 120.00),
('6111266710252', 'D-CAP LOTION TRAITEMENT INTENSIF ANTI-CHUTE 100 ML', 'D-CAP', 288.75),
('6111266710269', 'D-CAP AMPOULES TRAITEMENT INTENSIF ANTI-CHUTE 12 X 10 ML', 'D-CAP', 330.00),
('6111266710276', 'D-CAP PROTECTION SPRAY SOLAIRE CAPILLAIRE', 'D-CAP', 163.50),
('6111266710405', 'D-CAP SHAMPOOING PROTECTEUR COULEUR 250ML', 'D-CAP', 129.00),
('6111266710429', 'D-CAP MASQUE PROTECTEUR COULEUR 200ML', 'D-CAP', 144.75),
('6111266710528', 'D-CAP COFFRET BIOPLEX POUR RÉPARER LES CHEVEUX', 'D-CAP', 633.33);

-- Insert all SENSILIS products
INSERT INTO products (code, name, brand, price) VALUES
('8428749003205', 'SENSILIS HYDRACTION PROTECTIVE LIPSTICK 4G', 'SENSILIS', 57.75),
('8428749574705', 'SENSILIS SKIN DELIGHT CRÈME DE JOUR VIT C SPF15 50ML', 'SENSILIS', 388.50),
('8428749575603', 'SENSILIS SKIN DELIGHT DÉLICE DE LA PEAU PEELING 75ML', 'SENSILIS', 296.25),
('8428749666301', 'SENSILIS ORIGIN PRO EGF-5 CREAM 50ML', 'SENSILIS', 833.25),
('8428749666400', 'SENSILIS ORIGIN PRO EGF-5 SÉRUM ANTI-AGE 30ML', 'SENSILIS', 1009.50),
('8428749666509', 'SENSILIS ORIGIN PRO EGF-5 CONTOUR DES YEUX 15ML', 'SENSILIS', 453.75),
('8428749666905', 'SENSILIS B-RESPECT CALMING DAY FLUID SPF15 50ML', 'SENSILIS', 249.00),
('8428749728009', 'SENSILIS SKIN DELIGHT AMPOULES VIT C 15X1.5ML', 'SENSILIS', 296.25);

-- Insert all CUMLAUDE products
INSERT INTO products (code, name, brand, price) VALUES
('8428749534105', 'CUMLAUDE LAB HYDRATANT EXTERNE 30ML', 'CUMLAUDE', 79.50),
('8428749534600', 'CUMLAUDE LAB HYDRATANT EXTERNE CLX 30ML', 'CUMLAUDE', 123.75),
('8428749534808', 'CUMLAUDE LAB HYGIÈNE INTIME CLX MOUSSE 200ML', 'CUMLAUDE', 95.25),
('8428749535805', 'CUMLAUDE LAB MUCUS GEL 30ML', 'CUMLAUDE', 95.25),
('8428749536000', 'CUMLAUDE HYDRATANT INTERNE GEL-CRÈME 6X5ML', 'CUMLAUDE', 123.75);

-- Insert all BABE products
INSERT INTO products (code, name, brand, price) VALUES
('8436571630346', 'BABE AMPOULES PROTÉOGLYCANES F+F 2X2ML', 'BABE', 54.45),
('8436571630360', 'BABE VITAMINE C+ AMPOULES 2 UNITÉS X 2 ML', 'BABE', 54.45),
('8436571631572', 'BABE SUPER FLUID PHOTOPROTECTEUR MATIFIANT SPF50 50ML', 'BABE', 154.50),
('8436571631985', 'BABE LOTION GLOW ACELERATOR 150 ML BABE', 'BABE', 246.75),
('8436571631992', 'BABE FLUID DESPIGMENTANTE 40 ML', 'BABE', 294.00),
('8436571632005', 'BABE SERUM DESPIGMENTANTE FORTE 30 ML', 'BABE', 309.75);

-- Add comment to track this population
COMMENT ON TABLE products IS 'Products table populated with complete catalog including codes, names, brands, and HT prices';